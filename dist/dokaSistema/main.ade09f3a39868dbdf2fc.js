(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(n,e,t){n.exports=t("zUnb")},"6Joi":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,r=(l=t("wj3C"))&&"object"==typeof l&&"default"in l?l.default:l,i=t("q/0M"),o=t("mrSG"),u=t("x7I3"),a=t("zVF4"),s=r.SDK_VERSION,c=new i.Logger("@firebase/firestore"),h=function(n){return n[n.DEBUG=0]="DEBUG",n[n.ERROR=1]="ERROR",n[n.SILENT=2]="SILENT",n}({});function d(){return c.logLevel===i.LogLevel.DEBUG?h.DEBUG:c.logLevel===i.LogLevel.SILENT?h.SILENT:h.ERROR}function p(n){switch(n){case h.DEBUG:c.logLevel=i.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=i.LogLevel.ERROR;break;case h.SILENT:c.logLevel=i.LogLevel.SILENT;break;default:c.error("Firestore ("+s+"): Invalid value passed to `setLogLevel`")}}function f(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];if(c.logLevel<=i.LogLevel.DEBUG){var r=t.map(g);c.debug.apply(c,["Firestore ("+s+") ["+n+"]: "+e].concat(r))}}function m(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(c.logLevel<=i.LogLevel.ERROR){var l=e.map(g);c.error.apply(c,["Firestore ("+s+"): "+n].concat(l))}}function g(n){if("string"==typeof n)return n;var e=b.getPlatform();try{return e.formatJSON(n)}catch(t){return n}}function y(n){var e="FIRESTORE ("+s+") INTERNAL ASSERTION FAILED: "+n;throw m(e),new Error(e)}function v(n,e){n||y(e)}var b=function(){function n(){}return n.setPlatform=function(e){n.platform&&y("Platform already defined"),n.platform=e},n.getPlatform=function(){return n.platform||y("Platform not set"),n.platform},n}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(n){function e(e,t){var l=n.call(this,t)||this;return l.code=e,l.message=t,l.name="FirebaseError",l.toString=function(){return l.name+": [code="+l.code+"]: "+l.message},l}return o.__extends(e,n),e}(Error);function E(n,e){function t(){var n="This constructor is private.";throw e&&(n+=" ",n+=e),new C(w.INVALID_ARGUMENT,n)}for(var l in t.prototype=n.prototype,n)n.hasOwnProperty(l)&&(t[l]=n[l]);return t}function S(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function T(n,e){return void 0!==n?n:e}function I(n,e){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var l=Number(t);isNaN(l)||e(l,n[t])}}function k(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A(n){for(var e in v(null!=n&&"object"==typeof n,"isEmpty() expects object parameter."),n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function D(n,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() does not support arguments, but was called with "+H(e.length,"argument")+".")}function x(n,e,t){if(e.length!==t)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires "+H(t,"argument")+", but was called with "+H(e.length,"argument")+".")}function N(n,e,t){if(e.length<t)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires at least "+H(t,"argument")+", but was called with "+H(e.length,"argument")+".")}function O(n,e,t,l){if(e.length<t||e.length>l)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires between "+t+" and "+l+" arguments, but was called with "+H(e.length,"argument")+".")}function R(n,e,t,l){U(n,e,z(t)+" argument",l)}function P(n,e,t,l){void 0!==l&&R(n,e,t,l)}function M(n,e,t,l){U(n,e,t+" option",l)}function L(n,e,t,l){void 0!==l&&M(n,e,t,l)}function V(n,e,t,l,r){void 0!==l&&function(n,e,t,l,r){for(var i=[],o=0,u=r;o<u.length;o++){var a=u[o];if(a===l)return;i.push(F(a))}var s=F(l);throw new C(w.INVALID_ARGUMENT,"Invalid value "+s+" provided to function "+n+'() for option "'+t+'". Acceptable values: '+i.join(", "))}(n,0,t,l,r)}function U(n,e,t,l){if(!("object"===e?q(l):"non-empty string"===e?"string"==typeof l&&""!==l:typeof l===e)){var r=F(l);throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires its "+t+" to be of type "+e+", but it was: "+r)}}function q(n){return"object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n))}function F(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";var e=function(n){if(n.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(e&&e.length>1)return e[1]}return null}(n);return e?"a custom "+e+" object":"an object"}return"function"==typeof n?"a function":y("Unknown wrong type: "+typeof n)}function j(n,e,t){if(void 0===t)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires a valid "+z(e)+" argument, but it was undefined.")}function B(n,e,t){k(e,function(e,l){if(t.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+n+"(). Available options: "+t.join(", "))})}function K(n,e,t,l){var r=F(l);return new C(w.INVALID_ARGUMENT,"Function "+n+"() requires its "+z(t)+" argument to be a "+e+", but it was: "+r)}function z(n){switch(n){case 1:return"first";case 2:return"second";case 3:return"third";default:return n+"th"}}function H(n,e){return n+" "+e+(1===n?"":"s")}var W=function(){function n(){}return n.newId=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",t=0;t<20;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return v(20===e.length,"Invalid auto ID: "+e),e},n}();function G(n,e){return n<e?-1:n>e?1:0}function Q(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!n[t].isEqual(e[t]))return!1;return!0}function X(n){return n+"\0"}function Y(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $(){if(!b.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z=function(){function n(n){$(),this._binaryString=n}return n.fromBase64String=function(e){x("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),$();try{return new n(b.getPlatform().atob(e))}catch(t){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},n.fromUint8Array=function(e){if(x("Blob.fromUint8Array",arguments,1),Y(),!(e instanceof Uint8Array))throw K("Blob.fromUint8Array","Uint8Array",1,e);return new n(Array.prototype.map.call(e,function(n){return String.fromCharCode(n)}).join(""))},n.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),$(),b.getPlatform().btoa(this._binaryString)},n.prototype.toUint8Array=function(){x("Blob.toUint8Array",arguments,0),Y();for(var n=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)n[e]=this._binaryString.charCodeAt(e);return n},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n.prototype.isEqual=function(n){return this._binaryString===n._binaryString},n.prototype._compareTo=function(n){return G(this._binaryString,n._binaryString)},n}(),J=E(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),nn=function(){function n(n,e){if(x("GeoPoint",arguments,2),R("GeoPoint","number",1,n),R("GeoPoint","number",2,e),!isFinite(n)||n<-90||n>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=n,this._long=e}return Object.defineProperty(n.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(n){return this._lat===n._lat&&this._long===n._long},n.prototype._compareTo=function(n){return G(this._lat,n._lat)||G(this._long,n._long)},n}(),en=function(){function n(n,e){if(this.seconds=n,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(n<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}return n.now=function(){return n.fromMillis(Date.now())},n.fromDate=function(e){return n.fromMillis(e.getTime())},n.fromMillis=function(e){var t=Math.floor(e/1e3);return new n(t,1e6*(e-1e3*t))},n.prototype.toDate=function(){return new Date(this.toMillis())},n.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},n.prototype._compareTo=function(n){return this.seconds===n.seconds?G(this.nanoseconds,n.nanoseconds):G(this.seconds,n.seconds)},n.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},n.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},n}(),tn=function(){return function(n,e,t,l,r){this.databaseId=n,this.persistenceKey=e,this.host=t,this.ssl=l,this.forceLongPolling=r}}(),ln="(default)",rn=function(){function n(n,e){this.projectId=n,this.database=e||ln}return Object.defineProperty(n.prototype,"isDefaultDatabase",{get:function(){return this.database===ln},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database},n.prototype.compareTo=function(n){return G(this.projectId,n.projectId)||G(this.database,n.database)},n}(),on=function(){function n(n,e,t){this.init(n,e,t)}return n.prototype.init=function(n,e,t){void 0===e?e=0:e>n.length&&y("offset "+e+" out of range "+n.length),void 0===t?t=n.length-e:t>n.length-e&&y("length "+t+" out of range "+(n.length-e)),this.segments=n,this.offset=e,this.len=t},n.prototype.construct=function(n,e,t){var l=Object.create(Object.getPrototypeOf(this));return l.init(n,e,t),l},Object.defineProperty(n.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){return 0===n.comparator(this,e)},n.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(function(n){t.push(n)}):"string"==typeof e?t.push(e):y("Unknown parameter type for Path.child(): "+e),this.construct(t)},n.prototype.limit=function(){return this.offset+this.length},n.prototype.popFirst=function(n){return v(this.length>=(n=void 0===n?1:n),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+n,this.length-n)},n.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},n.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},n.prototype.lastSegment=function(){return this.get(this.length-1)},n.prototype.get=function(n){return v(n<this.length,"Index out of range"),this.segments[this.offset+n]},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isPrefixOf=function(n){if(n.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0},n.prototype.isImmediateParentOf=function(n){if(this.length+1!==n.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==n.get(e))return!1;return!0},n.prototype.forEach=function(n){for(var e=this.offset,t=this.limit();e<t;e++)n(this.segments[e])},n.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},n.comparator=function(n,e){for(var t=Math.min(n.length,e.length),l=0;l<t;l++){var r=n.get(l),i=e.get(l);if(r<i)return-1;if(r>i)return 1}return n.length<e.length?-1:n.length>e.length?1:0},n}(),un=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return o.__extends(e,n),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(n){if(n.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+n+"). Paths must not contain // in them.");return new e(n.split("/").filter(function(n){return n.length>0}))},e.EMPTY_PATH=new e([]),e}(on),an=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return o.__extends(e,n),e.isValidIdentifier=function(n){return an.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var t=[],l="",r=0,i=function(){if(0===l.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(l),l=""},o=!1;r<n.length;){var u=n[r];if("\\"===u){if(r+1===n.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var a=n[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=a,r+=2}else"`"===u?(o=!o,r++):"."!==u||o?(l+=u,r++):(i(),r++)}if(i(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(t)},e.EMPTY_PATH=new e([]),e}(on),cn=function(){function n(e){this.path=e,v(n.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return n.prototype.hasCollectionId=function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n},n.prototype.isEqual=function(n){return null!==n&&0===un.comparator(this.path,n.path)},n.prototype.toString=function(){return this.path.toString()},n.comparator=function(n,e){return un.comparator(n.path,e.path)},n.isDocumentKey=function(n){return n.length%2==0},n.fromSegments=function(e){return new n(new un(e.slice()))},n.fromPathString=function(e){return new n(un.fromString(e))},n.EMPTY=new n(new un([])),n}(),hn=function(){function n(n,e){this.key=n,this.version=e}return n.compareByKey=function(n,e){return cn.comparator(n.key,e.key)},n}(),dn=function(n){function e(e,t,l,r,i){var o=n.call(this,e,t)||this;return o.data=l,o.proto=i,o.hasLocalMutations=!!r.hasLocalMutations,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return o.__extends(e,n),e.prototype.field=function(n){return this.data.field(n)},e.prototype.fieldValue=function(n){var e=this.field(n);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.data.isEqual(n.data)&&this.hasLocalMutations===n.hasLocalMutations&&this.hasCommittedMutations===n.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(n,e,t){var l=e.field(n),r=t.field(n);return void 0!==l&&void 0!==r?l.compareTo(r):y("Trying to compare documents on fields that don't exist")},e}(hn),pn=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.hasCommittedMutations=!(!l||!l.hasCommittedMutations),r}return o.__extends(e,n),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(hn),fn=function(n){function e(e,t){return n.call(this,e,t)||this}return o.__extends(e,n),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(hn),mn=function(){function n(n,e){this.comparator=n,this.root=e||yn.EMPTY}return n.prototype.insert=function(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))},n.prototype.remove=function(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))},n.prototype.get=function(n){for(var e=this.root;!e.isEmpty();){var t=this.comparator(n,e.key);if(0===t)return e.value;t<0?e=e.left:t>0&&(e=e.right)}return null},n.prototype.indexOf=function(n){for(var e=0,t=this.root;!t.isEmpty();){var l=this.comparator(n,t.key);if(0===l)return e+t.left.size;l<0?t=t.left:(e+=t.left.size+1,t=t.right)}return-1},n.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(n.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),n.prototype.minKey=function(){return this.root.minKey()},n.prototype.maxKey=function(){return this.root.maxKey()},n.prototype.inorderTraversal=function(n){return this.root.inorderTraversal(n)},n.prototype.forEach=function(n){this.inorderTraversal(function(e,t){return n(e,t),!1})},n.prototype.toString=function(){var n=[];return this.inorderTraversal(function(e,t){return n.push(e+":"+t),!1}),"{"+n.join(", ")+"}"},n.prototype.reverseTraversal=function(n){return this.root.reverseTraversal(n)},n.prototype.getIterator=function(){return new gn(this.root,null,this.comparator,!1)},n.prototype.getIteratorFrom=function(n){return new gn(this.root,n,this.comparator,!1)},n.prototype.getReverseIterator=function(){return new gn(this.root,null,this.comparator,!0)},n.prototype.getReverseIteratorFrom=function(n){return new gn(this.root,n,this.comparator,!0)},n}(),gn=function(){function n(n,e,t,l){this.isReverse=l,this.nodeStack=[];for(var r=1;!n.isEmpty();)if(r=e?t(n.key,e):1,l&&(r*=-1),r<0)n=this.isReverse?n.left:n.right;else{if(0===r){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}return n.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var n=this.nodeStack.pop(),e={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return e},n.prototype.hasNext=function(){return this.nodeStack.length>0},n.prototype.peek=function(){if(0===this.nodeStack.length)return null;var n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}},n}(),yn=function(){function n(e,t,l,r,i){this.key=e,this.value=t,this.color=null!=l?l:n.RED,this.left=null!=r?r:n.EMPTY,this.right=null!=i?i:n.EMPTY,this.size=this.left.size+1+this.right.size}return n.prototype.copy=function(e,t,l,r,i){return new n(null!=e?e:this.key,null!=t?t:this.value,null!=l?l:this.color,null!=r?r:this.left,null!=i?i:this.right)},n.prototype.isEmpty=function(){return!1},n.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)},n.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},n.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},n.prototype.minKey=function(){return this.min().key},n.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},n.prototype.insert=function(n,e,t){var l=this,r=t(n,l.key);return(l=r<0?l.copy(null,null,null,l.left.insert(n,e,t),null):0===r?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(n,e,t))).fixUp()},n.prototype.removeMin=function(){if(this.left.isEmpty())return n.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},n.prototype.remove=function(e,t){var l,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return n.EMPTY;l=r.right.min(),r=r.copy(l.key,l.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},n.prototype.isRed=function(){return this.color},n.prototype.fixUp=function(){var n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n},n.prototype.moveRedLeft=function(){var n=this.colorFlip();return n.right.left.isRed()&&(n=(n=(n=n.copy(null,null,null,null,n.right.rotateRight())).rotateLeft()).colorFlip()),n},n.prototype.moveRedRight=function(){var n=this.colorFlip();return n.left.left.isRed()&&(n=(n=n.rotateRight()).colorFlip()),n},n.prototype.rotateLeft=function(){var e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},n.prototype.rotateRight=function(){var e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},n.prototype.colorFlip=function(){var n=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,e)},n.prototype.checkMaxDepth=function(){var n=this.check();return Math.pow(2,n)<=this.size+1},n.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var n=this.left.check();if(n!==this.right.check())throw y("Black depths differ");return n+(this.isRed()?0:1)},n.EMPTY=null,n.RED=!0,n.BLACK=!1,n}(),vn=function(){function n(){this.size=0}return n.prototype.copy=function(n,e,t,l,r){return this},n.prototype.insert=function(n,e,t){return new yn(n,e)},n.prototype.remove=function(n,e){return this},n.prototype.isEmpty=function(){return!0},n.prototype.inorderTraversal=function(n){return!1},n.prototype.reverseTraversal=function(n){return!1},n.prototype.minKey=function(){return null},n.prototype.maxKey=function(){return null},n.prototype.isRed=function(){return!1},n.prototype.checkMaxDepth=function(){return!0},n.prototype.check=function(){return 0},n}();yn.EMPTY=new vn;var bn=function(n){return n[n.NullValue=0]="NullValue",n[n.BooleanValue=1]="BooleanValue",n[n.NumberValue=2]="NumberValue",n[n.TimestampValue=3]="TimestampValue",n[n.StringValue=4]="StringValue",n[n.BlobValue=5]="BlobValue",n[n.RefValue=6]="RefValue",n[n.GeoPointValue=7]="GeoPointValue",n[n.ArrayValue=8]="ArrayValue",n[n.ObjectValue=9]="ObjectValue",n}({}),_n=function(n){return n[n.Default=0]="Default",n[n.Estimate=1]="Estimate",n[n.Previous=2]="Previous",n}({}),wn=function(){function n(n,e){this.serverTimestampBehavior=n,this.timestampsInSnapshots=e}return n.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new n(_n.Estimate,t);case"previous":return new n(_n.Previous,t);case"none":case void 0:return new n(_n.Default,t);default:return y("fromSnapshotOptions() called with invalid options.")}},n}(),Cn=function(){function n(){}return n.prototype.toString=function(){var n=this.value();return null===n?"null":n.toString()},n.prototype.defaultCompareTo=function(n){return v(this.typeOrder!==n.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,n.typeOrder)},n}(),En=function(n){function e(){var e=n.call(this)||this;return e.typeOrder=bn.NullValue,e.internalValue=null,e}return o.__extends(e,n),e.prototype.value=function(n){return null},e.prototype.isEqual=function(n){return n instanceof e},e.prototype.compareTo=function(n){return n instanceof e?0:this.defaultCompareTo(n)},e.INSTANCE=new e,e}(Cn),Sn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.BooleanValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue},e.prototype.isEqual=function(n){return n instanceof e&&this.internalValue===n.internalValue},e.prototype.compareTo=function(n){return n instanceof e?G(this,n):this.defaultCompareTo(n)},e.of=function(n){return n?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Cn),Tn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.NumberValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue},e.prototype.compareTo=function(n){return n instanceof e?(t=this.internalValue)<(l=n.internalValue)?-1:t>l?1:t===l?0:isNaN(t)?isNaN(l)?0:-1:1:this.defaultCompareTo(n);var t,l},e}(Cn);function In(n,e){return n===e?0!==n||1/n==1/e:n!=n&&e!=e}var kn=function(n){function e(e){return n.call(this,e)||this}return o.__extends(e,n),e.prototype.isEqual=function(n){return n instanceof e&&In(this.internalValue,n.internalValue)},e}(Tn),An=function(n){function e(e){var t=n.call(this,e)||this;return t.internalValue=e,t}return o.__extends(e,n),e.prototype.isEqual=function(n){return n instanceof e&&In(this.internalValue,n.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Tn),Dn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.StringValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue},e.prototype.isEqual=function(n){return n instanceof e&&this.internalValue===n.internalValue},e.prototype.compareTo=function(n){return n instanceof e?G(this.internalValue,n.internalValue):this.defaultCompareTo(n)},e}(Cn),xn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.TimestampValue,t}return o.__extends(e,n),e.prototype.value=function(n){return!n||n.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(n){return n instanceof e&&this.internalValue.isEqual(n.internalValue)},e.prototype.compareTo=function(n){return n instanceof e?this.internalValue._compareTo(n.internalValue):n instanceof Nn?-1:this.defaultCompareTo(n)},e}(Cn),Nn=function(n){function e(e,t){var l=n.call(this)||this;return l.localWriteTime=e,l.previousValue=t,l.typeOrder=bn.TimestampValue,l}return o.__extends(e,n),e.prototype.value=function(n){return n&&n.serverTimestampBehavior===_n.Estimate?new xn(this.localWriteTime).value(n):n&&n.serverTimestampBehavior===_n.Previous&&this.previousValue?this.previousValue.value(n):null},e.prototype.isEqual=function(n){return n instanceof e&&this.localWriteTime.isEqual(n.localWriteTime)},e.prototype.compareTo=function(n){return n instanceof e?this.localWriteTime._compareTo(n.localWriteTime):n instanceof xn?1:this.defaultCompareTo(n)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Cn),On=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.BlobValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue},e.prototype.isEqual=function(n){return n instanceof e&&this.internalValue.isEqual(n.internalValue)},e.prototype.compareTo=function(n){return n instanceof e?this.internalValue._compareTo(n.internalValue):this.defaultCompareTo(n)},e}(Cn),Rn=function(n){function e(e,t){var l=n.call(this)||this;return l.databaseId=e,l.key=t,l.typeOrder=bn.RefValue,l}return o.__extends(e,n),e.prototype.value=function(n){return this.key},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.databaseId.isEqual(n.databaseId)},e.prototype.compareTo=function(n){if(n instanceof e){var t=this.databaseId.compareTo(n.databaseId);return 0!==t?t:cn.comparator(this.key,n.key)}return this.defaultCompareTo(n)},e}(Cn),Pn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.GeoPointValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue},e.prototype.isEqual=function(n){return n instanceof e&&this.internalValue.isEqual(n.internalValue)},e.prototype.compareTo=function(n){return n instanceof e?this.internalValue._compareTo(n.internalValue):this.defaultCompareTo(n)},e}(Cn),Mn=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.ObjectValue,t}return o.__extends(e,n),e.prototype.value=function(n){var e={};return this.internalValue.inorderTraversal(function(t,l){e[t]=l.value(n)}),e},e.prototype.forEach=function(n){this.internalValue.inorderTraversal(n)},e.prototype.isEqual=function(n){if(n instanceof e){for(var t=this.internalValue.getIterator(),l=n.internalValue.getIterator();t.hasNext()&&l.hasNext();){var r=t.getNext(),i=l.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!t.hasNext()&&!l.hasNext()}return!1},e.prototype.compareTo=function(n){if(n instanceof e){for(var t=this.internalValue.getIterator(),l=n.internalValue.getIterator();t.hasNext()&&l.hasNext();){var r=t.getNext(),i=l.getNext(),o=G(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return G(t.hasNext(),l.hasNext())}return this.defaultCompareTo(n)},e.prototype.set=function(n,t){if(v(!n.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===n.length)return this.setChild(n.firstSegment(),t);var l=this.child(n.firstSegment());l instanceof e||(l=e.EMPTY);var r=l.set(n.popFirst(),t);return this.setChild(n.firstSegment(),r)},e.prototype.delete=function(n){if(v(!n.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===n.length)return new e(this.internalValue.remove(n.firstSegment()));var t=this.child(n.firstSegment());if(t instanceof e){var l=t.delete(n.popFirst());return new e(this.internalValue.insert(n.firstSegment(),l))}return this},e.prototype.contains=function(n){return void 0!==this.field(n)},e.prototype.field=function(n){v(!n.isEmpty(),"Can't get field of empty path");var t=this;return n.forEach(function(n){t=t instanceof e&&t.internalValue.get(n)||void 0}),t},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(n){return this.internalValue.get(n)||void 0},e.prototype.setChild=function(n,t){return new e(this.internalValue.insert(n,t))},e.EMPTY=new e(new mn(G)),e}(Cn),Ln=function(n){function e(e){var t=n.call(this)||this;return t.internalValue=e,t.typeOrder=bn.ArrayValue,t}return o.__extends(e,n),e.prototype.value=function(n){return this.internalValue.map(function(e){return e.value(n)})},e.prototype.forEach=function(n){this.internalValue.forEach(n)},e.prototype.isEqual=function(n){if(n instanceof e){if(this.internalValue.length!==n.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(n.internalValue[t]))return!1;return!0}return!1},e.prototype.compareTo=function(n){if(n instanceof e){for(var t=Math.min(this.internalValue.length,n.internalValue.length),l=0;l<t;l++){var r=this.internalValue[l].compareTo(n.internalValue[l]);if(r)return r}return G(this.internalValue.length,n.internalValue.length)}return this.defaultCompareTo(n)},e.prototype.toString=function(){return"["+this.internalValue.map(function(n){return n.toString()}).join(",")+"]"},e}(Cn),Vn=Number,Un=Vn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),qn=Vn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Fn=Vn.isInteger||function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n};function jn(n){return null==n}function Bn(n){return Fn(n)&&n<=qn&&n>=Un}var Kn=function(){function n(n,e,t,l,r,i,o){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===l&&(l=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=n,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=l,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return n.atPath=function(e){return new n(e)},Object.defineProperty(n.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var n=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==n&&null===e)this.memoizedOrderBy=n.isKeyField()?[Zn]:[new $n(n),Zn];else{v(null===n||null!==e&&n.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var t=!1,l=0,r=this.explicitOrderBy;l<r.length;l++){var i=r[l];this.memoizedOrderBy.push(i),i.field.isKeyField()&&(t=!0)}t||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Xn.ASCENDING)===Xn.ASCENDING?Zn:Jn)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),n.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Wn)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new n(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},n.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new n(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},n.prototype.withLimit=function(e){return new n(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},n.prototype.withStartAt=function(e){return new n(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},n.prototype.withEndAt=function(e){return new n(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},n.prototype.asCollectionQueryAtPath=function(e){return new n(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},n.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var n=this.path.canonicalString();this.isCollectionGroupQuery()&&(n+="|cg:"+this.collectionGroup),n+="|f:";for(var e=0,t=this.filters;e<t.length;e++)n+=t[e].canonicalId(),n+=",";n+="|ob:";for(var l=0,r=this.orderBy;l<r.length;l++)n+=r[l].canonicalId(),n+=",";jn(this.limit)||(n+="|l:",n+=this.limit),this.startAt&&(n+="|lb:",n+=this.startAt.canonicalId()),this.endAt&&(n+="|ub:",n+=this.endAt.canonicalId()),this.memoizedCanonicalId=n}return this.memoizedCanonicalId},n.prototype.toString=function(){var n="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(n+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(n+=", filters: ["+this.filters.join(", ")+"]"),jn(this.limit)||(n+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(n+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(n+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(n+=", endAt: "+this.endAt.canonicalId()),n+")"},n.prototype.isEqual=function(n){if(this.limit!==n.limit)return!1;if(this.orderBy.length!==n.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(n.orderBy[e]))return!1;if(this.filters.length!==n.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(n.filters[e]))return!1;return this.collectionGroup===n.collectionGroup&&!!this.path.isEqual(n.path)&&!(null!==this.startAt?!this.startAt.isEqual(n.startAt):null!==n.startAt)&&(null!==this.endAt?this.endAt.isEqual(n.endAt):null===n.endAt)},n.prototype.docComparator=function(n,e){for(var t=!1,l=0,r=this.orderBy;l<r.length;l++){var i=r[l],o=i.compare(n,e);if(0!==o)return o;t=t||i.field.isKeyField()}return v(t,"orderBy used that doesn't compare on key field"),0},n.prototype.matches=function(n){return this.matchesPathAndCollectionGroup(n)&&this.matchesOrderBy(n)&&this.matchesFilters(n)&&this.matchesBounds(n)},n.prototype.hasLimit=function(){return!jn(this.limit)},n.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},n.prototype.getInequalityFilterField=function(){for(var n=0,e=this.filters;n<e.length;n++){var t=e[n];if(t instanceof Wn&&t.isInequality())return t.field}return null},n.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(n){return n instanceof Wn&&n.op===Hn.ARRAY_CONTAINS})},n.prototype.isDocumentQuery=function(){return cn.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},n.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},n.prototype.matchesPathAndCollectionGroup=function(n){var e=n.key.path;return null!==this.collectionGroup?n.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):cn.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},n.prototype.matchesOrderBy=function(n){for(var e=0,t=this.explicitOrderBy;e<t.length;e++){var l=t[e];if(!l.field.isKeyField()&&void 0===n.field(l.field))return!1}return!0},n.prototype.matchesFilters=function(n){for(var e=0,t=this.filters;e<t.length;e++)if(!t[e].matches(n))return!1;return!0},n.prototype.matchesBounds=function(n){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,n)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,n))},n.prototype.assertValidBound=function(n){v(n.position.length<=this.orderBy.length,"Bound is longer than orderBy")},n}(),zn=function(){function n(){}return n.create=function(n,e,t){if(t.isEqual(En.INSTANCE)){if(e!==Hn.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Gn(n)}if(t.isEqual(An.NAN)){if(e!==Hn.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Qn(n)}return new Wn(n,e,t)},n}(),Hn=function(){function n(n){this.name=n}return n.fromString=function(e){switch(e){case"<":return n.LESS_THAN;case"<=":return n.LESS_THAN_OR_EQUAL;case"==":return n.EQUAL;case">=":return n.GREATER_THAN_OR_EQUAL;case">":return n.GREATER_THAN;case"array-contains":return n.ARRAY_CONTAINS;default:return y("Unknown relation: "+e)}},n.prototype.toString=function(){return this.name},n.prototype.isEqual=function(n){return this.name===n.name},n.LESS_THAN=new n("<"),n.LESS_THAN_OR_EQUAL=new n("<="),n.EQUAL=new n("=="),n.GREATER_THAN=new n(">"),n.GREATER_THAN_OR_EQUAL=new n(">="),n.ARRAY_CONTAINS=new n("array-contains"),n}(),Wn=function(n){function e(e,t,l){var r=n.call(this)||this;return r.field=e,r.op=t,r.value=l,r}return o.__extends(e,n),e.prototype.matches=function(n){if(this.field.isKeyField()){v(this.value instanceof Rn,"Comparing on key, but filter value not a RefValue"),v(this.op!==Hn.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=cn.comparator(n.key,this.value.key);return this.matchesComparison(e)}var t=n.field(this.field);return void 0!==t&&this.matchesValue(t)},e.prototype.matchesValue=function(n){var e=this;return this.op===Hn.ARRAY_CONTAINS?n instanceof Ln&&void 0!==n.internalValue.find(function(n){return n.isEqual(e.value)}):this.value.typeOrder===n.typeOrder&&this.matchesComparison(n.compareTo(this.value))},e.prototype.matchesComparison=function(n){switch(this.op){case Hn.LESS_THAN:return n<0;case Hn.LESS_THAN_OR_EQUAL:return n<=0;case Hn.EQUAL:return 0===n;case Hn.GREATER_THAN:return n>0;case Hn.GREATER_THAN_OR_EQUAL:return n>=0;default:return y("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Hn.EQUAL&&this.op!==Hn.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(n){return n instanceof e&&this.op.isEqual(n.op)&&this.field.isEqual(n.field)&&this.value.isEqual(n.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zn),Gn=function(n){function e(e){var t=n.call(this)||this;return t.field=e,t}return o.__extends(e,n),e.prototype.matches=function(n){var e=n.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(n){return n instanceof e&&this.field.isEqual(n.field)},e}(zn),Qn=function(n){function e(e){var t=n.call(this)||this;return t.field=e,t}return o.__extends(e,n),e.prototype.matches=function(n){var e=n.field(this.field),t=e&&e.value();return"number"==typeof t&&isNaN(t)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(n){return n instanceof e&&this.field.isEqual(n.field)},e}(zn),Xn=function(){function n(n){this.name=n}return n.prototype.toString=function(){return this.name},n.ASCENDING=new n("asc"),n.DESCENDING=new n("desc"),n}(),Yn=function(){function n(n,e){this.position=n,this.before=e}return n.prototype.canonicalId=function(){for(var n=this.before?"b:":"a:",e=0,t=this.position;e<t.length;e++)n+=t[e].toString();return n},n.prototype.sortsBeforeDocument=function(n,e){v(this.position.length<=n.length,"Bound has more components than query's orderBy");for(var t=0,l=0;l<this.position.length;l++){var r=n[l],i=this.position[l];if(r.field.isKeyField())v(i instanceof Rn,"Bound has a non-key value where the key path is being used."),t=cn.comparator(i.key,e.key);else{var o=e.field(r.field);v(void 0!==o,"Field should exist since document matched the orderBy already."),t=i.compareTo(o)}if(r.dir===Xn.DESCENDING&&(t*=-1),0!==t)break}return this.before?t<=0:t<0},n.prototype.isEqual=function(n){if(null===n)return!1;if(this.before!==n.before||this.position.length!==n.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(n.position[e]);return!0},n}(),$n=function(){function n(n,e){this.field=n,void 0===e&&(e=Xn.ASCENDING),this.dir=e,this.isKeyOrderBy=n.isKeyField()}return n.prototype.compare=function(n,e){var t=this.isKeyOrderBy?dn.compareByKey(n,e):dn.compareByField(this.field,n,e);switch(this.dir){case Xn.ASCENDING:return t;case Xn.DESCENDING:return-1*t;default:return y("Unknown direction: "+this.dir)}},n.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},n.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},n.prototype.isEqual=function(n){return this.dir===n.dir&&this.field.isEqual(n.field)},n}(),Zn=new $n(sn.keyField(),Xn.ASCENDING),Jn=new $n(sn.keyField(),Xn.DESCENDING),ne=function(){function n(n){this.timestamp=n}return n.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new n(new en(t,e%1e6*1e3))},n.fromTimestamp=function(e){return new n(e)},n.forDeletedDoc=function(){return n.MIN},n.prototype.compareTo=function(n){return this.timestamp._compareTo(n.timestamp)},n.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},n.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},n.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},n.prototype.toTimestamp=function(){return this.timestamp},n.MIN=new n(new en(0,0)),n}(),ee=function(n){return n[n.Listen=0]="Listen",n[n.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",n[n.LimboResolution=2]="LimboResolution",n}({}),te=function(){function n(n,e,t,l,r,i){void 0===r&&(r=ne.MIN),void 0===i&&(i=_()),this.query=n,this.targetId=e,this.purpose=t,this.sequenceNumber=l,this.snapshotVersion=r,this.resumeToken=i}return n.prototype.copy=function(e){return new n(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},n.prototype.isEqual=function(n){return this.targetId===n.targetId&&this.purpose===n.purpose&&this.sequenceNumber===n.sequenceNumber&&this.snapshotVersion.isEqual(n.snapshotVersion)&&this.resumeToken===n.resumeToken&&this.query.isEqual(n.query)},n}(),le=function(){function n(n){this.comparator=n,this.data=new mn(this.comparator)}return n.fromMapKeys=function(e){var t=new n(e.comparator);return e.forEach(function(n){t=t.add(n)}),t},n.prototype.has=function(n){return null!==this.data.get(n)},n.prototype.first=function(){return this.data.minKey()},n.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(n.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),n.prototype.indexOf=function(n){return this.data.indexOf(n)},n.prototype.forEach=function(n){this.data.inorderTraversal(function(e,t){return n(e),!1})},n.prototype.forEachInRange=function(n,e){for(var t=this.data.getIteratorFrom(n[0]);t.hasNext();){var l=t.getNext();if(this.comparator(l.key,n[1])>=0)return;e(l.key)}},n.prototype.forEachWhile=function(n,e){var t;for(t=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();t.hasNext();)if(!n(t.getNext().key))return},n.prototype.firstAfterOrEqual=function(n){var e=this.data.getIteratorFrom(n);return e.hasNext()?e.getNext().key:null},n.prototype.getIterator=function(){return new re(this.data.getIterator())},n.prototype.getIteratorFrom=function(n){return new re(this.data.getIteratorFrom(n))},n.prototype.add=function(n){return this.copy(this.data.remove(n).insert(n,!0))},n.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},n.prototype.isEmpty=function(){return this.data.isEmpty()},n.prototype.unionWith=function(n){var e=this;return n.forEach(function(n){e=e.add(n)}),e},n.prototype.isEqual=function(e){if(!(e instanceof n))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),l=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=l.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},n.prototype.toArray=function(){var n=[];return this.forEach(function(e){n.push(e)}),n},n.prototype.toString=function(){var n=[];return this.forEach(function(e){return n.push(e)}),"SortedSet("+n.toString()+")"},n.prototype.copy=function(e){var t=new n(this.comparator);return t.data=e,t},n}(),re=function(){function n(n){this.iter=n}return n.prototype.getNext=function(){return this.iter.getNext().key},n.prototype.hasNext=function(){return this.iter.hasNext()},n}(),ie=function(){function n(n){this.fields=n}return n.fromSet=function(e){return new n(e)},n.fromArray=function(e){var t=new le(sn.comparator);return e.forEach(function(n){return t=t.add(n)}),new n(t)},n.prototype.covers=function(n){var e=!1;return this.fields.forEach(function(t){t.isPrefixOf(n)&&(e=!0)}),e},n.prototype.applyTo=function(n){var e=Mn.EMPTY;return this.fields.forEach(function(t){if(t.isEmpty())return n;var l=n.field(t);void 0!==l&&(e=e.set(t,l))}),e},n.prototype.isEqual=function(n){return this.fields.isEqual(n.fields)},n}(),oe=function(){function n(n,e){this.field=n,this.transform=e}return Object.defineProperty(n.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(n){return this.field.isEqual(n.field)&&this.transform.isEqual(n.transform)},n}(),ue=function(){return function(n,e){this.version=n,this.transformResults=e}}(),ae=function(n){return n[n.Set=0]="Set",n[n.Patch=1]="Patch",n[n.Transform=2]="Transform",n[n.Delete=3]="Delete",n}({}),se=function(){function n(n,e){this.updateTime=n,this.exists=e,v(void 0===n||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return n.exists=function(e){return new n(void 0,e)},n.updateTime=function(e){return new n(e)},Object.defineProperty(n.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),n.prototype.isValidFor=function(n){return void 0!==this.updateTime?n instanceof dn&&n.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===n instanceof dn:(v(this.isNone,"Precondition should be empty"),!0)},n.prototype.isEqual=function(n){return t=n.updateTime,(null!=(e=this.updateTime)?!(!t||!e.isEqual(t)):e===t)&&this.exists===n.exists;var e,t},n.NONE=new n,n}(),ce=function(){function n(){}return n.prototype.verifyKeyMatches=function(n){null!=n&&v(n.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},n.getPostMutationVersion=function(n){return n instanceof dn?n.version:ne.MIN},n}(),he=function(n){function e(e,t,l){var r=n.call(this)||this;return r.key=e,r.value=t,r.precondition=l,r.type=ae.Set,r}return o.__extends(e,n),e.prototype.applyToRemoteDocument=function(n,e){return this.verifyKeyMatches(n),v(null==e.transformResults,"Transform results received by SetMutation."),new dn(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(n,e,t){if(this.verifyKeyMatches(n),!this.precondition.isValidFor(n))return n;var l=ce.getPostMutationVersion(n);return new dn(this.key,l,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.value.isEqual(n.value)&&this.precondition.isEqual(n.precondition)},e}(ce),de=function(n){function e(e,t,l,r){var i=n.call(this)||this;return i.key=e,i.data=t,i.fieldMask=l,i.precondition=r,i.type=ae.Patch,i}return o.__extends(e,n),e.prototype.applyToRemoteDocument=function(n,e){if(this.verifyKeyMatches(n),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(n))return new fn(this.key,e.version);var t=this.patchDocument(n);return new dn(this.key,e.version,t,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(n,e,t){if(this.verifyKeyMatches(n),!this.precondition.isValidFor(n))return n;var l=ce.getPostMutationVersion(n),r=this.patchDocument(n);return new dn(this.key,l,r,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.fieldMask.isEqual(n.fieldMask)&&this.precondition.isEqual(n.precondition)},e.prototype.patchDocument=function(n){return this.patchObject(n instanceof dn?n.data:Mn.EMPTY)},e.prototype.patchObject=function(n){var e=this;return this.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var l=e.data.field(t);n=void 0!==l?n.set(t,l):n.delete(t)}}),n},e}(ce),pe=function(n){function e(e,t){var l=n.call(this)||this;return l.key=e,l.fieldTransforms=t,l.type=ae.Transform,l.precondition=se.exists(!0),l}return o.__extends(e,n),e.prototype.applyToRemoteDocument=function(n,e){if(this.verifyKeyMatches(n),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(n))return new fn(this.key,e.version);var t=this.requireDocument(n),l=this.serverTransformResults(n,e.transformResults),r=e.version,i=this.transformObject(t.data,l);return new dn(this.key,r,i,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(n,e,t){if(this.verifyKeyMatches(n),!this.precondition.isValidFor(n))return n;var l=this.requireDocument(n),r=this.localTransformResults(t,e),i=this.transformObject(l.data,r);return new dn(this.key,l.version,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var n=0,e=this.fieldTransforms;n<e.length;n++)if(!e[n].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var n=new le(sn.comparator);return this.fieldTransforms.forEach(function(e){return n=n.add(e.field)}),new ie(n)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&Q(this.fieldTransforms,n.fieldTransforms)&&this.precondition.isEqual(n.precondition)},e.prototype.requireDocument=function(n){v(n instanceof dn,"Unknown MaybeDocument type "+n);var e=n;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(n,e){var t=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var l=0;l<e.length;l++){var r=this.fieldTransforms[l],i=r.transform,o=null;n instanceof dn&&(o=n.field(r.field)||null),t.push(i.applyToRemoteDocument(o,e[l]))}return t},e.prototype.localTransformResults=function(n,e){for(var t=[],l=0,r=this.fieldTransforms;l<r.length;l++){var i=r[l],o=i.transform,u=null;e instanceof dn&&(u=e.field(i.field)||null),t.push(o.applyToLocalView(u,n))}return t},e.prototype.transformObject=function(n,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var t=0;t<this.fieldTransforms.length;t++)n=n.set(this.fieldTransforms[t].field,e[t]);return n},e}(ce),fe=function(n){function e(e,t){var l=n.call(this)||this;return l.key=e,l.precondition=t,l.type=ae.Delete,l}return o.__extends(e,n),e.prototype.applyToRemoteDocument=function(n,e){return this.verifyKeyMatches(n),v(null==e.transformResults,"Transform results received by DeleteMutation."),new pn(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(n,e,t){return this.verifyKeyMatches(n),this.precondition.isValidFor(n)?(n&&v(n.key.isEqual(this.key),"Can only apply mutation to document with same key"),new pn(this.key,ne.forDeletedDoc())):n},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.precondition.isEqual(n.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ce),me=function(){function n(){this.isIdempotent=!0}return n.prototype.applyToLocalView=function(n,e){return new Nn(e,n)},n.prototype.applyToRemoteDocument=function(n,e){return e},n.prototype.isEqual=function(e){return e instanceof n},n.instance=new n,n}(),ge=function(){function n(n){this.elements=n,this.isIdempotent=!0}return n.prototype.applyToLocalView=function(n,e){return this.apply(n)},n.prototype.applyToRemoteDocument=function(n,e){return this.apply(n)},n.prototype.apply=function(n){for(var e=be(n),t=function(n){e.find(function(e){return e.isEqual(n)})||e.push(n)},l=0,r=this.elements;l<r.length;l++)t(r[l]);return new Ln(e)},n.prototype.isEqual=function(e){return e instanceof n&&Q(e.elements,this.elements)},n}(),ye=function(){function n(n){this.elements=n,this.isIdempotent=!0}return n.prototype.applyToLocalView=function(n,e){return this.apply(n)},n.prototype.applyToRemoteDocument=function(n,e){return this.apply(n)},n.prototype.apply=function(n){for(var e=be(n),t=function(n){e=e.filter(function(e){return!e.isEqual(n)})},l=0,r=this.elements;l<r.length;l++)t(r[l]);return new Ln(e)},n.prototype.isEqual=function(e){return e instanceof n&&Q(e.elements,this.elements)},n}(),ve=function(){function n(n){this.operand=n,this.isIdempotent=!1}return n.prototype.applyToLocalView=function(n,e){return n instanceof kn&&this.operand instanceof kn?new kn(n.internalValue+this.operand.internalValue):n instanceof Tn?new An(n.internalValue+this.operand.internalValue):this.operand},n.prototype.applyToRemoteDocument=function(n,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},n.prototype.isEqual=function(e){return e instanceof n&&this.operand.isEqual(e.operand)},n}();function be(n){return n instanceof Ln?n.internalValue.slice():[]}var _e=function(){function n(n){this.count=n}return n.prototype.isEqual=function(n){return n&&n.count===this.count},n}(),we=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}({});function Ce(n){switch(n){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+n)}}function Ee(n){if(void 0===n)return m("GRPC error has no .code"),w.UNKNOWN;switch(n){case we.OK:return w.OK;case we.CANCELLED:return w.CANCELLED;case we.UNKNOWN:return w.UNKNOWN;case we.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case we.INTERNAL:return w.INTERNAL;case we.UNAVAILABLE:return w.UNAVAILABLE;case we.UNAUTHENTICATED:return w.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case we.NOT_FOUND:return w.NOT_FOUND;case we.ALREADY_EXISTS:return w.ALREADY_EXISTS;case we.PERMISSION_DENIED:return w.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case we.ABORTED:return w.ABORTED;case we.OUT_OF_RANGE:return w.OUT_OF_RANGE;case we.UNIMPLEMENTED:return w.UNIMPLEMENTED;case we.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+n)}}function Se(n){if(void 0===n)return we.OK;switch(n){case w.OK:return we.OK;case w.CANCELLED:return we.CANCELLED;case w.UNKNOWN:return we.UNKNOWN;case w.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case w.INTERNAL:return we.INTERNAL;case w.UNAVAILABLE:return we.UNAVAILABLE;case w.UNAUTHENTICATED:return we.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case w.NOT_FOUND:return we.NOT_FOUND;case w.ALREADY_EXISTS:return we.ALREADY_EXISTS;case w.PERMISSION_DENIED:return we.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case w.ABORTED:return we.ABORTED;case w.OUT_OF_RANGE:return we.OUT_OF_RANGE;case w.UNIMPLEMENTED:return we.UNIMPLEMENTED;case w.DATA_LOSS:return we.DATA_LOSS;default:return y("Unknown status code: "+n)}}var Te=new mn(cn.comparator);function Ie(){return Te}function ke(){return Ie()}var Ae=new mn(cn.comparator);function De(){return Ae}var xe=new mn(cn.comparator);function Ne(){return xe}var Oe=new le(cn.comparator);function Re(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=Oe,l=0,r=n;l<r.length;l++)t=t.add(r[l]);return t}var Pe=new le(G);function Me(){return Pe}var Le=function(){function n(n){this.comparator=n?function(e,t){return n(e,t)||cn.comparator(e.key,t.key)}:function(n,e){return cn.comparator(n.key,e.key)},this.keyedMap=De(),this.sortedSet=new mn(this.comparator)}return n.emptySet=function(e){return new n(e.comparator)},n.prototype.has=function(n){return null!=this.keyedMap.get(n)},n.prototype.get=function(n){return this.keyedMap.get(n)},n.prototype.first=function(){return this.sortedSet.minKey()},n.prototype.last=function(){return this.sortedSet.maxKey()},n.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},n.prototype.indexOf=function(n){var e=this.keyedMap.get(n);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(n.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),n.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(e,t){return n(e),!1})},n.prototype.add=function(n){var e=this.delete(n.key);return e.copy(e.keyedMap.insert(n.key,n),e.sortedSet.insert(n,null))},n.prototype.delete=function(n){var e=this.get(n);return e?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(e)):this},n.prototype.isEqual=function(e){if(!(e instanceof n))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=l.getNext().key;if(!r.isEqual(i))return!1}return!0},n.prototype.toString=function(){var n=[];return this.forEach(function(e){n.push(e.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"},n.prototype.copy=function(e,t){var l=new n;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l},n}(),Ve=function(n){return n[n.Added=0]="Added",n[n.Removed=1]="Removed",n[n.Modified=2]="Modified",n[n.Metadata=3]="Metadata",n}({}),Ue=function(n){return n[n.Local=0]="Local",n[n.Synced=1]="Synced",n}({}),qe=function(){function n(){this.changeMap=new mn(cn.comparator)}return n.prototype.track=function(n){var e=n.doc.key,t=this.changeMap.get(e);t?n.type!==Ve.Added&&t.type===Ve.Metadata?this.changeMap=this.changeMap.insert(e,n):n.type===Ve.Metadata&&t.type!==Ve.Removed?this.changeMap=this.changeMap.insert(e,{type:t.type,doc:n.doc}):n.type===Ve.Modified&&t.type===Ve.Modified?this.changeMap=this.changeMap.insert(e,{type:Ve.Modified,doc:n.doc}):n.type===Ve.Modified&&t.type===Ve.Added?this.changeMap=this.changeMap.insert(e,{type:Ve.Added,doc:n.doc}):n.type===Ve.Removed&&t.type===Ve.Added?this.changeMap=this.changeMap.remove(e):n.type===Ve.Removed&&t.type===Ve.Modified?this.changeMap=this.changeMap.insert(e,{type:Ve.Removed,doc:t.doc}):n.type===Ve.Added&&t.type===Ve.Removed?this.changeMap=this.changeMap.insert(e,{type:Ve.Modified,doc:n.doc}):y("unsupported combination of changes: "+JSON.stringify(n)+" after "+JSON.stringify(t)):this.changeMap=this.changeMap.insert(e,n)},n.prototype.getChanges=function(){var n=[];return this.changeMap.inorderTraversal(function(e,t){n.push(t)}),n},n}(),Fe=function(){function n(n,e,t,l,r,i,o,u){this.query=n,this.docs=e,this.oldDocs=t,this.docChanges=l,this.mutatedKeys=r,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=u}return n.fromInitialDocuments=function(e,t,l,r){var i=[];return t.forEach(function(n){i.push({type:Ve.Added,doc:n})}),new n(e,t,Le.emptySet(t),i,l,r,!0,!1)},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&this.query.isEqual(n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;var e=this.docChanges,t=n.docChanges;if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(e[l].type!==t[l].type||!e[l].doc.isEqual(t[l].doc))return!1;return!0},n}(),je=function(){function n(n,e,t,l,r){this.snapshotVersion=n,this.targetChanges=e,this.targetMismatches=t,this.documentUpdates=l,this.resolvedLimboDocuments=r}return n.createSynthesizedRemoteEventForCurrentChange=function(e,t){var l,r=((l={})[e]=Be.createSynthesizedTargetChangeForCurrentChange(e,t),l);return new n(ne.MIN,r,Me(),Ie(),Re())},n}(),Be=function(){function n(n,e,t,l,r){this.resumeToken=n,this.current=e,this.addedDocuments=t,this.modifiedDocuments=l,this.removedDocuments=r}return n.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new n(_(),t,Re(),Re(),Re())},n}(),Ke=function(){return function(n,e,t,l){this.updatedTargetIds=n,this.removedTargetIds=e,this.key=t,this.newDoc=l}}(),ze=function(){return function(n,e){this.targetId=n,this.existenceFilter=e}}(),He=function(n){return n[n.NoChange=0]="NoChange",n[n.Added=1]="Added",n[n.Removed=2]="Removed",n[n.Current=3]="Current",n[n.Reset=4]="Reset",n}({}),We=function(){return function(n,e,t,l){void 0===t&&(t=_()),void 0===l&&(l=null),this.state=n,this.targetIds=e,this.resumeToken=t,this.cause=l}}(),Ge=function(){function n(){this.pendingResponses=0,this.documentChanges=Ye(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(n.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),n.prototype.updateResumeToken=function(n){n.length>0&&(this._hasPendingChanges=!0,this._resumeToken=n)},n.prototype.toTargetChange=function(){var n=Re(),e=Re(),t=Re();return this.documentChanges.forEach(function(l,r){switch(r){case Ve.Added:n=n.add(l);break;case Ve.Modified:e=e.add(l);break;case Ve.Removed:t=t.add(l);break;default:y("Encountered invalid change type: "+r)}}),new Be(this._resumeToken,this._current,n,e,t)},n.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ye()},n.prototype.addDocumentChange=function(n,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(n,e)},n.prototype.removeDocumentChange=function(n){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(n)},n.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},n.prototype.recordTargetResponse=function(){this.pendingResponses-=1},n.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},n}(),Qe=function(){function n(n){this.metadataProvider=n,this.targetStates={},this.pendingDocumentUpdates=Ie(),this.pendingDocumentTargetMapping=Xe(),this.pendingTargetResets=new le(G)}return n.prototype.handleDocumentChange=function(n){for(var e=0,t=n.updatedTargetIds;e<t.length;e++){var l=t[e];n.newDoc instanceof dn?this.addDocumentToTarget(l,n.newDoc):n.newDoc instanceof pn&&this.removeDocumentFromTarget(l,n.key,n.newDoc)}for(var r=0,i=n.removedTargetIds;r<i.length;r++)this.removeDocumentFromTarget(l=i[r],n.key,n.newDoc)},n.prototype.handleTargetChange=function(n){var e=this;this.forEachTarget(n,function(t){var l=e.ensureTargetState(t);switch(n.state){case He.NoChange:e.isActiveTarget(t)&&l.updateResumeToken(n.resumeToken);break;case He.Added:l.recordTargetResponse(),l.isPending||l.clearPendingChanges(),l.updateResumeToken(n.resumeToken);break;case He.Removed:l.recordTargetResponse(),l.isPending||e.removeTarget(t),v(!n.cause,"WatchChangeAggregator does not handle errored targets");break;case He.Current:e.isActiveTarget(t)&&(l.markCurrent(),l.updateResumeToken(n.resumeToken));break;case He.Reset:e.isActiveTarget(t)&&(e.resetTarget(t),l.updateResumeToken(n.resumeToken));break;default:y("Unknown target watch change state: "+n.state)}})},n.prototype.forEachTarget=function(n,e){n.targetIds.length>0?n.targetIds.forEach(e):I(this.targetStates,e)},n.prototype.handleExistenceFilter=function(n){var e=n.targetId,t=n.existenceFilter.count,l=this.queryDataForActiveTarget(e);if(l){var r=l.query;if(r.isDocumentQuery())if(0===t){var i=new cn(r.path);this.removeDocumentFromTarget(e,i,new pn(i,ne.forDeletedDoc()))}else v(1===t,"Single document existence filter with count: "+t);else this.getCurrentDocumentCountForTarget(e)!==t&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},n.prototype.createRemoteEvent=function(n){var e=this,t={};I(this.targetStates,function(l,r){var i=e.queryDataForActiveTarget(l);if(i){if(r.current&&i.query.isDocumentQuery()){var o=new cn(i.query.path);null!==e.pendingDocumentUpdates.get(o)||e.targetContainsDocument(l,o)||e.removeDocumentFromTarget(l,o,new pn(o,n))}r.hasPendingChanges&&(t[l]=r.toTargetChange(),r.clearPendingChanges())}});var l=Re();this.pendingDocumentTargetMapping.forEach(function(n,t){var r=!0;t.forEachWhile(function(n){var t=e.queryDataForActiveTarget(n);return!t||t.purpose===ee.LimboResolution||(r=!1,!1)}),r&&(l=l.add(n))});var r=new je(n,t,this.pendingTargetResets,this.pendingDocumentUpdates,l);return this.pendingDocumentUpdates=Ie(),this.pendingDocumentTargetMapping=Xe(),this.pendingTargetResets=new le(G),r},n.prototype.addDocumentToTarget=function(n,e){if(this.isActiveTarget(n)){var t=this.targetContainsDocument(n,e.key)?Ve.Modified:Ve.Added;this.ensureTargetState(n).addDocumentChange(e.key,t),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(n))}},n.prototype.removeDocumentFromTarget=function(n,e,t){if(this.isActiveTarget(n)){var l=this.ensureTargetState(n);this.targetContainsDocument(n,e)?l.addDocumentChange(e,Ve.Removed):l.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(n)),t&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,t))}},n.prototype.removeTarget=function(n){delete this.targetStates[n]},n.prototype.getCurrentDocumentCountForTarget=function(n){var e=this.ensureTargetState(n).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(n).size+e.addedDocuments.size-e.removedDocuments.size},n.prototype.recordPendingTargetRequest=function(n){this.ensureTargetState(n).recordPendingTargetRequest()},n.prototype.ensureTargetState=function(n){return this.targetStates[n]||(this.targetStates[n]=new Ge),this.targetStates[n]},n.prototype.ensureDocumentTargetMapping=function(n){var e=this.pendingDocumentTargetMapping.get(n);return e||(e=new le(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(n,e)),e},n.prototype.isActiveTarget=function(n){return null!==this.queryDataForActiveTarget(n)},n.prototype.queryDataForActiveTarget=function(n){var e=this.targetStates[n];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(n)},n.prototype.resetTarget=function(n){var e=this;v(!this.targetStates[n].isPending,"Should only reset active targets"),this.targetStates[n]=new Ge,this.metadataProvider.getRemoteKeysForTarget(n).forEach(function(t){e.removeDocumentFromTarget(n,t,null)})},n.prototype.targetContainsDocument=function(n,e){return this.metadataProvider.getRemoteKeysForTarget(n).has(e)},n}();function Xe(){return new mn(cn.comparator)}function Ye(){return new mn(cn.comparator)}var $e,Ze,Je=(($e={})[Xn.ASCENDING.name]="ASCENDING",$e[Xn.DESCENDING.name]="DESCENDING",$e),nt=((Ze={})[Hn.LESS_THAN.name]="LESS_THAN",Ze[Hn.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ze[Hn.GREATER_THAN.name]="GREATER_THAN",Ze[Hn.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ze[Hn.EQUAL.name]="EQUAL",Ze[Hn.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ze),et=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tt(n,e){v(!jn(n),e+" is missing")}function lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):y("can't parse "+n)}var rt=function(){function n(n,e){this.databaseId=n,this.options=e}return n.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},n.prototype.unsafeCastProtoByteString=function(n){return n},n.prototype.fromRpcStatus=function(n){var e=void 0===n.code?w.UNKNOWN:Ee(n.code);return new C(e,n.message||"")},n.prototype.toInt32Value=function(n){return jn(n)?void 0:{value:n}},n.prototype.fromInt32Value=function(n){var e;return jn(e="object"==typeof n?n.value:n)?null:e},n.prototype.toTimestamp=function(n){return{seconds:""+n.seconds,nanos:n.nanoseconds}},n.prototype.fromTimestamp=function(n){if("string"==typeof n)return this.fromIso8601String(n);v(!!n,"Cannot deserialize null or undefined timestamp.");var e=lt(n.seconds||"0");return new en(e,n.nanos||0)},n.prototype.fromIso8601String=function(n){var e=0,t=et.exec(n);if(v(!!t,"invalid timestamp: "+n),t[1]){var l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}var r=new Date(n),i=Math.floor(r.getTime()/1e3);return new en(i,e)},n.prototype.toBytes=function(n){return this.options.useProto3Json?n.toBase64():this.unsafeCastProtoByteString(n.toUint8Array())},n.prototype.fromBlob=function(n){return"string"==typeof n?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(n)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromUint8Array(n))},n.prototype.toVersion=function(n){return this.toTimestamp(n.toTimestamp())},n.prototype.fromVersion=function(n){return v(!!n,"Trying to deserialize version that isn't set"),ne.fromTimestamp(this.fromTimestamp(n))},n.prototype.toResourceName=function(n,e){return this.fullyQualifiedPrefixPath(n).child("documents").child(e).canonicalString()},n.prototype.fromResourceName=function(n){var e=un.fromString(n);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},n.prototype.toName=function(n){return this.toResourceName(this.databaseId,n.path)},n.prototype.fromName=function(n){var e=this.fromResourceName(n);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new cn(this.extractLocalPathFromResourceName(e))},n.prototype.toQueryPath=function(n){return this.toResourceName(this.databaseId,n)},n.prototype.fromQueryPath=function(n){var e=this.fromResourceName(n);return 4===e.length?un.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(n.prototype,"encodedDatabaseId",{get:function(){return new un(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),n.prototype.fullyQualifiedPrefixPath=function(n){return new un(["projects",n.projectId,"databases",n.database])},n.prototype.extractLocalPathFromResourceName=function(n){return v(n.length>4&&"documents"===n.get(4),"tried to deserialize invalid key "+n.toString()),n.popFirst(5)},n.prototype.isValidResourceName=function(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)},n.prototype.toValue=function(n){if(n instanceof En)return{nullValue:"NULL_VALUE"};if(n instanceof Sn)return{booleanValue:n.value()};if(n instanceof kn)return{integerValue:""+n.value()};if(n instanceof An){var e=n.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n.value()}}return n instanceof Dn?{stringValue:n.value()}:n instanceof Mn?{mapValue:this.toMapValue(n)}:n instanceof Ln?{arrayValue:this.toArrayValue(n)}:n instanceof xn?{timestampValue:this.toTimestamp(n.internalValue)}:n instanceof Pn?{geoPointValue:{latitude:n.value().latitude,longitude:n.value().longitude}}:n instanceof On?{bytesValue:this.toBytes(n.value())}:n instanceof Rn?{referenceValue:this.toResourceName(n.databaseId,n.key.path)}:y("Unknown FieldValue "+JSON.stringify(n))},n.prototype.fromValue=function(n){var e=this;if("nullValue"in n)return En.INSTANCE;if("booleanValue"in n)return Sn.of(n.booleanValue);if("integerValue"in n)return new kn(lt(n.integerValue));if("doubleValue"in n){if(this.options.useProto3Json){if("NaN"===n.doubleValue)return An.NAN;if("Infinity"===n.doubleValue)return An.POSITIVE_INFINITY;if("-Infinity"===n.doubleValue)return An.NEGATIVE_INFINITY}return new An(n.doubleValue)}if("stringValue"in n)return new Dn(n.stringValue);if("mapValue"in n)return this.fromFields(n.mapValue.fields||{});if("arrayValue"in n)return tt(n.arrayValue,"arrayValue"),new Ln((n.arrayValue.values||[]).map(function(n){return e.fromValue(n)}));if("timestampValue"in n)return tt(n.timestampValue,"timestampValue"),new xn(this.fromTimestamp(n.timestampValue));if("geoPointValue"in n)return tt(n.geoPointValue,"geoPointValue"),new Pn(new nn(n.geoPointValue.latitude||0,n.geoPointValue.longitude||0));if("bytesValue"in n){tt(n.bytesValue,"bytesValue");var t=this.fromBlob(n.bytesValue);return new On(t)}if("referenceValue"in n){tt(n.referenceValue,"referenceValue");var l=this.fromResourceName(n.referenceValue),r=new rn(l.get(1),l.get(3)),i=new cn(this.extractLocalPathFromResourceName(l));return new Rn(r,i)}return y("Unknown Value proto "+JSON.stringify(n))},n.prototype.toMutationDocument=function(n,e){return{name:this.toName(n),fields:this.toFields(e)}},n.prototype.toDocument=function(n){return v(!n.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(n.key),fields:this.toFields(n.data),updateTime:this.toTimestamp(n.version.toTimestamp())}},n.prototype.fromDocument=function(n,e){return new dn(this.fromName(n.name),this.fromVersion(n.updateTime),this.fromFields(n.fields||{}),{hasCommittedMutations:!!e})},n.prototype.toFields=function(n){var e=this,t={};return n.forEach(function(n,l){t[n]=e.toValue(l)}),t},n.prototype.fromFields=function(n){var e=this,t=Mn.EMPTY;return k(n,function(n,l){t=t.set(new sn([n]),e.fromValue(l))}),t},n.prototype.toMapValue=function(n){return{fields:this.toFields(n)}},n.prototype.toArrayValue=function(n){var e=this,t=[];return n.forEach(function(n){t.push(e.toValue(n))}),{values:t}},n.prototype.fromFound=function(n){v(!!n.found,"Tried to deserialize a found document from a missing document."),tt(n.found.name,"doc.found.name"),tt(n.found.updateTime,"doc.found.updateTime");var e=this.fromName(n.found.name),t=this.fromVersion(n.found.updateTime),l=this.fromFields(n.found.fields||{});return new dn(e,t,l,{},n.found)},n.prototype.fromMissing=function(n){v(!!n.missing,"Tried to deserialize a missing document from a found document."),v(!!n.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(n.missing),t=this.fromVersion(n.readTime);return new pn(e,t)},n.prototype.fromMaybeDocument=function(n){return"found"in n?this.fromFound(n):"missing"in n?this.fromMissing(n):y("invalid batch get response: "+JSON.stringify(n))},n.prototype.toWatchTargetChangeState=function(n){switch(n){case He.Added:return"ADD";case He.Current:return"CURRENT";case He.NoChange:return"NO_CHANGE";case He.Removed:return"REMOVE";case He.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+n)}},n.prototype.toTestWatchChange=function(n){if(n instanceof ze)return{filter:{count:n.existenceFilter.count,targetId:n.targetId}};if(n instanceof Ke){var e;if(n.newDoc instanceof dn)return{documentChange:{document:{name:this.toName((e=n.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:n.updatedTargetIds,removedTargetIds:n.removedTargetIds}};if(n.newDoc instanceof pn)return{documentDelete:{document:this.toName((e=n.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:n.removedTargetIds}};if(null===n.newDoc)return{documentRemove:{document:this.toName(n.key),removedTargetIds:n.removedTargetIds}}}if(n instanceof We){var t=void 0;return n.cause&&(t={code:Se(n.cause.code),message:n.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(n.state),targetIds:n.targetIds,resumeToken:this.unsafeCastProtoByteString(n.resumeToken),cause:t}}}return y("Unrecognized watch change: "+JSON.stringify(n))},n.prototype.fromWatchChange=function(n){var e;if("targetChange"in n){tt(n.targetChange,"targetChange");var t=this.fromWatchTargetChangeState(n.targetChange.targetChangeType||"NO_CHANGE"),l=n.targetChange.targetIds||[],r=n.targetChange.resumeToken||this.emptyByteString(),i=n.targetChange.cause,o=i&&this.fromRpcStatus(i);e=new We(t,l,r,o||null)}else if("documentChange"in n){tt(n.documentChange,"documentChange"),tt(n.documentChange.document,"documentChange.name"),tt(n.documentChange.document.name,"documentChange.document.name"),tt(n.documentChange.document.updateTime,"documentChange.document.updateTime");var u=n.documentChange,a=this.fromName(u.document.name),s=this.fromVersion(u.document.updateTime),c=this.fromFields(u.document.fields||{}),h=new dn(a,s,c,{},u.document);e=new Ke(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in n){tt(n.documentDelete,"documentDelete"),tt(n.documentDelete.document,"documentDelete.document");var d=n.documentDelete;a=this.fromName(d.document),s=d.readTime?this.fromVersion(d.readTime):ne.forDeletedDoc(),h=new pn(a,s),e=new Ke([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in n){tt(n.documentRemove,"documentRemove"),tt(n.documentRemove.document,"documentRemove");var p=n.documentRemove;a=this.fromName(p.document),e=new Ke([],p.removedTargetIds||[],a,null)}else{if(!("filter"in n))return y("Unknown change type "+JSON.stringify(n));tt(n.filter,"filter"),tt(n.filter.targetId,"filter.targetId");var f=n.filter,m=new _e(f.count||0);e=new ze(f.targetId,m)}return e},n.prototype.fromWatchTargetChangeState=function(n){return"NO_CHANGE"===n?He.NoChange:"ADD"===n?He.Added:"REMOVE"===n?He.Removed:"CURRENT"===n?He.Current:"RESET"===n?He.Reset:y("Got unexpected TargetChange.state: "+n)},n.prototype.versionFromListenResponse=function(n){if(!("targetChange"in n))return ne.MIN;var e=n.targetChange;return e.targetIds&&e.targetIds.length?ne.MIN:e.readTime?this.fromVersion(e.readTime):ne.MIN},n.prototype.toMutation=function(n){var e,t=this;if(n instanceof he)e={update:this.toMutationDocument(n.key,n.value)};else if(n instanceof fe)e={delete:this.toName(n.key)};else if(n instanceof de)e={update:this.toMutationDocument(n.key,n.data),updateMask:this.toDocumentMask(n.fieldMask)};else{if(!(n instanceof pe))return y("Unknown mutation type "+n.type);e={transform:{document:this.toName(n.key),fieldTransforms:n.fieldTransforms.map(function(n){return t.toFieldTransform(n)})}}}return n.precondition.isNone||(e.currentDocument=this.toPrecondition(n.precondition)),e},n.prototype.fromMutation=function(n){var e=this,t=n.currentDocument?this.fromPrecondition(n.currentDocument):se.NONE;if(n.update){tt(n.update.name,"name");var l=this.fromName(n.update.name),r=this.fromFields(n.update.fields||{});if(n.updateMask){var i=this.fromDocumentMask(n.updateMask);return new de(l,r,i,t)}return new he(l,r,t)}if(n.delete)return l=this.fromName(n.delete),new fe(l,t);if(n.transform){l=this.fromName(n.transform.document);var o=n.transform.fieldTransforms.map(function(n){return e.fromFieldTransform(n)});return v(!0===t.exists,'Transforms only support precondition "exists == true"'),new pe(l,o)}return y("unknown mutation proto: "+JSON.stringify(n))},n.prototype.toPrecondition=function(n){return v(!n.isNone,"Can't serialize an empty precondition"),void 0!==n.updateTime?{updateTime:this.toVersion(n.updateTime)}:void 0!==n.exists?{exists:n.exists}:y("Unknown precondition")},n.prototype.fromPrecondition=function(n){return void 0!==n.updateTime?se.updateTime(this.fromVersion(n.updateTime)):void 0!==n.exists?se.exists(n.exists):se.NONE},n.prototype.fromWriteResult=function(n,e){var t=this,l=this.fromVersion(n.updateTime?n.updateTime:e),r=null;return n.transformResults&&n.transformResults.length>0&&(r=n.transformResults.map(function(n){return t.fromValue(n)})),new ue(l,r)},n.prototype.fromWriteResults=function(n,e){var t=this;return n&&n.length>0?(v(void 0!==e,"Received a write result without a commit time"),n.map(function(n){return t.fromWriteResult(n,e)})):[]},n.prototype.toFieldTransform=function(n){var e=this,t=n.transform;if(t instanceof me)return{fieldPath:n.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof ge)return{fieldPath:n.field.canonicalString(),appendMissingElements:{values:t.elements.map(function(n){return e.toValue(n)})}};if(t instanceof ye)return{fieldPath:n.field.canonicalString(),removeAllFromArray:{values:t.elements.map(function(n){return e.toValue(n)})}};if(t instanceof ve)return{fieldPath:n.field.canonicalString(),increment:this.toValue(t.operand)};throw y("Unknown transform: "+n.transform)},n.prototype.fromFieldTransform=function(n){var e=this,t=null;if("setToServerValue"in n)v("REQUEST_TIME"===n.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(n)),t=me.instance;else if("appendMissingElements"in n)t=new ge((n.appendMissingElements.values||[]).map(function(n){return e.fromValue(n)}));else if("removeAllFromArray"in n)t=new ye((n.removeAllFromArray.values||[]).map(function(n){return e.fromValue(n)}));else if("increment"in n){var l=this.fromValue(n.increment);v(l instanceof Tn,"NUMERIC_ADD transform requires a NumberValue"),t=new ve(l)}else y("Unknown transform proto: "+JSON.stringify(n));var r=sn.fromServerFormat(n.fieldPath);return new oe(r,t)},n.prototype.toDocumentsTarget=function(n){return{documents:[this.toQueryPath(n.path)]}},n.prototype.fromDocumentsTarget=function(n){var e=n.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),Kn.atPath(this.fromQueryPath(n.documents[0]))},n.prototype.toQueryTarget=function(n){var e={structuredQuery:{}},t=n.path;null!==n.collectionGroup?(v(t.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(t),e.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(v(t.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(t.popLast()),e.structuredQuery.from=[{collectionId:t.lastSegment()}]);var l=this.toFilter(n.filters);l&&(e.structuredQuery.where=l);var r=this.toOrder(n.orderBy);r&&(e.structuredQuery.orderBy=r);var i=this.toInt32Value(n.limit);return void 0!==i&&(e.structuredQuery.limit=i),n.startAt&&(e.structuredQuery.startAt=this.toCursor(n.startAt)),n.endAt&&(e.structuredQuery.endAt=this.toCursor(n.endAt)),e},n.prototype.fromQueryTarget=function(n){var e=this.fromQueryPath(n.parent),t=n.structuredQuery,l=t.from?t.from.length:0,r=null;if(l>0){v(1===l,"StructuredQuery.from with more than one collection is not supported.");var i=t.from[0];i.allDescendants?r=i.collectionId:e=e.child(i.collectionId)}var o=[];t.where&&(o=this.fromFilter(t.where));var u=[];t.orderBy&&(u=this.fromOrder(t.orderBy));var a=null;t.limit&&(a=this.fromInt32Value(t.limit));var s=null;t.startAt&&(s=this.fromCursor(t.startAt));var c=null;return t.endAt&&(c=this.fromCursor(t.endAt)),new Kn(e,r,u,o,a,s,c)},n.prototype.toListenRequestLabels=function(n){var e=this.toLabel(n.purpose);return null==e?null:{"goog-listen-tags":e}},n.prototype.toLabel=function(n){switch(n){case ee.Listen:return null;case ee.ExistenceFilterMismatch:return"existence-filter-mismatch";case ee.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+n)}},n.prototype.toTarget=function(n){var e,t=n.query;return(e=t.isDocumentQuery()?{documents:this.toDocumentsTarget(t)}:{query:this.toQueryTarget(t)}).targetId=n.targetId,n.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(n.resumeToken)),e},n.prototype.toFilter=function(n){var e=this;if(0!==n.length){var t=n.map(function(n){return n instanceof Wn?e.toRelationFilter(n):e.toUnaryFilter(n)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}},n.prototype.fromFilter=function(n){var e=this;return n?void 0!==n.unaryFilter?[this.fromUnaryFilter(n)]:void 0!==n.fieldFilter?[this.fromRelationFilter(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(function(n){return e.fromFilter(n)}).reduce(function(n,e){return n.concat(e)}):y("Unknown filter: "+JSON.stringify(n)):[]},n.prototype.toOrder=function(n){var e=this;if(0!==n.length)return n.map(function(n){return e.toPropertyOrder(n)})},n.prototype.fromOrder=function(n){var e=this;return n.map(function(n){return e.fromPropertyOrder(n)})},n.prototype.toCursor=function(n){var e=this;return{before:n.before,values:n.position.map(function(n){return e.toValue(n)})}},n.prototype.fromCursor=function(n){var e=this,t=!!n.before,l=n.values.map(function(n){return e.fromValue(n)});return new Yn(l,t)},n.prototype.toDirection=function(n){return Je[n.name]},n.prototype.fromDirection=function(n){switch(n){case"ASCENDING":return Xn.ASCENDING;case"DESCENDING":return Xn.DESCENDING;default:return}},n.prototype.toOperatorName=function(n){return nt[n.name]},n.prototype.fromOperatorName=function(n){switch(n){case"EQUAL":return Hn.EQUAL;case"GREATER_THAN":return Hn.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Hn.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Hn.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Hn.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Hn.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return y("Unspecified relation");default:return y("Unknown relation")}},n.prototype.toFieldPathReference=function(n){return{fieldPath:n.canonicalString()}},n.prototype.fromFieldPathReference=function(n){return sn.fromServerFormat(n.fieldPath)},n.prototype.toPropertyOrder=function(n){return{field:this.toFieldPathReference(n.field),direction:this.toDirection(n.dir)}},n.prototype.fromPropertyOrder=function(n){return new $n(this.fromFieldPathReference(n.field),this.fromDirection(n.direction))},n.prototype.toRelationFilter=function(n){return n instanceof Wn?{fieldFilter:{field:this.toFieldPathReference(n.field),op:this.toOperatorName(n.op),value:this.toValue(n.value)}}:y("Unrecognized filter: "+JSON.stringify(n))},n.prototype.fromRelationFilter=function(n){return new Wn(this.fromFieldPathReference(n.fieldFilter.field),this.fromOperatorName(n.fieldFilter.op),this.fromValue(n.fieldFilter.value))},n.prototype.toUnaryFilter=function(n){return n instanceof Qn?{unaryFilter:{field:this.toFieldPathReference(n.field),op:"IS_NAN"}}:n instanceof Gn?{unaryFilter:{field:this.toFieldPathReference(n.field),op:"IS_NULL"}}:y("Unrecognized filter: "+JSON.stringify(n))},n.prototype.fromUnaryFilter=function(n){switch(n.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(n.unaryFilter.field);return new Qn(e);case"IS_NULL":var t=this.fromFieldPathReference(n.unaryFilter.field);return new Gn(t);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},n.prototype.toDocumentMask=function(n){var e=[];return n.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}},n.prototype.fromDocumentMask=function(n){var e=(n.fieldPaths||[]).map(function(n){return sn.fromServerFormat(n)});return ie.fromArray(e)},n}(),it=function(){function n(){}return n.prototype.addCallback=function(n){},n.prototype.shutdown=function(){},n}(),ot=function(){function n(){var n=this;this.networkAvailableListener=function(){return n.onNetworkAvailable()},this.networkUnavailableListener=function(){return n.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return n.prototype.addCallback=function(n){this.callbacks.push(n)},n.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},n.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},n.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,e=this.callbacks;n<e.length;n++)(0,e[n])(0)},n.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,e=this.callbacks;n<e.length;n++)(0,e[n])(1)},n}(),ut=function(){function n(n){this.sendFn=n.sendFn,this.closeFn=n.closeFn}return n.prototype.onOpen=function(n){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=n},n.prototype.onClose=function(n){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=n},n.prototype.onMessage=function(n){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=n},n.prototype.close=function(){this.closeFn()},n.prototype.send=function(n){this.sendFn(n)},n.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},n.prototype.callOnClose=function(n){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(n)},n.prototype.callOnMessage=function(n){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(n)},n}(),at="Connection",st={BatchGetDocuments:"batchGet",Commit:"commit"},ct="gl-js/ fire/"+s,ht=function(){function n(n){this.databaseId=n.databaseId,this.baseUrl=(n.ssl?"https":"http")+"://"+n.host,this.forceLongPolling=n.forceLongPolling}return n.prototype.modifyHeadersForRequest=function(n,e){if(e)for(var t in e.authHeaders)e.authHeaders.hasOwnProperty(t)&&(n[t]=e.authHeaders[t]);n["X-Goog-Api-Client"]=ct},n.prototype.invokeRPC=function(n,e,t){var l=this,r=this.makeUrl(n);return new Promise(function(i,o){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();f(at,"XHR received:",JSON.stringify(e)),i(e);break;case u.ErrorCode.TIMEOUT:f(at,'RPC "'+n+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var t=a.getStatus();f(at,'RPC "'+n+'" failed with status:',t,"response text:",a.getResponseText()),t>0?o(new C(function(n){switch(n){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return n>=200&&n<300?w.OK:n>=400&&n<500?w.FAILED_PRECONDITION:n>=500&&n<600?w.INTERNAL:w.UNKNOWN}}(t),"Server responded with status "+a.getStatusText())):(f(at,'RPC "'+n+'" failed'),o(new C(w.UNAVAILABLE,"Connection failed.")));break;default:y('RPC "'+n+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{f(at,'RPC "'+n+'" completed.')}});var s=JSON.stringify(e);f(at,"XHR sending: ",r+" "+s);var c={"Content-Type":"text/plain"};l.modifyHeadersForRequest(c,t),a.send(r,"POST",s,c,15)})},n.prototype.invokeStreamingRPC=function(n,e,t){return this.invokeRPC(n,e,t)},n.prototype.openStream=function(n,e){var t=[this.baseUrl,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=u.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,e),a.isReactNative()||(r.httpHeadersOverwriteParam="$httpHeaders");var i=t.join("");f(at,"Creating WebChannel: "+i+" "+r);var o=l.createWebChannel(i,r),s=!1,c=!1,h=new ut({sendFn:function(n){c?f(at,"Not sending because WebChannel is closed:",n):(s||(f(at,"Opening WebChannel transport."),o.open(),s=!0),f(at,"WebChannel sending:",n),o.send(n))},closeFn:function(){return o.close()}}),d=function(n,e){o.listen(n,function(n){try{e(n)}catch(t){setTimeout(function(){throw t},0)}})};return d(u.WebChannel.EventType.OPEN,function(){c||f(at,"WebChannel transport opened.")}),d(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(at,"WebChannel transport closed"),h.callOnClose())}),d(u.WebChannel.EventType.ERROR,function(n){c||(c=!0,f(at,"WebChannel transport errored:",n),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))}),d(u.WebChannel.EventType.MESSAGE,function(n){if(!c){var e=n.data[0];v(!!e,"Got a webchannel message without data.");var t=e.error||e[0]&&e[0].error;if(t){f(at,"WebChannel received error:",t);var l=t.status,r=function(n){var e=we[l];if(void 0!==e)return Ee(e)}(),i=t.message;void 0===r&&(r=w.INTERNAL,i="Unknown error status: "+l+" with message "+t.message),c=!0,h.callOnClose(new C(r,i)),o.close()}else f(at,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},n.prototype.makeUrl=function(n){var e=st[n];v(void 0!==e,"Unknown REST mapping for: "+n);var t=[this.baseUrl,"/","v1"];return t.push("/projects/"),t.push(this.databaseId.projectId),t.push("/databases/"),t.push(this.databaseId.database),t.push("/documents"),t.push(":"),t.push(e),t.join("")},n}();b.setPlatform(new(function(){function n(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(n.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),n.prototype.loadConnection=function(n){return Promise.resolve(new ht(n))},n.prototype.newConnectivityMonitor=function(){return this.window?new ot:new it},n.prototype.newSerializer=function(n){return new rt(n,{useProto3Json:!0})},n.prototype.formatJSON=function(n){return JSON.stringify(n)},n.prototype.atob=function(n){return atob(n)},n.prototype.btoa=function(n){return btoa(n)},n}()));var dt,pt=function(){function n(n,e){var t=this;this.previousValue=n,e&&(e.sequenceNumberHandler=function(n){return t.setPreviousValue(n)},this.writeNewSequenceNumber=function(n){return e.writeSequenceNumber(n)})}return n.prototype.setPreviousValue=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},n.prototype.next=function(){var n=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(n),n},n.INVALID=-1,n}(),ft=function(){return function(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}}();!function(n){n.All="all",n.ListenStreamIdle="listen_stream_idle",n.ListenStreamConnectionBackoff="listen_stream_connection_backoff",n.WriteStreamIdle="write_stream_idle",n.WriteStreamConnectionBackoff="write_stream_connection_backoff",n.OnlineStateTimeout="online_state_timeout",n.ClientMetadataRefresh="client_metadata_refresh",n.LruGarbageCollection="lru_garbage_collection"}(dt||(dt={}));var mt=function(){function n(n,e,t,l,r){this.asyncQueue=n,this.timerId=e,this.targetTimeMs=t,this.op=l,this.removalCallback=r,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(n){})}return n.createAndSchedule=function(e,t,l,r,i){var o=new n(e,t,Date.now()+l,r,i);return o.start(l),o},n.prototype.start=function(n){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},n)},n.prototype.skipDelay=function(){return this.handleDelayElapsed()},n.prototype.cancel=function(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},n.prototype.handleDelayElapsed=function(){var n=this;this.asyncQueue.enqueueAndForget(function(){return null!==n.timerHandle?(n.clearTimeout(),n.op().then(function(e){return n.deferred.resolve(e)})):Promise.resolve()})},n.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},n}(),gt=function(){function n(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return n.prototype.enqueueAndForget=function(n){this.enqueue(n)},n.prototype.enqueue=function(n){var e=this;this.verifyNotFailed();var t=this.tail.then(function(){return e.operationInProgress=!0,n().catch(function(n){e.failure=n,e.operationInProgress=!1;var t=n.stack||n.message||"";throw m("INTERNAL UNHANDLED ERROR: ",t),t.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw n},0),n}).then(function(n){return e.operationInProgress=!1,n})});return this.tail=t,t},n.prototype.enqueueAfterDelay=function(n,e,t){var l=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),v(!this.containsDelayedOperation(n),"Attempted to schedule multiple operations with timer id "+n+".");var r=mt.createAndSchedule(this,n,e,t,function(n){return l.removeDelayedOperation(n)});return this.delayedOperations.push(r),r},n.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},n.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},n.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},n.prototype.containsDelayedOperation=function(n){for(var e=0,t=this.delayedOperations;e<t.length;e++)if(t[e].timerId===n)return!0;return!1},n.prototype.runDelayedOperationsEarly=function(n){var e=this;return this.drain().then(function(){v(n===dt.All||e.containsDelayedOperation(n),"Attempted to drain to missing operation "+n),e.delayedOperations.sort(function(n,e){return n.targetTimeMs-e.targetTimeMs});for(var t=0,l=e.delayedOperations;t<l.length;t++){var r=l[t];if(r.skipDelay(),n!==dt.All&&r.timerId===n)break}return e.drain()})},n.prototype.removeDelayedOperation=function(n){var e=this.delayedOperations.indexOf(n);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},n}(),yt="\x01",vt="\x01",bt="\x10",_t="\x11";function wt(n){for(var e="",t=0;t<n.length;t++)e.length>0&&(e=Et(e)),e=Ct(n.get(t),e);return Et(e)}function Ct(n,e){for(var t=e,l=n.length,r=0;r<l;r++){var i=n.charAt(r);switch(i){case"\0":t+=yt+bt;break;case yt:t+=yt+_t;break;default:t+=i}}return t}function Et(n){return n+yt+vt}function St(n){var e=n.length;if(v(e>=2,"Invalid path "+n),2===e)return v(n.charAt(0)===yt&&n.charAt(1)===vt,"Non-empty path "+n+" had length 2"),un.EMPTY_PATH;for(var t=e-2,l=[],r="",i=0;i<e;){var o=n.indexOf(yt,i);switch((o<0||o>t)&&y('Invalid encoded resource path: "'+n+'"'),n.charAt(o+1)){case vt:var u=n.substring(i,o),a=void 0;0===r.length?a=u:(a=r+=u,r=""),l.push(a);break;case bt:r+=n.substring(i,o),r+="\0";break;case _t:r+=n.substring(i,o+1);break;default:y('Invalid encoded resource path: "'+n+'"')}i=o+2}return new un(l)}var Tt=function(){function n(n,e,t,l){this.batchId=n,this.localWriteTime=e,this.baseMutations=t,this.mutations=l,v(l.length>0,"Cannot create an empty mutation batch")}return n.prototype.applyToRemoteDocument=function(n,e,t){e&&v(e.key.isEqual(n),"applyToRemoteDocument: key "+n+" should match maybeDoc key\n        "+e.key);var l=t.mutationResults;v(l.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+l.length+").");for(var r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(n)&&(e=i.applyToRemoteDocument(e,l[r]))}return e},n.prototype.applyToLocalView=function(n,e){e&&v(e.key.isEqual(n),"applyToLocalDocument: key "+n+" should match maybeDoc key\n        "+e.key);for(var t=0,l=this.baseMutations;t<l.length;t++)(u=l[t]).key.isEqual(n)&&(e=u.applyToLocalView(e,e,this.localWriteTime));for(var r=e,i=0,o=this.mutations;i<o.length;i++){var u;(u=o[i]).key.isEqual(n)&&(e=u.applyToLocalView(e,r,this.localWriteTime))}return e},n.prototype.applyToLocalDocumentSet=function(n){var e=this,t=n;return this.mutations.forEach(function(l){var r=e.applyToLocalView(l.key,n.get(l.key));r&&(t=t.insert(l.key,r))}),t},n.prototype.keys=function(){return this.mutations.reduce(function(n,e){return n.add(e.key)},Re())},n.prototype.isEqual=function(n){return this.batchId===n.batchId&&Q(this.mutations,n.mutations)&&Q(this.baseMutations,n.baseMutations)},n}(),It=function(){function n(n,e,t,l,r){this.batch=n,this.commitVersion=e,this.mutationResults=t,this.streamToken=l,this.docVersions=r}return n.from=function(e,t,l,r){v(e.mutations.length===l.length,"Mutations sent "+e.mutations.length+" must equal results received "+l.length);for(var i=Ne(),o=e.mutations,u=0;u<o.length;u++)i=i.insert(o[u].key,l[u].version);return new n(e,t,l,r,i)},n}(),kt=function(){function n(n){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(function(n){e.isDone=!0,e.result=n,e.nextCallback&&e.nextCallback(n)},function(n){e.isDone=!0,e.error=n,e.catchCallback&&e.catchCallback(n)})}return n.prototype.catch=function(n){return this.next(void 0,n)},n.prototype.next=function(e,t){var l=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n(function(n,r){l.nextCallback=function(t){l.wrapSuccess(e,t).next(n,r)},l.catchCallback=function(e){l.wrapFailure(t,e).next(n,r)}})},n.prototype.toPromise=function(){var n=this;return new Promise(function(e,t){n.next(e,t)})},n.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof n?t:n.resolve(t)}catch(l){return n.reject(l)}},n.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.resolve(t)},n.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):n.reject(t)},n.resolve=function(e){return new n(function(n,t){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.waitFor=function(e){return new n(function(n,t){var l=0,r=0,i=!1;e.forEach(function(e){++l,e.next(function(){++r,i&&r===l&&n()},function(n){return t(n)})}),i=!0,r===l&&n()})},n.or=function(e){for(var t=n.resolve(!1),l=function(e){t=t.next(function(t){return t?n.resolve(t):e()})},r=0,i=e;r<i.length;r++)l(i[r]);return t},n.forEach=function(n,e){var t=this,l=[];return n.forEach(function(n,r){l.push(e.call(t,n,r))}),this.waitFor(l)},n}(),At=function(){function n(n,e,t,l){this.userId=n,this.serializer=e,this.indexManager=t,this.referenceDelegate=l,this.documentKeysByBatchId={}}return n.forUser=function(e,t,l,r){return v(""!==e.uid,"UserID must not be an empty string."),new n(e.isAuthenticated()?e.uid:"",t,l,r)},n.prototype.checkEmpty=function(n){var e=!0,t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ot(n).iterate({index:hl.userMutationsIndex,range:t},function(n,t,l){e=!1,l.done()}).next(function(){return e})},n.prototype.acknowledgeBatch=function(n,e,t){return this.getMutationQueueMetadata(n).next(function(e){return e.lastStreamToken=Nt(t),Pt(n).put(e)})},n.prototype.getLastStreamToken=function(n){return this.getMutationQueueMetadata(n).next(function(n){return n.lastStreamToken})},n.prototype.setLastStreamToken=function(n,e){return this.getMutationQueueMetadata(n).next(function(t){return t.lastStreamToken=Nt(e),Pt(n).put(t)})},n.prototype.addMutationBatch=function(n,e,t,l){var r=this,i=Rt(n),o=Ot(n);return o.add({}).next(function(u){v("number"==typeof u,"Auto-generated key is not a number");var a=new Tt(u,e,t,l),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[u]=a.keys();for(var c=[],h=0,d=l;h<d.length;h++){var p=d[h],f=dl.key(r.userId,p.key.path,u);c.push(o.put(s)),c.push(i.put(f,dl.PLACEHOLDER)),c.push(r.indexManager.addToCollectionParentIndex(n,p.key.path.popLast()))}return kt.waitFor(c).next(function(){return a})})},n.prototype.lookupMutationBatch=function(n,e){var t=this;return Ot(n).get(e).next(function(n){return n?(v(n.userId===t.userId,"Unexpected user '"+n.userId+"' for mutation batch "+e),t.serializer.fromDbMutationBatch(n)):null})},n.prototype.lookupMutationKeys=function(n,e){var t=this;return this.documentKeysByBatchId[e]?kt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(n,e).next(function(n){if(n){var l=n.keys();return t.documentKeysByBatchId[e]=l,l}return null})},n.prototype.getNextMutationBatchAfterBatchId=function(n,e){var t=this;return this.getMutationQueueMetadata(n).next(function(l){var r=e+1,i=IDBKeyRange.lowerBound([t.userId,r]),o=null;return Ot(n).iterate({index:hl.userMutationsIndex,range:i},function(n,e,l){e.userId===t.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),o=t.serializer.fromDbMutationBatch(e)),l.done()}).next(function(){return o})})},n.prototype.getAllMutationBatches=function(n){var e=this,t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ot(n).loadAll(hl.userMutationsIndex,t).next(function(n){return n.map(function(n){return e.serializer.fromDbMutationBatch(n)})})},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,e){var t=this,l=dl.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(l),i=[];return Rt(n).iterate({range:r},function(l,r,o){var u=l[0],a=l[2],s=St(l[1]);if(u===t.userId&&e.path.isEqual(s))return Ot(n).get(a).next(function(n){if(!n)throw y("Dangling document-mutation reference found: "+l+" which points to "+a);v(n.userId===t.userId,"Unexpected user '"+n.userId+"' for mutation batch "+a),i.push(t.serializer.fromDbMutationBatch(n))});o.done()}).next(function(){return i})},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,e){var t=this,l=new le(G),r=[];return e.forEach(function(e){var i=dl.prefixForPath(t.userId,e.path),o=IDBKeyRange.lowerBound(i),u=Rt(n).iterate({range:o},function(n,r,i){var o=n[0],u=n[2],a=St(n[1]);o===t.userId&&e.path.isEqual(a)?l=l.add(u):i.done()});r.push(u)}),kt.waitFor(r).next(function(){return t.lookupMutationBatches(n,l)})},n.prototype.getAllMutationBatchesAffectingQuery=function(n,e){var t=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var l=e.path,r=l.length+1,i=dl.prefixForPath(this.userId,l),o=IDBKeyRange.lowerBound(i),u=new le(G);return Rt(n).iterate({range:o},function(n,e,i){var o=n[0],a=n[2],s=St(n[1]);o===t.userId&&l.isPrefixOf(s)?s.length===r&&(u=u.add(a)):i.done()}).next(function(){return t.lookupMutationBatches(n,u)})},n.prototype.lookupMutationBatches=function(n,e){var t=this,l=[],r=[];return e.forEach(function(e){r.push(Ot(n).get(e).next(function(n){if(null===n)throw y("Dangling document-mutation reference found, which points to "+e);v(n.userId===t.userId,"Unexpected user '"+n.userId+"' for mutation batch "+e),l.push(t.serializer.fromDbMutationBatch(n))}))}),kt.waitFor(r).next(function(){return l})},n.prototype.removeMutationBatch=function(n,e){var t=this;return xt(n.simpleDbTransaction,this.userId,e).next(function(l){return t.removeCachedMutationKeys(e.batchId),kt.forEach(l,function(e){return t.referenceDelegate.removeMutationReference(n,e)})})},n.prototype.removeCachedMutationKeys=function(n){delete this.documentKeysByBatchId[n]},n.prototype.performConsistencyCheck=function(n){var e=this;return this.checkEmpty(n).next(function(t){if(!t)return kt.resolve();var l=IDBKeyRange.lowerBound(dl.prefixForUser(e.userId)),r=[];return Rt(n).iterate({range:l},function(n,t,l){if(n[0]===e.userId){var i=St(n[1]);r.push(i)}else l.done()}).next(function(){v(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map(function(n){return n.canonicalString()}))})})},n.prototype.containsKey=function(n,e){return Dt(n,this.userId,e)},n.prototype.getMutationQueueMetadata=function(n){var e=this;return Pt(n).get(this.userId).next(function(n){return n||new cl(e.userId,-1,"")})},n}();function Dt(n,e,t){var l=dl.prefixForPath(e,t.path),r=l[1],i=IDBKeyRange.lowerBound(l),o=!1;return Rt(n).iterate({range:i,keysOnly:!0},function(n,t,l){n[0]===e&&n[1]===r&&(o=!0),l.done()}).next(function(){return o})}function xt(n,e,t){var l=n.store(hl.store),r=n.store(dl.store),i=[],o=IDBKeyRange.only(t.batchId),u=0,a=l.iterate({range:o},function(n,e,t){return u++,t.delete()});i.push(a.next(function(){v(1===u,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var s=[],c=0,h=t.mutations;c<h.length;c++){var d=h[c],p=dl.key(e,d.key.path,t.batchId);i.push(r.delete(p)),s.push(d.key)}return kt.waitFor(i).next(function(){return s})}function Nt(n){return n instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),n.toString()):n}function Ot(n){return ql.getStore(n,hl.store)}function Rt(n){return ql.getStore(n,dl.store)}function Pt(n){return ql.getStore(n,cl.store)}var Mt=1,Lt=function(n){return n[n.QueryCache=0]="QueryCache",n[n.SyncEngine=1]="SyncEngine",n}({}),Vt=function(){function n(n,e){this.generatorId=n,v((n&Mt)===n,"Generator ID "+n+" contains more than "+Mt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return n.prototype.next=function(){var n=this.nextId;return this.nextId+=1<<Mt,n},n.prototype.after=function(n){return this.seek(n+(1<<Mt)),this.next()},n.prototype.seek=function(n){v((n&Mt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=n},n.forQueryCache=function(){return new n(Lt.QueryCache,2)},n.forSyncEngine=function(){return new n(Lt.SyncEngine)},n}(),Ut=function(){function n(n){this.db=n}return n.openOrCreate=function(e,t,l){return v(n.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",e),new kt(function(r,i){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){r(new n(e.target.result))},o.onblocked=function(){i(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(n){var e=n.target.error;i("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},o.onupgradeneeded=function(n){f("SimpleDb",'Database "'+e+'" requires upgrade from version:',n.oldVersion);var t=n.target.result,r=new Ft(o.transaction);l.createOrUpgrade(t,r,n.oldVersion,ol).next(function(){f("SimpleDb","Database upgrade to version "+ol+" complete")})}}).toPromise()},n.delete=function(n){return f("SimpleDb","Removing database:",n),Bt(window.indexedDB.deleteDatabase(n)).toPromise()},n.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent,t=n.getIOSVersion(e),l=0<t&&t<10,r=n.getAndroidVersion(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||i)},n.getStore=function(n,e){return n.store(e)},n.getIOSVersion=function(n){var e=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=e?e[1].split("_")[0]:"-1";return Number(t)},n.getAndroidVersion=function(n){var e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)},n.prototype.setVersionChangeListener=function(n){this.db.onversionchange=function(e){return n(e)}},n.prototype.runTransaction=function(n,e,t){var l=Ft.open(this.db,n,e),r=t(l).catch(function(n){return l.abort(n),kt.reject(n)}).toPromise();return r.catch(function(){}),l.completionPromise.then(function(){return r})},n.prototype.close=function(){this.db.close()},n}(),qt=function(){function n(n){this.dbCursor=n,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(n.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cursor",{set:function(n){this.dbCursor=n},enumerable:!0,configurable:!0}),n.prototype.done=function(){this.shouldStop=!0},n.prototype.skip=function(n){this.nextKey=n},n.prototype.delete=function(){return Bt(this.dbCursor.delete())},n}(),Ft=function(){function n(n){var e=this;this.transaction=n,this.aborted=!1,this.completionDeferred=new ft,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){n.error?e.completionDeferred.reject(n.error):e.completionDeferred.resolve()},this.transaction.onerror=function(n){e.completionDeferred.reject(n.target.error)}}return n.open=function(e,t,l){return new n(e.transaction(l,t))},Object.defineProperty(n.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),n.prototype.abort=function(n){n&&this.completionDeferred.reject(n),this.aborted||(f("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},n.prototype.store=function(n){var e=this.transaction.objectStore(n);return v(!!e,"Object store not part of transaction: "+n),new jt(e)},n}(),jt=function(){function n(n){this.store=n}return n.prototype.put=function(n,e){var t;return void 0!==e?(f("SimpleDb","PUT",this.store.name,n,e),t=this.store.put(e,n)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",n),t=this.store.put(n)),Bt(t)},n.prototype.add=function(n){return f("SimpleDb","ADD",this.store.name,n,n),Bt(this.store.add(n))},n.prototype.get=function(n){var e=this;return Bt(this.store.get(n)).next(function(t){return void 0===t&&(t=null),f("SimpleDb","GET",e.store.name,n,t),t})},n.prototype.delete=function(n){return f("SimpleDb","DELETE",this.store.name,n),Bt(this.store.delete(n))},n.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),Bt(this.store.count())},n.prototype.loadAll=function(n,e){var t=this.cursor(this.options(n,e)),l=[];return this.iterateCursor(t,function(n,e){l.push(e)}).next(function(){return l})},n.prototype.deleteAll=function(n,e){f("SimpleDb","DELETE ALL",this.store.name);var t=this.options(n,e);t.keysOnly=!1;var l=this.cursor(t);return this.iterateCursor(l,function(n,e,t){return t.delete()})},n.prototype.iterate=function(n,e){var t;e?t=n:(t={},e=n);var l=this.cursor(t);return this.iterateCursor(l,e)},n.prototype.iterateSerial=function(n){var e=this.cursor({});return new kt(function(t,l){e.onerror=function(n){l(n.target.error)},e.onsuccess=function(e){var l=e.target.result;l?n(l.primaryKey,l.value).next(function(n){n?l.continue():t()}):t()}})},n.prototype.iterateCursor=function(n,e){var t=[];return new kt(function(l,r){n.onerror=function(n){r(n.target.error)},n.onsuccess=function(n){var r=n.target.result;if(r){var i=new qt(r),o=e(r.primaryKey,r.value,i);if(o instanceof kt){var u=o.catch(function(n){return i.done(),kt.reject(n)});t.push(u)}i.isDone?l():null===i.skipToKey?r.continue():r.continue(i.skipToKey)}else l()}}).next(function(){return kt.waitFor(t)})},n.prototype.options=function(n,e){var t=void 0;return void 0!==n&&("string"==typeof n?t=n:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=n)),{index:t,range:e}},n.prototype.cursor=function(n){var e="next";if(n.reverse&&(e="prev"),n.index){var t=this.store.index(n.index);return n.keysOnly?t.openKeyCursor(n.range,e):t.openCursor(n.range,e)}return this.store.openCursor(n.range,e)},n}();function Bt(n){return new kt(function(e,t){n.onsuccess=function(n){e(n.target.result)},n.onerror=function(n){t(n.target.error)}})}var Kt=function(){function n(n,e){this.referenceDelegate=n,this.serializer=e,this.targetIdGenerator=Vt.forQueryCache()}return n.prototype.allocateTargetId=function(n){var e=this;return this.retrieveMetadata(n).next(function(t){return t.highestTargetId=e.targetIdGenerator.after(t.highestTargetId),e.saveMetadata(n,t).next(function(){return t.highestTargetId})})},n.prototype.getLastRemoteSnapshotVersion=function(n){return this.retrieveMetadata(n).next(function(n){return ne.fromTimestamp(new en(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},n.prototype.getHighestSequenceNumber=function(n){return Wt(n.simpleDbTransaction)},n.prototype.setTargetsMetadata=function(n,e,t){var l=this;return this.retrieveMetadata(n).next(function(r){return r.highestListenSequenceNumber=e,t&&(r.lastRemoteSnapshotVersion=t.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),l.saveMetadata(n,r)})},n.prototype.addQueryData=function(n,e){var t=this;return this.saveQueryData(n,e).next(function(){return t.retrieveMetadata(n).next(function(l){return l.targetCount+=1,t.updateMetadataFromQueryData(e,l),t.saveMetadata(n,l)})})},n.prototype.updateQueryData=function(n,e){return this.saveQueryData(n,e)},n.prototype.removeQueryData=function(n,e){var t=this;return this.removeMatchingKeysForTargetId(n,e.targetId).next(function(){return zt(n).delete(e.targetId)}).next(function(){return t.retrieveMetadata(n)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,t.saveMetadata(n,e)})},n.prototype.removeTargets=function(n,e,t){var l=this,r=0,i=[];return zt(n).iterate(function(o,u){var a=l.serializer.fromDbTarget(u);a.sequenceNumber<=e&&void 0===t[a.targetId]&&(r++,i.push(l.removeQueryData(n,a)))}).next(function(){return kt.waitFor(i)}).next(function(){return r})},n.prototype.forEachTarget=function(n,e){var t=this;return zt(n).iterate(function(n,l){var r=t.serializer.fromDbTarget(l);e(r)})},n.prototype.retrieveMetadata=function(n){return Ht(n.simpleDbTransaction)},n.prototype.saveMetadata=function(n,e){return(t=n,ql.getStore(t,bl.store)).put(bl.key,e);var t},n.prototype.saveQueryData=function(n,e){return zt(n).put(this.serializer.toDbTarget(e))},n.prototype.updateMetadataFromQueryData=function(n,e){var t=!1;return n.targetId>e.highestTargetId&&(e.highestTargetId=n.targetId,t=!0),n.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=n.sequenceNumber,t=!0),t},n.prototype.getQueryCount=function(n){return this.retrieveMetadata(n).next(function(n){return n.targetCount})},n.prototype.getQueryData=function(n,e){var t=this,l=e.canonicalId(),r=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]),i=null;return zt(n).iterate({range:r,index:yl.queryTargetsIndexName},function(n,l,r){var o=t.serializer.fromDbTarget(l);e.isEqual(o.query)&&(i=o,r.done())}).next(function(){return i})},n.prototype.addMatchingKeys=function(n,e,t){var l=this,r=[],i=Gt(n);return e.forEach(function(e){var o=wt(e.path);r.push(i.put(new vl(t,o))),r.push(l.referenceDelegate.addReference(n,e))}),kt.waitFor(r)},n.prototype.removeMatchingKeys=function(n,e,t){var l=this,r=Gt(n);return kt.forEach(e,function(e){var i=wt(e.path);return kt.waitFor([r.delete([t,i]),l.referenceDelegate.removeReference(n,e)])})},n.prototype.removeMatchingKeysForTargetId=function(n,e){var t=Gt(n),l=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(l)},n.prototype.getMatchingKeysForTargetId=function(n,e){var t=IDBKeyRange.bound([e],[e+1],!1,!0),l=Gt(n),r=Re();return l.iterate({range:t,keysOnly:!0},function(n,e,t){var l=St(n[1]),i=new cn(l);r=r.add(i)}).next(function(){return r})},n.prototype.containsKey=function(n,e){var t=wt(e.path),l=IDBKeyRange.bound([t],[X(t)],!1,!0),r=0;return Gt(n).iterate({index:vl.documentTargetsIndex,keysOnly:!0,range:l},function(n,e,t){0!==n[0]&&(r++,t.done())}).next(function(){return r>0})},n.prototype.getQueryDataForTarget=function(n,e){var t=this;return zt(n).get(e).next(function(n){return n?t.serializer.fromDbTarget(n):null})},n}();function zt(n){return ql.getStore(n,yl.store)}function Ht(n){return Ut.getStore(n,bl.store).get(bl.key).next(function(n){return v(null!==n,"Missing metadata row."),n})}function Wt(n){return Ht(n).next(function(n){return n.highestListenSequenceNumber})}function Gt(n){return ql.getStore(n,vl.store)}var Qt=function(){function n(n){this.mapKeyFn=n,this.inner={}}return n.prototype.get=function(n){var e=this.mapKeyFn(n),t=this.inner[e];if(void 0!==t)for(var l=0,r=t;l<r.length;l++){var i=r[l],o=i[1];if(i[0].isEqual(n))return o}},n.prototype.has=function(n){return void 0!==this.get(n)},n.prototype.set=function(n,e){var t=this.mapKeyFn(n),l=this.inner[t];if(void 0!==l){for(var r=0;r<l.length;r++)if(l[r][0].isEqual(n))return void(l[r]=[n,e]);l.push([n,e])}else this.inner[t]=[[n,e]]},n.prototype.delete=function(n){var e=this.mapKeyFn(n),t=this.inner[e];if(void 0===t)return!1;for(var l=0;l<t.length;l++)if(t[l][0].isEqual(n))return 1===t.length?delete this.inner[e]:t.splice(l,1),!0;return!1},n.prototype.forEach=function(n){k(this.inner,function(e,t){for(var l=0,r=t;l<r.length;l++){var i=r[l];n(i[0],i[1])}})},n.prototype.isEmpty=function(){return A(this.inner)},n}(),Xt=function(){function n(){this.changes=Ie(),this.documentSizes=new Qt(function(n){return n.toString()})}return n.prototype.addEntry=function(n){var e=this.assertChanges();this.changes=e.insert(n.key,n)},n.prototype.getEntry=function(n,e){var t=this,l=this.assertChanges().get(e);return l?kt.resolve(l):this.getFromCache(n,e).next(function(n){return null===n?(t.documentSizes.set(e,0),null):(t.documentSizes.set(e,n.size),n.maybeDocument)})},n.prototype.getEntries=function(n,e){var t=this;return this.getAllFromCache(n,e).next(function(n){var e=n.maybeDocuments;return n.sizeMap.forEach(function(n,e){t.documentSizes.set(n,e)}),e})},n.prototype.apply=function(n){var e=this.applyChanges(n);return this.changes=null,e},n.prototype.assertChanges=function(){return v(null!==this.changes,"Changes have already been applied."),this.changes},n}(),Yt="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",$t=function(){function n(n,e,t){this.serializer=n,this.indexManager=e,this.keepDocumentChangeLog=t,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(n.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),n.prototype.start=function(n){var e=Ut.getStore(n,Cl.store);return this.synchronizeLastDocumentChangeId(e)},n.prototype.addEntries=function(n,e,t){var l=[];if(e.length>0){for(var r=nl(n),i=Re(),o=0,u=e;o<u.length;o++){var a=u[o],s=a.key,c=a.doc;l.push(r.put(tl(s),c)),i=i.add(s),l.push(this.indexManager.addToCollectionParentIndex(n,s.path.popLast()))}this.keepDocumentChangeLog&&l.push(el(n).put({changes:this.serializer.toDbResourcePaths(i)})),l.push(this.updateSize(n,t))}return kt.waitFor(l)},n.prototype.removeEntry=function(n,e){var t=nl(n),l=tl(e);return t.get(l).next(function(n){return n?t.delete(l).next(function(){return ll(n)}):kt.resolve(0)})},n.prototype.getEntry=function(n,e){var t=this;return nl(n).get(tl(e)).next(function(n){return n?t.serializer.fromDbRemoteDocument(n):null})},n.prototype.getSizedEntry=function(n,e){var t=this;return nl(n).get(tl(e)).next(function(n){return n?{maybeDocument:t.serializer.fromDbRemoteDocument(n),size:ll(n)}:null})},n.prototype.getEntries=function(n,e){var t=this,l=ke();return this.forEachDbEntry(n,e,function(n,e){l=l.insert(n,e?t.serializer.fromDbRemoteDocument(e):null)}).next(function(){return l})},n.prototype.getSizedEntries=function(n,e){var t=this,l=ke(),r=new mn(cn.comparator);return this.forEachDbEntry(n,e,function(n,e){e?(l=l.insert(n,t.serializer.fromDbRemoteDocument(e)),r=r.insert(n,ll(e))):(l=l.insert(n,null),r=r.insert(n,0))}).next(function(){return{maybeDocuments:l,sizeMap:r}})},n.prototype.forEachDbEntry=function(n,e,t){if(e.isEmpty())return kt.resolve();var l=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),i=r.getNext();return nl(n).iterate({range:l},function(n,e,l){for(var o=cn.fromSegments(n);i&&cn.comparator(i,o)<0;)t(i,null),i=r.getNext();i&&i.isEqual(o)&&(t(i,e),i=r.hasNext()?r.getNext():null),i?l.skip(i.path.toArray()):l.done()}).next(function(){for(;i;)t(i,null),i=r.hasNext()?r.getNext():null})},n.prototype.getDocumentsMatchingQuery=function(n,e){var t=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var l=De(),r=e.path.length+1,i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return nl(n).iterate({range:o},function(n,i,o){if(n.length===r){var u=t.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(u.key.path)?u instanceof dn&&e.matches(u)&&(l=l.insert(u.key,u)):o.done()}}).next(function(){return l})},n.prototype.getNewDocumentChanges=function(n){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var t=Re(),l=Ie(),r=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),i=!0,o=el(n);return o.iterate({range:r},function(n,l){if(i&&(i=!1,e._lastProcessedDocumentChangeId+1!==l.id))return e.synchronizeLastDocumentChangeId(o).next(function(){return kt.reject(new C(w.DATA_LOSS,Yt))});t=t.unionWith(e.serializer.fromDbResourcePaths(l.changes)),e._lastProcessedDocumentChangeId=l.id}).next(function(){var r=[];return t.forEach(function(t){r.push(e.getEntry(n,t).next(function(n){var e=n||new pn(t,ne.forDeletedDoc());l=l.insert(t,e)}))}),kt.waitFor(r)}).next(function(){return l})},n.prototype.removeDocumentChangesThroughChangeId=function(n,e){var t=IDBKeyRange.upperBound(e);return el(n).delete(t)},n.prototype.synchronizeLastDocumentChangeId=function(n){var e=this;return this._lastProcessedDocumentChangeId=0,n.iterate({keysOnly:!0,reverse:!0},function(n,t,l){e._lastProcessedDocumentChangeId=n,l.done()})},n.prototype.newChangeBuffer=function(){return new Jt(this)},n.prototype.getSize=function(n){return this.getMetadata(n).next(function(n){return n.byteSize})},n.prototype.getMetadata=function(n){return Zt(n).get(gl.key).next(function(n){return v(!!n,"Missing document cache metadata"),n})},n.prototype.setMetadata=function(n,e){return Zt(n).put(gl.key,e)},n.prototype.updateSize=function(n,e){var t=this;return this.getMetadata(n).next(function(l){return l.byteSize+=e,t.setMetadata(n,l)})},n}();function Zt(n){return ql.getStore(n,gl.store)}var Jt=function(n){function e(e){var t=n.call(this)||this;return t.documentCache=e,t}return o.__extends(e,n),e.prototype.applyChanges=function(n){var e=this,t=this.assertChanges(),l=0,r=[];return t.forEach(function(n,t){var i=e.documentCache.serializer.toDbRemoteDocument(t),o=e.documentSizes.get(n);v(void 0!==o,"Attempting to change document "+n.toString()+" without having read it first");var u=ll(i);l+=u-o,r.push({key:n,doc:i})}),this.documentCache.addEntries(n,r,l)},e.prototype.getFromCache=function(n,e){return this.documentCache.getSizedEntry(n,e)},e.prototype.getAllFromCache=function(n,e){return this.documentCache.getSizedEntries(n,e)},e}(Xt);function nl(n){return ql.getStore(n,ml.store)}function el(n){return ql.getStore(n,Cl.store)}function tl(n){return n.path.toArray()}function ll(n){var e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length}var rl=function(){function n(){this.collectionParentIndex=new il}return n.prototype.addToCollectionParentIndex=function(n,e){return this.collectionParentIndex.add(e),kt.resolve()},n.prototype.getCollectionParents=function(n,e){return kt.resolve(this.collectionParentIndex.getEntries(e))},n}(),il=function(){function n(){this.index={}}return n.prototype.add=function(n){v(n.length%2==1,"Expected a collection path.");var e=n.lastSegment(),t=n.popLast(),l=this.index[e]||new le(un.comparator),r=!l.has(t);return this.index[e]=l.add(t),r},n.prototype.getEntries=function(n){return(this.index[n]||new le(un.comparator)).toArray()},n}(),ol=8,ul=function(){function n(n){this.serializer=n}return n.prototype.createOrUpgrade=function(n,e,t,l){var r=this;v(t<l&&t>=0&&l<=ol,"Unexpected schema upgrade from v"+t+" to v{toVersion}."),t<1&&l>=1&&(function(n){n.createObjectStore(sl.store)}(n),function(n){n.createObjectStore(cl.store,{keyPath:cl.keyPath}),n.createObjectStore(hl.store,{keyPath:hl.keyPath,autoIncrement:!0}).createIndex(hl.userMutationsIndex,hl.userMutationsKeyPath,{unique:!0}),n.createObjectStore(dl.store)}(n),wl(n),function(n){n.createObjectStore(ml.store)}(n));var i=kt.resolve();return t<3&&l>=3&&(0!==t&&(function(n){n.deleteObjectStore(vl.store),n.deleteObjectStore(yl.store),n.deleteObjectStore(bl.store)}(n),wl(n)),i=i.next(function(){return function(n){var e=n.store(bl.store),t=new bl(0,0,ne.MIN.toTimestamp(),0);return e.put(bl.key,t)}(e)})),t<4&&l>=4&&(0!==t&&(i=i.next(function(){return function(n,e){return e.store(hl.store).loadAll().next(function(t){n.deleteObjectStore(hl.store),n.createObjectStore(hl.store,{keyPath:hl.keyPath,autoIncrement:!0}).createIndex(hl.userMutationsIndex,hl.userMutationsKeyPath,{unique:!0});var l=e.store(hl.store),r=t.map(function(n){return l.put(n)});return kt.waitFor(r)})}(n,e)})),i=i.next(function(){!function(n){n.createObjectStore(El.store,{keyPath:El.keyPath})}(n),function(n){n.createObjectStore(Cl.store,{keyPath:"id",autoIncrement:!0})}(n)})),t<5&&l>=5&&(i=i.next(function(){return r.removeAcknowledgedMutations(e)})),t<6&&l>=6&&(i=i.next(function(){return function(n){n.createObjectStore(gl.store)}(n),r.addDocumentGlobal(e)})),t<7&&l>=7&&(i=i.next(function(){return r.ensureSequenceNumbers(e)})),t<8&&l>=8&&(i=i.next(function(){return r.createCollectionParentIndex(n,e)})),i},n.prototype.addDocumentGlobal=function(n){var e=0;return n.store(ml.store).iterate(function(n,t){e+=ll(t)}).next(function(){var t=new gl(e);return n.store(gl.store).put(gl.key,t)})},n.prototype.removeAcknowledgedMutations=function(n){var e=this,t=n.store(cl.store),l=n.store(hl.store);return t.loadAll().next(function(t){return kt.forEach(t,function(t){var r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return l.loadAll(hl.userMutationsIndex,r).next(function(l){return kt.forEach(l,function(l){v(l.userId===t.userId,"Cannot process batch "+l.batchId+" from unexpected user");var r=e.serializer.fromDbMutationBatch(l);return xt(n,t.userId,r).next(function(){})})})})})},n.prototype.ensureSequenceNumbers=function(n){var e=n.store(vl.store),t=n.store(ml.store);return Wt(n).next(function(n){var l=[];return t.iterate(function(t,r){var i=new un(t),o=function(n){return[0,wt(n)]}(i);l.push(e.get(o).next(function(t){return t?kt.resolve():function(t){return e.put(new vl(0,wt(t),n))}(i)}))}).next(function(){return kt.waitFor(l)})})},n.prototype.createCollectionParentIndex=function(n,e){n.createObjectStore(_l.store,{keyPath:_l.keyPath});var t=e.store(_l.store),l=new il,r=function(n){if(l.add(n)){var e=n.lastSegment(),r=n.popLast();return t.put({collectionId:e,parent:wt(r)})}};return e.store(ml.store).iterate({keysOnly:!0},function(n,e){var t=new un(n);return r(t.popLast())}).next(function(){return e.store(dl.store).iterate({keysOnly:!0},function(n,e){var t=St(n[1]);return r(t.popLast())})})},n}(),al=function(){return function(n,e){this.seconds=n,this.nanoseconds=e}}(),sl=function(){function n(n,e,t){this.ownerId=n,this.allowTabSynchronization=e,this.leaseTimestampMs=t}return n.store="owner",n.key="owner",n}(),cl=function(){function n(n,e,t){this.userId=n,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t}return n.store="mutationQueues",n.keyPath="userId",n}(),hl=function(){function n(n,e,t,l,r){this.userId=n,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=l,this.mutations=r}return n.store="mutations",n.keyPath="batchId",n.userMutationsIndex="userMutationsIndex",n.userMutationsKeyPath=["userId","batchId"],n}(),dl=function(){function n(){}return n.prefixForUser=function(n){return[n]},n.prefixForPath=function(n,e){return[n,wt(e)]},n.key=function(n,e,t){return[n,wt(e),t]},n.store="documentMutations",n.PLACEHOLDER=new n,n}(),pl=function(){return function(n,e){this.path=n,this.readTime=e}}(),fl=function(){return function(n,e){this.path=n,this.version=e}}(),ml=function(){function n(n,e,t,l){this.unknownDocument=n,this.noDocument=e,this.document=t,this.hasCommittedMutations=l}return n.store="remoteDocuments",n}(),gl=function(){function n(n){this.byteSize=n}return n.store="remoteDocumentGlobal",n.key="remoteDocumentGlobalKey",n}(),yl=function(){function n(n,e,t,l,r,i){this.targetId=n,this.canonicalId=e,this.readTime=t,this.resumeToken=l,this.lastListenSequenceNumber=r,this.query=i}return n.store="targets",n.keyPath="targetId",n.queryTargetsIndexName="queryTargetsIndex",n.queryTargetsKeyPath=["canonicalId","targetId"],n}(),vl=function(){function n(n,e,t){this.targetId=n,this.path=e,this.sequenceNumber=t,v(0===n==(void 0!==t),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return n.store="targetDocuments",n.keyPath=["targetId","path"],n.documentTargetsIndex="documentTargetsIndex",n.documentTargetsKeyPath=["path","targetId"],n}(),bl=function(){function n(n,e,t,l){this.highestTargetId=n,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=l}return n.key="targetGlobalKey",n.store="targetGlobal",n}(),_l=function(){function n(n,e){this.collectionId=n,this.parent=e}return n.store="collectionParents",n.keyPath=["collectionId","parent"],n}();function wl(n){n.createObjectStore(vl.store,{keyPath:vl.keyPath}).createIndex(vl.documentTargetsIndex,vl.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(yl.store,{keyPath:yl.keyPath}).createIndex(yl.queryTargetsIndexName,yl.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(bl.store)}var Cl=function(){function n(n){this.changes=n}return n.store="remoteDocumentChanges",n.keyPath="id",n}(),El=function(){function n(n,e,t,l,r){this.clientId=n,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=l,this.lastProcessedDocumentChangeId=r}return n.store="clientMetadata",n.keyPath="clientId",n}(),Sl=[cl.store,hl.store,dl.store,ml.store,yl.store,sl.store,bl.store,vl.store].concat([El.store,Cl.store]).concat([gl.store]).concat([_l.store]),Tl=function(){function n(){this.collectionParentsCache=new il}return n.prototype.addToCollectionParentIndex=function(n,e){if(v(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){v(e.length>=1,"Invalid collection path.");var t=e.lastSegment(),l=e.popLast();return Il(n).put({collectionId:t,parent:wt(l)})}return kt.resolve()},n.prototype.getCollectionParents=function(n,e){var t=[],l=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return Il(n).loadAll(l).next(function(n){for(var l=0,r=n;l<r.length;l++){var i=r[l];if(i.collectionId!==e)break;t.push(St(i.parent))}return t})},n}();function Il(n){return ql.getStore(n,_l.store)}var kl=function(){function n(n){this.remoteSerializer=n}return n.prototype.fromDbRemoteDocument=function(n){if(n.document)return this.remoteSerializer.fromDocument(n.document,!!n.hasCommittedMutations);if(n.noDocument){var e=cn.fromSegments(n.noDocument.path),t=this.fromDbTimestamp(n.noDocument.readTime);return new pn(e,t,{hasCommittedMutations:!!n.hasCommittedMutations})}return n.unknownDocument?(e=cn.fromSegments(n.unknownDocument.path),t=this.fromDbTimestamp(n.unknownDocument.version),new fn(e,t)):y("Unexpected DbRemoteDocument")},n.prototype.toDbRemoteDocument=function(n){if(n instanceof dn){var e=n.proto?n.proto:this.remoteSerializer.toDocument(n);return new ml(null,null,e,r=n.hasCommittedMutations)}if(n instanceof pn){var t=n.key.path.toArray(),l=this.toDbTimestamp(n.version),r=n.hasCommittedMutations;return new ml(null,new pl(t,l),null,r)}return n instanceof fn?(t=n.key.path.toArray(),l=this.toDbTimestamp(n.version),new ml(new fl(t,l),null,null,!0)):y("Unexpected MaybeDocumment")},n.prototype.toDbTimestamp=function(n){var e=n.toTimestamp();return new al(e.seconds,e.nanoseconds)},n.prototype.fromDbTimestamp=function(n){var e=new en(n.seconds,n.nanoseconds);return ne.fromTimestamp(e)},n.prototype.toDbMutationBatch=function(n,e){var t=this,l=e.baseMutations.map(function(n){return t.remoteSerializer.toMutation(n)}),r=e.mutations.map(function(n){return t.remoteSerializer.toMutation(n)});return new hl(n,e.batchId,e.localWriteTime.toMillis(),l,r)},n.prototype.fromDbMutationBatch=function(n){var e=this,t=(n.baseMutations||[]).map(function(n){return e.remoteSerializer.fromMutation(n)}),l=n.mutations.map(function(n){return e.remoteSerializer.fromMutation(n)}),r=en.fromMillis(n.localWriteTimeMs);return new Tt(n.batchId,r,t,l)},n.prototype.toDbResourcePaths=function(n){var e=[];return n.forEach(function(n){e.push(wt(n.path))}),e},n.prototype.fromDbResourcePaths=function(n){for(var e=Re(),t=0,l=n;t<l.length;t++)e=e.add(new cn(St(l[t])));return e},n.prototype.fromDbTarget=function(n){var e,t=this.fromDbTimestamp(n.readTime);return e=void 0!==n.query.documents?this.remoteSerializer.fromDocumentsTarget(n.query):this.remoteSerializer.fromQueryTarget(n.query),new te(e,n.targetId,ee.Listen,n.lastListenSequenceNumber,t,n.resumeToken)},n.prototype.toDbTarget=function(n){v(ee.Listen===n.purpose,"Only queries with purpose "+ee.Listen+" may be stored, got "+n.purpose);var e,t,l=this.toDbTimestamp(n.snapshotVersion);return e=n.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(n.query):this.remoteSerializer.toQueryTarget(n.query),n.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t=n.resumeToken.toString()):t=n.resumeToken,new yl(n.targetId,n.query.canonicalId(),l,t,n.sequenceNumber,e)},n}();function Al(n,e){var t=n[1],l=e[1],r=G(n[0],e[0]);return 0===r?G(t,l):r}var Dl=function(){function n(n){this.maxElements=n,this.buffer=new le(Al),this.previousIndex=0}return n.prototype.nextIndex=function(){return++this.previousIndex},n.prototype.addElement=function(n){var e=[n,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var t=this.buffer.last();Al(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}},Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),n}(),xl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nl=function(){function n(n,e,t){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=t}return n.withCacheSize=function(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},n.COLLECTION_DISABLED=-1,n.MINIMUM_CACHE_SIZE_BYTES=1048576,n.DEFAULT=new n(n.DEFAULT_CACHE_SIZE_BYTES=41943040,n.DEFAULT_COLLECTION_PERCENTILE=10,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),n.DISABLED=new n(n.COLLECTION_DISABLED,0,0),n}(),Ol=function(){function n(n,e,t){this.garbageCollector=n,this.asyncQueue=e,this.localStore=t,this.gcTask=null}return n.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Nl.COLLECTION_DISABLED&&this.scheduleGC()},n.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(n.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),n.prototype.scheduleGC=function(){var n=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(dt.LruGarbageCollection,e,function(){return n.gcTask=null,n.hasRun=!0,n.localStore.collectGarbage(n.garbageCollector).then(function(){return n.scheduleGC()}).catch(Fl)})},n}(),Rl=function(){function n(n,e){this.delegate=n,this.params=e}return n.prototype.calculateTargetCount=function(n,e){return this.delegate.getSequenceNumberCount(n).next(function(n){return Math.floor(e/100*n)})},n.prototype.nthSequenceNumber=function(n,e){var t=this;if(0===e)return kt.resolve(pt.INVALID);var l=new Dl(e);return this.delegate.forEachTarget(n,function(n){return l.addElement(n.sequenceNumber)}).next(function(){return t.delegate.forEachOrphanedDocumentSequenceNumber(n,function(n){return l.addElement(n)})}).next(function(){return l.maxValue})},n.prototype.removeTargets=function(n,e,t){return this.delegate.removeTargets(n,e,t)},n.prototype.removeOrphanedDocuments=function(n,e){return this.delegate.removeOrphanedDocuments(n,e)},n.prototype.collect=function(n,e){var t=this;return this.params.cacheSizeCollectionThreshold===Nl.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),kt.resolve(xl)):this.getCacheSize(n).next(function(l){return l<t.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+l+" is lower than threshold "+t.params.cacheSizeCollectionThreshold),xl):t.runGarbageCollection(n,e)})},n.prototype.getCacheSize=function(n){return this.delegate.getCacheSize(n)},n.prototype.runGarbageCollection=function(n,e){var t,l,r,i,o,u,a,s,c=this;return i=Date.now(),this.calculateTargetCount(n,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),l=c.params.maximumSequenceNumbersToCollect):l=e,o=Date.now(),c.nthSequenceNumber(n,l)}).next(function(l){return t=l,u=Date.now(),c.removeTargets(n,t,e)}).next(function(e){return r=e,a=Date.now(),c.removeOrphanedDocuments(n,t)}).next(function(n){return s=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-i)+"ms\n\tDetermined least recently used "+l+" in "+(u-o)+"ms\n\tRemoved "+r+" targets in "+(a-u)+"ms\n\tRemoved "+n+" documents in "+(s-a)+"ms\nTotal Duration: "+(s-i)+"ms"),kt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:r,documentsRemoved:n})})},n}(),Pl="IndexedDbPersistence",Ml="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ll="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Vl="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Ul=function(n){function e(e,t){var l=n.call(this)||this;return l.simpleDbTransaction=e,l.currentSequenceNumber=t,l}return o.__extends(e,n),e}(function(){return function(){}}()),ql=function(){function n(e,t,l,r,i,o,u){if(this.persistenceKey=e,this.clientId=t,this.queue=r,this.multiClientParams=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(n){return Promise.resolve()},!n.isAvailable())throw new C(w.UNIMPLEMENTED,Vl);if(this.referenceDelegate=new Kl(this,o),this.dbName=e+n.MAIN_DATABASE,this.serializer=new kl(i),this.document=l.document,this.allowTabSynchronization=void 0!==u,this.queryCache=new Kt(this.referenceDelegate,this.serializer),this.indexManager=new Tl,this.remoteDocumentCache=new $t(this.serializer,this.indexManager,this.allowTabSynchronization),!l.window||!l.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=l.window,this.webStorage=this.window.localStorage}return n.getStore=function(n,e){if(n instanceof Ul)return Ut.getStore(n.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},n.createIndexedDbPersistence=function(e,t,l,r,i,u){return o.__awaiter(this,void 0,void 0,function(){var a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(a=new n(e,t,l,r,i,u)).start()];case 1:return o.sent(),[2,a]}})})},n.createMultiClientIndexedDbPersistence=function(e,t,l,r,i,u,a){return o.__awaiter(this,void 0,void 0,function(){var s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,(s=new n(e,t,l,r,i,u,a)).start()];case 1:return o.sent(),[2,s]}})})},n.prototype.start=function(){var n=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),Ut.openOrCreate(this.dbName,ol,new ul(this.serializer)).then(function(e){return n.simpleDb=e,n.updateClientMetadataAndTryBecomePrimary()}).then(function(){return n.attachVisibilityHandler(),n.attachWindowUnloadHook(),n.scheduleClientMetadataAndPrimaryLeaseRefreshes(),n.startRemoteDocumentCache()}).then(function(){return n.simpleDb.runTransaction("readonly",[bl.store],function(e){return Wt(e).next(function(e){n.listenSequence=new pt(e,n.multiClientParams?n.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){n._started=!0}).catch(function(e){return n.simpleDb&&n.simpleDb.close(),Promise.reject(e)})},n.prototype.startRemoteDocumentCache=function(){var n=this;return this.simpleDb.runTransaction("readonly",Sl,function(e){return n.remoteDocumentCache.start(e)})},n.prototype.setPrimaryStateListener=function(n){var e=this;return this.primaryStateListener=function(t){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return this.started?[2,n(t)]:[2]})})},n(this.isPrimary)},n.prototype.setDatabaseDeletedListener=function(n){var e=this;this.simpleDb.setVersionChangeListener(function(t){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return null!==t.newVersion?[3,2]:[4,n()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},n.prototype.setNetworkEnabled=function(n){var e=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}))},n.prototype.updateClientMetadataAndTryBecomePrimary=function(){var n=this;return this.simpleDb.runTransaction("readwrite",Sl,function(e){return Bl(e).put(new El(n.clientId,Date.now(),n.networkEnabled,n.inForeground,n.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(n.isPrimary)return n.verifyPrimaryLease(e).next(function(e){e||(n.isPrimary=!1,n.queue.enqueueAndForget(function(){return n.primaryStateListener(!1)}))})}).next(function(){return n.canActAsPrimary(e)}).next(function(t){var l=n.isPrimary;return n.isPrimary=t,l!==n.isPrimary&&n.queue.enqueueAndForget(function(){return n.primaryStateListener(n.isPrimary)}),l&&!n.isPrimary?n.releasePrimaryLeaseIfHeld(e):n.isPrimary?n.acquireOrExtendPrimaryLease(e):void 0})})},n.prototype.verifyPrimaryLease=function(n){var e=this;return jl(n).get(sl.key).next(function(n){return kt.resolve(e.isLocalClient(n))})},n.prototype.removeClientMetadata=function(n){return Bl(n).delete(this.clientId)},n.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,function(){var e,t,l=this;return o.__generator(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(r){var i=n.getStore(r,El.store);return i.loadAll().next(function(n){e=l.filterActiveClients(n,18e5),t=n.filter(function(n){return-1===e.indexOf(n)})}).next(function(){return kt.forEach(t,function(n){return i.delete(n.clientId)})}).next(function(){if((e=e.filter(function(n){return n.clientId!==l.clientId})).length>0){var n=e.map(function(n){return n.lastProcessedDocumentChangeId||0}),t=Math.min.apply(Math,n);return l.remoteDocumentCache.removeDocumentChangesThroughChangeId(r,t)}})})]);case 1:r.sent(),t.forEach(function(n){l.window.localStorage.removeItem(l.zombiedClientLocalStorageKey(n.clientId))}),r.label=2;case 2:return[2]}})})},n.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var n=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(dt.ClientMetadataRefresh,4e3,function(){return n.updateClientMetadataAndTryBecomePrimary().then(function(){return n.maybeGarbageCollectMultiClientState()}).then(function(){return n.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},n.prototype.isLocalClient=function(n){return!!n&&n.ownerId===this.clientId},n.prototype.canActAsPrimary=function(n){var e=this;return jl(n).get(sl.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)){if(e.isLocalClient(t)&&e.networkEnabled)return!0;if(!e.isLocalClient(t)){if(!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Ll);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bl(n).loadAll().next(function(n){return void 0===e.filterActiveClients(n,5e3).find(function(n){return!(e.clientId===n.clientId||!(!e.networkEnabled&&n.networkEnabled||!e.inForeground&&n.inForeground&&e.networkEnabled===n.networkEnabled))})})}).next(function(n){return e.isPrimary!==n&&f(Pl,"Client "+(n?"is":"is not")+" eligible for a primary lease."),n})},n.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){var n=this;return o.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sl.store,El.store],function(e){return n.releasePrimaryLeaseIfHeld(e).next(function(){return n.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},n.prototype.filterActiveClients=function(n,e){var t=this;return n.filter(function(n){return t.isWithinAge(n.updateTimeMs,e)&&!t.isClientZombied(n.clientId)})},n.prototype.getActiveClients=function(){var n=this;return this.simpleDb.runTransaction("readonly",[El.store],function(e){return Bl(e).loadAll().next(function(e){return n.filterActiveClients(e,18e5).map(function(n){return n.clientId})})})},n.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return n.isAvailable()?[4,Ut.delete(e+n.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return t.sent(),[2]}})})},Object.defineProperty(n.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),n.prototype.getMutationQueue=function(n){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),At.forUser(n,this.serializer,this.indexManager,this.referenceDelegate)},n.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},n.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},n.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},n.prototype.runTransaction=function(n,e,t){var l=this;return f(Pl,"Starting transaction:",n),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Sl,function(r){return"readwrite-primary"===e?l.verifyPrimaryLease(r).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+n+"'."),l.isPrimary=!1,l.queue.enqueueAndForget(function(){return l.primaryStateListener(!1)}),new C(w.FAILED_PRECONDITION,Ml);return t(new Ul(r,l.listenSequence.next()))}).next(function(n){return l.acquireOrExtendPrimaryLease(r).next(function(){return n})}):l.verifyAllowTabSynchronization(r).next(function(){return t(new Ul(r,l.listenSequence.next()))})})},n.prototype.verifyAllowTabSynchronization=function(n){var e=this;return jl(n).get(sl.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)&&!e.isLocalClient(n)&&!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Ll)})},n.prototype.acquireOrExtendPrimaryLease=function(n){var e=new sl(this.clientId,this.allowTabSynchronization,Date.now());return jl(n).put(sl.key,e)},n.isAvailable=function(){return Ut.isAvailable()},n.buildStoragePrefix=function(n){var e=n.databaseId.projectId;return n.databaseId.isDefaultDatabase||(e+="."+n.databaseId.database),"firestore/"+n.persistenceKey+"/"+e+"/"},n.prototype.releasePrimaryLeaseIfHeld=function(n){var e=this,t=jl(n);return t.get(sl.key).next(function(n){return e.isLocalClient(n)?(f(Pl,"Releasing primary lease."),t.delete(sl.key)):kt.resolve()})},n.prototype.isWithinAge=function(n,e){var t=Date.now();return!(n<t-e||n>t&&(m("Detected an update time that is in the future: "+n+" > "+t),1))},n.prototype.attachVisibilityHandler=function(){var n=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){n.queue.enqueueAndForget(function(){return n.inForeground="visible"===n.document.visibilityState,n.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},n.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},n.prototype.attachWindowUnloadHook=function(){var n=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){n.markClientZombied(),n.queue.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},n.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},n.prototype.isClientZombied=function(n){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(n));return f(Pl,"Client '"+n+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return m(Pl,"Failed to get zombied client id.",t),!1}},n.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(n){m("Failed to set zombie client id.",n)}},n.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(n){}},n.prototype.zombiedClientLocalStorageKey=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},n.MAIN_DATABASE="main",n}();function Fl(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){if(!function(n){return n.code===w.FAILED_PRECONDITION&&n.message===Ml}(n))throw n;return f(Pl,"Unexpectedly lost primary lease"),[2]})})}function jl(n){return n.store(sl.store)}function Bl(n){return n.store(El.store)}var Kl=function(){function n(n,e){this.db=n,this.garbageCollector=new Rl(this,e)}return n.prototype.getSequenceNumberCount=function(n){var e=this.orphanedDocmentCount(n);return this.db.getQueryCache().getQueryCount(n).next(function(n){return e.next(function(e){return n+e})})},n.prototype.orphanedDocmentCount=function(n){var e=0;return this.forEachOrphanedDocumentSequenceNumber(n,function(n){e++}).next(function(){return e})},n.prototype.forEachTarget=function(n,e){return this.db.getQueryCache().forEachTarget(n,e)},n.prototype.forEachOrphanedDocumentSequenceNumber=function(n,e){return this.forEachOrphanedDocument(n,function(n,t){return e(t)})},n.prototype.setInMemoryPins=function(n){this.inMemoryPins=n},n.prototype.addReference=function(n,e){return zl(n,e)},n.prototype.removeReference=function(n,e){return zl(n,e)},n.prototype.removeTargets=function(n,e,t){return this.db.getQueryCache().removeTargets(n,e,t)},n.prototype.removeMutationReference=function(n,e){return zl(n,e)},n.prototype.isPinned=function(n,e){return this.inMemoryPins.containsKey(e)?kt.resolve(!0):function(n,e){var t=!1;return Pt(n).iterateSerial(function(l){return Dt(n,l,e).next(function(n){return n&&(t=!0),kt.resolve(!n)})}).next(function(){return t})}(n,e)},n.prototype.removeOrphanedDocuments=function(n,e){var t=this,l=0,r=0,i=[];return this.forEachOrphanedDocument(n,function(o,u){if(u<=e){var a=t.isPinned(n,o).next(function(e){if(!e)return l++,t.removeOrphanedDocument(n,o).next(function(n){r+=n})});i.push(a)}}).next(function(){return kt.waitFor(i)}).next(function(){return t.db.getRemoteDocumentCache().updateSize(n,-r)}).next(function(){return l})},n.prototype.removeOrphanedDocument=function(n,e){var t,l=0,r=this.db.getRemoteDocumentCache();return kt.waitFor([Gt(n).delete((t=e,[0,wt(t.path)])),r.removeEntry(n,e).next(function(n){l+=n})]).next(function(){return l})},n.prototype.removeTarget=function(n,e){var t=e.copy({sequenceNumber:n.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(n,t)},n.prototype.updateLimboDocument=function(n,e){return zl(n,e)},n.prototype.forEachOrphanedDocument=function(n,e){var t,l=Gt(n),r=pt.INVALID;return l.iterate({index:vl.documentTargetsIndex},function(n,l){var i=l.path,o=l.sequenceNumber;0===n[0]?(r!==pt.INVALID&&e(new cn(St(t)),r),r=o,t=i):r=pt.INVALID}).next(function(){r!==pt.INVALID&&e(new cn(St(t)),r)})},n.prototype.getCacheSize=function(n){return this.db.getRemoteDocumentCache().getSize(n)},n}();function zl(n,e){return Gt(n).put(function(n,e){return new vl(0,wt(n.path),e)}(e,n.currentSequenceNumber))}var Hl=function(){function n(n,e,t){this.remoteDocumentCache=n,this.mutationQueue=e,this.indexManager=t}return n.prototype.getDocument=function(n,e){var t=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(n,e).next(function(l){return t.getDocumentInternal(n,e,l)})},n.prototype.getDocumentInternal=function(n,e,t){return this.remoteDocumentCache.getEntry(n,e).next(function(n){for(var l=0,r=t;l<r.length;l++)n=r[l].applyToLocalView(e,n);return n})},n.prototype.applyLocalMutationsToDocuments=function(n,e,t){var l=ke();return e.forEach(function(n,e){for(var r=0,i=t;r<i.length;r++)e=i[r].applyToLocalView(n,e);l=l.insert(n,e)}),l},n.prototype.getDocuments=function(n,e){var t=this;return this.remoteDocumentCache.getEntries(n,e).next(function(e){return t.getLocalViewOfDocuments(n,e)})},n.prototype.getLocalViewOfDocuments=function(n,e){var t=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,e).next(function(l){var r=t.applyLocalMutationsToDocuments(n,e,l),i=Ie();return r.forEach(function(n,e){e||(e=new pn(n,ne.forDeletedDoc())),i=i.insert(n,e)}),i})},n.prototype.getDocumentsMatchingQuery=function(n,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(n,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(n,e):this.getDocumentsMatchingCollectionQuery(n,e)},n.prototype.getDocumentsMatchingDocumentQuery=function(n,e){return this.getDocument(n,new cn(e)).next(function(n){var e=De();return n instanceof dn&&(e=e.insert(n.key,n)),e})},n.prototype.getDocumentsMatchingCollectionGroupQuery=function(n,e){var t=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var l=e.collectionGroup,r=De();return this.indexManager.getCollectionParents(n,l).next(function(i){return kt.forEach(i,function(i){var o=e.asCollectionQueryAtPath(i.child(l));return t.getDocumentsMatchingCollectionQuery(n,o).next(function(n){n.forEach(function(n,e){r=r.insert(n,e)})})}).next(function(){return r})})},n.prototype.getDocumentsMatchingCollectionQuery=function(n,e){var t,l=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(n,e).next(function(r){return t=r,l.mutationQueue.getAllMutationBatchesAffectingQuery(n,e)}).next(function(n){for(var l=0,r=n;l<r.length;l++)for(var i=r[l],o=0,u=i.mutations;o<u.length;o++){var a=u[o],s=a.key;if(e.path.isImmediateParentOf(s.path)){var c=t.get(s),h=a.applyToLocalView(c,c,i.localWriteTime);t=h instanceof dn?t.insert(s,h):t.remove(s)}}}).next(function(){return t.forEach(function(n,l){e.matches(l)||(t=t.remove(n))}),t})},n}(),Wl=function(){function n(){this.refsByKey=new le(Gl.compareByKey),this.refsByTarget=new le(Gl.compareByTargetId)}return n.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},n.prototype.addReference=function(n,e){var t=new Gl(n,e);this.refsByKey=this.refsByKey.add(t),this.refsByTarget=this.refsByTarget.add(t)},n.prototype.addReferences=function(n,e){var t=this;n.forEach(function(n){return t.addReference(n,e)})},n.prototype.removeReference=function(n,e){this.removeRef(new Gl(n,e))},n.prototype.removeReferences=function(n,e){var t=this;n.forEach(function(n){return t.removeReference(n,e)})},n.prototype.removeReferencesForId=function(n){var e=this,t=cn.EMPTY,l=new Gl(t,n),r=new Gl(t,n+1),i=[];return this.refsByTarget.forEachInRange([l,r],function(n){e.removeRef(n),i.push(n.key)}),i},n.prototype.removeAllReferences=function(){var n=this;this.refsByKey.forEach(function(e){return n.removeRef(e)})},n.prototype.removeRef=function(n){this.refsByKey=this.refsByKey.delete(n),this.refsByTarget=this.refsByTarget.delete(n)},n.prototype.referencesForId=function(n){var e=cn.EMPTY,t=new Gl(e,n),l=new Gl(e,n+1),r=Re();return this.refsByTarget.forEachInRange([t,l],function(n){r=r.add(n.key)}),r},n.prototype.containsKey=function(n){var e=new Gl(n,0),t=this.refsByKey.firstAfterOrEqual(e);return null!==t&&n.isEqual(t.key)},n}(),Gl=function(){function n(n,e){this.key=n,this.targetOrBatchId=e}return n.compareByKey=function(n,e){return cn.comparator(n.key,e.key)||G(n.targetOrBatchId,e.targetOrBatchId)},n.compareByTargetId=function(n,e){return G(n.targetOrBatchId,e.targetOrBatchId)||cn.comparator(n.key,e.key)},n}(),Ql=function(){function n(n,e){this.persistence=n,this.localViewReferences=new Wl,this.queryDataByTarget={},v(n.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=n.getMutationQueue(e),this.remoteDocuments=n.getRemoteDocumentCache(),this.queryCache=n.getQueryCache(),this.localDocuments=new Hl(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return n.prototype.handleUserChange=function(n){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(t){var l;return e.mutationQueue.getAllMutationBatches(t).next(function(r){return l=r,e.mutationQueue=e.persistence.getMutationQueue(n),e.localDocuments=new Hl(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(t)}).next(function(n){for(var r=[],i=[],o=Re(),u=0,a=l;u<a.length;u++){r.push((p=a[u]).batchId);for(var s=0,c=p.mutations;s<c.length;s++)o=o.add(c[s].key)}for(var h=0,d=n;h<d.length;h++){var p;i.push((p=d[h]).batchId);for(var f=0,m=p.mutations;f<m.length;f++)o=o.add(m[f].key)}return e.localDocuments.getDocuments(t,o).next(function(n){return{affectedDocuments:n,removedBatchIds:r,addedBatchIds:i}})})})},n.prototype.localWrite=function(n){var e=this,t=en.now(),l=n.reduce(function(n,e){return n.add(e.key)},Re());return this.persistence.runTransaction("Locally write mutations","readwrite",function(r){return e.localDocuments.getDocuments(r,l).next(function(l){for(var i=[],o=0,u=n;o<u.length;o++){var a=u[o],s=l.get(a.key);if(!a.isIdempotent){var c=a.fieldMask;if(c){var h=s instanceof dn?c.applyTo(s.data):Mn.EMPTY;i.push(new de(a.key,h,c,se.exists(!0)))}}}return e.mutationQueue.addMutationBatch(r,t,i,n).next(function(n){var e=n.applyToLocalDocumentSet(l);return{batchId:n.batchId,changes:e}})})})},n.prototype.lookupMutationDocuments=function(n){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return e.mutationQueue.lookupMutationKeys(t,n).next(function(n){return n?e.localDocuments.getDocuments(t,n):kt.resolve(null)})})},n.prototype.acknowledgeBatch=function(n){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var l=n.batch.keys(),r=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(t,n.batch,n.streamToken).next(function(){return e.applyWriteToRemoteDocuments(t,n,r)}).next(function(){return r.apply(t)}).next(function(){return e.mutationQueue.performConsistencyCheck(t)}).next(function(){return e.localDocuments.getDocuments(t,l)})})},n.prototype.rejectBatch=function(n){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var l;return e.mutationQueue.lookupMutationBatch(t,n).next(function(n){return v(null!==n,"Attempt to reject nonexistent batch!"),l=n.keys(),e.mutationQueue.removeMutationBatch(t,n)}).next(function(){return e.mutationQueue.performConsistencyCheck(t)}).next(function(){return e.localDocuments.getDocuments(t,l)})})},n.prototype.getLastStreamToken=function(){var n=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return n.mutationQueue.getLastStreamToken(e)})},n.prototype.setLastStreamToken=function(n){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(t){return e.mutationQueue.setLastStreamToken(t,n)})},n.prototype.getLastRemoteSnapshotVersion=function(){var n=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return n.queryCache.getLastRemoteSnapshotVersion(e)})},n.prototype.applyRemoteEvent=function(e){var t=this,l=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(r){var i=[],o=Re();I(e.targetChanges,function(l,u){var a=t.queryDataByTarget[l];if(a){u.addedDocuments.forEach(function(n){o=o.add(n)}),u.modifiedDocuments.forEach(function(n){o=o.add(n)}),i.push(t.queryCache.removeMatchingKeys(r,u.removedDocuments,l).next(function(){return t.queryCache.addMatchingKeys(r,u.addedDocuments,l)}));var s=u.resumeToken;if(s.length>0){var c=a;a=a.copy({resumeToken:s,snapshotVersion:e.snapshotVersion}),t.queryDataByTarget[l]=a,n.shouldPersistQueryData(c,a,u)&&i.push(t.queryCache.updateQueryData(r,a))}}});var u=Ie(),a=Re();e.documentUpdates.forEach(function(n,e){a=a.add(n)}),i.push(l.getEntries(r,a).next(function(n){e.documentUpdates.forEach(function(a,s){var c=n.get(a);null==c||s.version.isEqual(ne.MIN)||o.has(s.key)&&!c.hasPendingWrites||s.version.compareTo(c.version)>=0?(l.addEntry(s),u=u.insert(a,s)):f("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",s.version),e.resolvedLimboDocuments.has(a)&&i.push(t.persistence.referenceDelegate.updateLimboDocument(r,a))})}));var s=e.snapshotVersion;if(!s.isEqual(ne.MIN)){var c=t.queryCache.getLastRemoteSnapshotVersion(r).next(function(n){return v(s.compareTo(n)>=0,"Watch stream reverted to previous snapshot?? "+s+" < "+n),t.queryCache.setTargetsMetadata(r,r.currentSequenceNumber,s)});i.push(c)}return kt.waitFor(i).next(function(){return l.apply(r)}).next(function(){return t.localDocuments.getLocalViewOfDocuments(r,u)})})},n.shouldPersistQueryData=function(n,e,t){return 0!==e.resumeToken.length&&(0===n.resumeToken.length||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0)},n.prototype.notifyLocalViewChanges=function(n){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return kt.forEach(n,function(n){return e.localViewReferences.addReferences(n.addedKeys,n.targetId),e.localViewReferences.removeReferences(n.removedKeys,n.targetId),kt.forEach(n.removedKeys,function(n){return e.persistence.referenceDelegate.removeReference(t,n)})})})},n.prototype.nextMutationBatch=function(n){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===n&&(n=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(t,n)})},n.prototype.readDocument=function(n){var e=this;return this.persistence.runTransaction("read document","readonly",function(t){return e.localDocuments.getDocument(t,n)})},n.prototype.allocateQuery=function(n){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(t){var l;return e.queryCache.getQueryData(t,n).next(function(r){return r?(l=r,kt.resolve()):e.queryCache.allocateTargetId(t).next(function(r){return l=new te(n,r,ee.Listen,t.currentSequenceNumber),e.queryCache.addQueryData(t,l)})}).next(function(){return v(!e.queryDataByTarget[l.targetId],"Tried to allocate an already allocated query: "+n),e.queryDataByTarget[l.targetId]=l,l})})},n.prototype.releaseQuery=function(n,e){var t=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(l){return t.queryCache.getQueryData(l,n).next(function(r){v(null!=r,"Tried to release nonexistent query: "+n);var i=r.targetId,o=t.queryDataByTarget[i],u=t.localViewReferences.removeReferencesForId(i);return delete t.queryDataByTarget[i],e?kt.resolve():kt.forEach(u,function(n){return t.persistence.referenceDelegate.removeReference(l,n)}).next(function(){return t.persistence.referenceDelegate.removeTarget(l,o)})})})},n.prototype.executeQuery=function(n){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(t){return e.localDocuments.getDocumentsMatchingQuery(t,n)})},n.prototype.remoteDocumentKeys=function(n){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(t){return e.queryCache.getMatchingKeysForTargetId(t,n)})},n.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},n.prototype.removeCachedMutationBatchMetadata=function(n){this.mutationQueue.removeCachedMutationKeys(n)},n.prototype.setNetworkEnabled=function(n){this.persistence.setNetworkEnabled(n)},n.prototype.applyWriteToRemoteDocuments=function(n,e,t){var l=this,r=e.batch,i=r.keys(),o=kt.resolve();return i.forEach(function(l){o=o.next(function(){return t.getEntry(n,l)}).next(function(n){var i=n,o=e.docVersions.get(l);v(null!==o,"ackVersions should contain every doc in the write."),(!i||i.version.compareTo(o)<0)&&((i=r.applyToRemoteDocument(l,i,e))?t.addEntry(i):v(!n,"Mutation batch "+r+" applied to document "+n+" resulted in null"))})}),o.next(function(){return l.mutationQueue.removeMutationBatch(n,r)})},n.prototype.collectGarbage=function(n){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return n.collect(t,e.queryDataByTarget)})},n.prototype.getQueryForTarget=function(n){var e=this;return this.queryDataByTarget[n]?Promise.resolve(this.queryDataByTarget[n].query):this.persistence.runTransaction("Get query data","readonly",function(t){return e.queryCache.getQueryDataForTarget(t,n).next(function(n){return n?n.query:null})})},n.prototype.getNewDocumentChanges=function(){var n=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return n.remoteDocuments.getNewDocumentChanges(e)})},n.RESUME_TOKEN_MAX_AGE_MICROS=3e8,n}(),Xl=function(){function n(n,e){this.indexManager=n,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new le(Gl.compareByKey)}return n.prototype.checkEmpty=function(n){return kt.resolve(0===this.mutationQueue.length)},n.prototype.acknowledgeBatch=function(n,e,t){var l=e.batchId,r=this.indexOfExistingBatchId(l,"acknowledged");v(0===r,"Can only acknowledge the first batch in the mutation queue");var i=this.mutationQueue[r];return v(l===i.batchId,"Queue ordering failure: expected batch "+l+", got batch "+i.batchId),this.lastStreamToken=t,kt.resolve()},n.prototype.getLastStreamToken=function(n){return kt.resolve(this.lastStreamToken)},n.prototype.setLastStreamToken=function(n,e){return this.lastStreamToken=e,kt.resolve()},n.prototype.addMutationBatch=function(n,e,t,l){v(0!==l.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Tt(r,e,t,l);this.mutationQueue.push(i);for(var o=0,u=l;o<u.length;o++){var a=u[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Gl(a.key,r)),this.indexManager.addToCollectionParentIndex(n,a.key.path.popLast())}return kt.resolve(i)},n.prototype.lookupMutationBatch=function(n,e){return kt.resolve(this.findMutationBatch(e))},n.prototype.lookupMutationKeys=function(n,e){var t=this.findMutationBatch(e);return v(null!=t,"Failed to find local mutation batch."),kt.resolve(t.keys())},n.prototype.getNextMutationBatchAfterBatchId=function(n,e){var t=this.indexOfBatchId(e+1),l=t<0?0:t;return kt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)},n.prototype.getAllMutationBatches=function(n){return kt.resolve(this.mutationQueue.slice())},n.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,e){var t=this,l=new Gl(e,0),r=new Gl(e,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([l,r],function(n){v(e.isEqual(n.key),"Should only iterate over a single key's batches");var l=t.findMutationBatch(n.targetOrBatchId);v(null!==l,"Batches in the index must exist in the main table"),i.push(l)}),kt.resolve(i)},n.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,e){var t=this,l=new le(G);return e.forEach(function(n){var e=new Gl(n,0),r=new Gl(n,Number.POSITIVE_INFINITY);t.batchesByDocumentKey.forEachInRange([e,r],function(e){v(n.isEqual(e.key),"For each key, should only iterate over a single key's batches"),l=l.add(e.targetOrBatchId)})}),kt.resolve(this.findMutationBatches(l))},n.prototype.getAllMutationBatchesAffectingQuery=function(n,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var t=e.path,l=t.length+1,r=t;cn.isDocumentKey(r)||(r=r.child(""));var i=new Gl(new cn(r),0),o=new le(G);return this.batchesByDocumentKey.forEachWhile(function(n){var e=n.key.path;return!!t.isPrefixOf(e)&&(e.length===l&&(o=o.add(n.targetOrBatchId)),!0)},i),kt.resolve(this.findMutationBatches(o))},n.prototype.findMutationBatches=function(n){var e=this,t=[];return n.forEach(function(n){var l=e.findMutationBatch(n);null!==l&&t.push(l)}),t},n.prototype.removeMutationBatch=function(n,e){var t=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var l=this.batchesByDocumentKey;return kt.forEach(e.mutations,function(r){var i=new Gl(r.key,e.batchId);return l=l.delete(i),t.referenceDelegate.removeMutationReference(n,r.key)}).next(function(){t.batchesByDocumentKey=l})},n.prototype.removeCachedMutationKeys=function(n){},n.prototype.containsKey=function(n,e){var t=new Gl(e,0),l=this.batchesByDocumentKey.firstAfterOrEqual(t);return kt.resolve(e.isEqual(l&&l.key))},n.prototype.performConsistencyCheck=function(n){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),kt.resolve()},n.prototype.indexOfExistingBatchId=function(n,e){var t=this.indexOfBatchId(n);return v(t>=0&&t<this.mutationQueue.length,"Batches must exist to be "+e),t},n.prototype.indexOfBatchId=function(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId},n.prototype.findMutationBatch=function(n){var e=this.indexOfBatchId(n);if(e<0||e>=this.mutationQueue.length)return null;var t=this.mutationQueue[e];return v(t.batchId===n,"If found batch must match"),t},n}(),Yl=function(){function n(n){this.persistence=n,this.queries=new Qt(function(n){return n.canonicalId()}),this.lastRemoteSnapshotVersion=ne.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Wl,this.targetCount=0,this.targetIdGenerator=Vt.forQueryCache()}return n.prototype.getTargetCount=function(n){return kt.resolve(this.targetCount)},n.prototype.forEachTarget=function(n,e){return this.queries.forEach(function(n,t){return e(t)}),kt.resolve()},n.prototype.getLastRemoteSnapshotVersion=function(n){return kt.resolve(this.lastRemoteSnapshotVersion)},n.prototype.getHighestSequenceNumber=function(n){return kt.resolve(this.highestSequenceNumber)},n.prototype.allocateTargetId=function(n){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,kt.resolve(e)},n.prototype.setTargetsMetadata=function(n,e,t){return t&&(this.lastRemoteSnapshotVersion=t),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),kt.resolve()},n.prototype.saveQueryData=function(n){this.queries.set(n.query,n);var e=n.targetId;e>this.highestTargetId&&(this.highestTargetId=e),n.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=n.sequenceNumber)},n.prototype.addQueryData=function(n,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,kt.resolve()},n.prototype.updateQueryData=function(n,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),kt.resolve()},n.prototype.removeQueryData=function(n,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,kt.resolve()},n.prototype.removeTargets=function(n,e,t){var l=this,r=0,i=[];return this.queries.forEach(function(o,u){u.sequenceNumber<=e&&!t[u.targetId]&&(l.queries.delete(o),i.push(l.removeMatchingKeysForTargetId(n,u.targetId)),r++)}),kt.waitFor(i).next(function(){return r})},n.prototype.getQueryCount=function(n){return kt.resolve(this.targetCount)},n.prototype.getQueryData=function(n,e){var t=this.queries.get(e)||null;return kt.resolve(t)},n.prototype.getQueryDataForTarget=function(n,e){return y("Not yet implemented.")},n.prototype.addMatchingKeys=function(n,e,t){this.references.addReferences(e,t);var l=this.persistence.referenceDelegate,r=[];return l&&e.forEach(function(e){r.push(l.addReference(n,e))}),kt.waitFor(r)},n.prototype.removeMatchingKeys=function(n,e,t){this.references.removeReferences(e,t);var l=this.persistence.referenceDelegate,r=[];return l&&e.forEach(function(e){r.push(l.removeReference(n,e))}),kt.waitFor(r)},n.prototype.removeMatchingKeysForTargetId=function(n,e){return this.references.removeReferencesForId(e),kt.resolve()},n.prototype.getMatchingKeysForTargetId=function(n,e){var t=this.references.referencesForId(e);return kt.resolve(t)},n.prototype.containsKey=function(n,e){return kt.resolve(this.references.containsKey(e))},n}(),$l=function(){function n(n,e){this.indexManager=n,this.sizer=e,this.docs=new mn(cn.comparator),this.newDocumentChanges=Re(),this.size=0}return n.prototype.addEntries=function(n,e,t){for(var l=[],r=0,i=e;r<i.length;r++){var o=i[r],u=o.maybeDocument.key;this.docs=this.docs.insert(u,o),this.newDocumentChanges=this.newDocumentChanges.add(u),l.push(this.indexManager.addToCollectionParentIndex(n,u.path.popLast()))}return this.size+=t,kt.waitFor(l)},n.prototype.removeEntry=function(n,e){var t=this.docs.get(e);return t?(this.docs=this.docs.remove(e),this.size-=t.size,kt.resolve(t.size)):kt.resolve(0)},n.prototype.getEntry=function(n,e){var t=this.docs.get(e);return kt.resolve(t?t.maybeDocument:null)},n.prototype.getSizedEntry=function(n,e){return kt.resolve(this.docs.get(e))},n.prototype.getEntries=function(n,e){var t=this,l=ke();return e.forEach(function(n){var e=t.docs.get(n);l=l.insert(n,e?e.maybeDocument:null)}),kt.resolve(l)},n.prototype.getSizedEntries=function(n,e){var t=this,l=ke(),r=new mn(cn.comparator);return e.forEach(function(n){var e=t.docs.get(n);l=l.insert(n,e?e.maybeDocument:null),r=r.insert(n,e?e.size:0)}),kt.resolve({maybeDocuments:l,sizeMap:r})},n.prototype.getDocumentsMatchingQuery=function(n,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var t=De(),l=new cn(e.path.child("")),r=this.docs.getIteratorFrom(l);r.hasNext();){var i=r.getNext(),o=i.value.maybeDocument;if(!e.path.isPrefixOf(i.key.path))break;o instanceof dn&&e.matches(o)&&(t=t.insert(o.key,o))}return kt.resolve(t)},n.prototype.forEachDocumentKey=function(n,e){return kt.forEach(this.docs,function(n){return e(n)})},n.prototype.getNewDocumentChanges=function(n){var e=this,t=Ie();return this.newDocumentChanges.forEach(function(n){var l=e.docs.get(n),r=l?l.maybeDocument:new pn(n,ne.forDeletedDoc());t=t.insert(n,r)}),this.newDocumentChanges=Re(),kt.resolve(t)},n.prototype.newChangeBuffer=function(){return new Zl(this.sizer,this)},n.prototype.getSize=function(n){return kt.resolve(this.size)},n}(),Zl=function(n){function e(e,t){var l=n.call(this)||this;return l.sizer=e,l.documentCache=t,l}return o.__extends(e,n),e.prototype.applyChanges=function(n){var e=this,t=this.assertChanges(),l=0,r=[];return t.forEach(function(n,t){var i=e.documentSizes.get(n);v(void 0!==i,"Attempting to change document "+n.toString()+" without having read it first");var o=e.sizer(t);l+=o-i,r.push({maybeDocument:t,size:o})}),this.documentCache.addEntries(n,r,l)},e.prototype.getFromCache=function(n,e){return this.documentCache.getSizedEntry(n,e)},e.prototype.getAllFromCache=function(n,e){return this.documentCache.getSizedEntries(n,e)},e}(Xt),Jl=function(){function n(n,e){var t=this;this.clientId=n,this.mutationQueues={},this.listenSequence=new pt(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Yl(this),this.indexManager=new rl,this.remoteDocumentCache=new $l(this.indexManager,function(n){return t.referenceDelegate.documentSize(n)})}return n.createLruPersistence=function(e,t,l){return new n(e,function(n){return new tr(n,new kl(t),l)})},n.createEagerPersistence=function(e){return new n(e,function(n){return new er(n)})},n.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(n.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),n.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){return[2,[this.clientId]]})})},n.prototype.setPrimaryStateListener=function(n){return n(!0)},n.prototype.setDatabaseDeletedListener=function(){},n.prototype.setNetworkEnabled=function(n){},n.prototype.getIndexManager=function(){return this.indexManager},n.prototype.getMutationQueue=function(n){var e=this.mutationQueues[n.toKey()];return e||(e=new Xl(this.indexManager,this.referenceDelegate),this.mutationQueues[n.toKey()]=e),e},n.prototype.getQueryCache=function(){return this.queryCache},n.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},n.prototype.runTransaction=function(n,e,t){var l=this;f("MemoryPersistence","Starting transaction:",n);var r=new nr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),t(r).next(function(n){return l.referenceDelegate.onTransactionCommitted(r).next(function(){return n})}).toPromise()},n.prototype.mutationQueuesContainKey=function(n,e){return kt.or((t=this.mutationQueues,l=[],k(t,function(n,e){return l.push(e)}),l).map(function(t){return function(){return t.containsKey(n,e)}}));var t,l},n}(),nr=function(){return function(n){this.currentSequenceNumber=n}}(),er=function(){function n(n){this.persistence=n}return n.prototype.setInMemoryPins=function(n){this.inMemoryPins=n},n.prototype.addReference=function(n,e){return this.orphanedDocuments.delete(e),kt.resolve()},n.prototype.removeReference=function(n,e){return this.orphanedDocuments.add(e),kt.resolve()},n.prototype.removeMutationReference=function(n,e){return this.orphanedDocuments.add(e),kt.resolve()},n.prototype.removeTarget=function(n,e){var t=this,l=this.persistence.getQueryCache();return l.getMatchingKeysForTargetId(n,e.targetId).next(function(n){n.forEach(function(n){return t.orphanedDocuments.add(n)})}).next(function(){return l.removeQueryData(n,e)})},n.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},n.prototype.onTransactionCommitted=function(n){var e=this,t=this.persistence.getRemoteDocumentCache();return kt.forEach(this.orphanedDocuments,function(l){return e.isReferenced(n,l).next(function(e){return e?kt.resolve():t.removeEntry(n,l).next(function(){})})})},n.prototype.updateLimboDocument=function(n,e){var t=this;return this.isReferenced(n,e).next(function(n){n?t.orphanedDocuments.delete(e):t.orphanedDocuments.add(e)})},n.prototype.documentSize=function(n){return 0},n.prototype.isReferenced=function(n,e){var t=this;return kt.or([function(){return t.persistence.getQueryCache().containsKey(n,e)},function(){return t.persistence.mutationQueuesContainKey(n,e)},function(){return kt.resolve(t.inMemoryPins.containsKey(e))}])},n}(),tr=function(){function n(n,e,t){this.persistence=n,this.serializer=e,this.orphanedSequenceNumbers=new Qt(function(n){return wt(n.path)}),this.garbageCollector=new Rl(this,t)}return n.prototype.onTransactionStarted=function(){},n.prototype.onTransactionCommitted=function(n){return kt.resolve()},n.prototype.forEachTarget=function(n,e){return this.persistence.getQueryCache().forEachTarget(n,e)},n.prototype.getSequenceNumberCount=function(n){var e=this.orphanedDocumentCount(n);return this.persistence.getQueryCache().getTargetCount(n).next(function(n){return e.next(function(e){return n+e})})},n.prototype.orphanedDocumentCount=function(n){var e=0;return this.forEachOrphanedDocumentSequenceNumber(n,function(n){e++}).next(function(){return e})},n.prototype.forEachOrphanedDocumentSequenceNumber=function(n,e){var t=this;return kt.forEach(this.orphanedSequenceNumbers,function(l,r){return t.isPinned(n,l,r).next(function(n){return n?kt.resolve():e(r)})})},n.prototype.setInMemoryPins=function(n){this.inMemoryPins=n},n.prototype.removeTargets=function(n,e,t){return this.persistence.getQueryCache().removeTargets(n,e,t)},n.prototype.removeOrphanedDocuments=function(n,e){var t=this,l=0,r=this.persistence.getRemoteDocumentCache();return r.forEachDocumentKey(n,function(i){return t.isPinned(n,i,e).next(function(e){return e?kt.resolve():(l++,r.removeEntry(n,i).next())})}).next(function(){return l})},n.prototype.removeMutationReference=function(n,e){return this.orphanedSequenceNumbers.set(e,n.currentSequenceNumber),kt.resolve()},n.prototype.removeTarget=function(n,e){var t=e.copy({sequenceNumber:n.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(n,t)},n.prototype.addReference=function(n,e){return this.orphanedSequenceNumbers.set(e,n.currentSequenceNumber),kt.resolve()},n.prototype.removeReference=function(n,e){return this.orphanedSequenceNumbers.set(e,n.currentSequenceNumber),kt.resolve()},n.prototype.updateLimboDocument=function(n,e){return this.orphanedSequenceNumbers.set(e,n.currentSequenceNumber),kt.resolve()},n.prototype.documentSize=function(n){var e,t=this.serializer.toDbRemoteDocument(n);if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length},n.prototype.isPinned=function(n,e,t){var l=this;return kt.or([function(){return l.persistence.mutationQueuesContainKey(n,e)},function(){return kt.resolve(l.inMemoryPins.containsKey(e))},function(){return l.persistence.getQueryCache().containsKey(n,e)},function(){var n=l.orphanedSequenceNumbers.get(e);return kt.resolve(void 0!==n&&n>t)}])},n.prototype.getCacheSize=function(n){return this.persistence.getRemoteDocumentCache().getSize(n)},n}(),lr=function(){function n(n,e,t,l,r){this.queue=n,this.timerId=e,this.initialDelayMs=t,this.backoffFactor=l,this.maxDelayMs=r,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return n.prototype.reset=function(){this.currentBaseMs=0},n.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},n.prototype.backoffAndRun=function(n){var e=this;this.cancel();var t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),l=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,t-l);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+t+" ms, last attempt: "+l+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,function(){return e.lastAttemptTime=Date.now(),n()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},n.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},n.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},n}(),rr=function(n){return n[n.Initial=0]="Initial",n[n.Starting=1]="Starting",n[n.Open=2]="Open",n[n.Error=3]="Error",n[n.Backoff=4]="Backoff",n}({}),ir=1e3,or=6e4,ur=1.5,ar=function(){function n(n,e,t,l,r,i){this.queue=n,this.idleTimerId=t,this.connection=l,this.credentialsProvider=r,this.listener=i,this.state=rr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new lr(n,e,ir,ur,or)}return n.prototype.isStarted=function(){return this.state===rr.Starting||this.state===rr.Open||this.state===rr.Backoff},n.prototype.isOpen=function(){return this.state===rr.Open},n.prototype.start=function(){this.state!==rr.Error?(v(this.state===rr.Initial,"Already started"),this.auth()):this.performBackoff()},n.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.isStarted()?[4,this.close(rr.Initial)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=rr.Initial,this.backoff.reset()},n.prototype.markIdle=function(){var n=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return n.handleIdleCloseTimer()}))},n.prototype.sendRequest=function(n){this.cancelIdleCheck(),this.stream.send(n)},n.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){return this.isOpen()?[2,this.close(rr.Initial)]:[2]})})},n.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},n.prototype.close=function(n,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(n===rr.Error||jn(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,n!==rr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.onClose(e)];case 1:return t.sent(),[2]}})})},n.prototype.tearDown=function(){},n.prototype.auth=function(){var n=this;v(this.state===rr.Initial,"Must be in initial state to auth"),this.state=rr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;this.credentialsProvider.getToken().then(function(e){n.closeCount===t&&n.startStream(e)},function(t){e(function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+t.message);return n.handleStreamClose(e)})})},n.prototype.startStream=function(n){var e=this;v(this.state===rr.Starting,"Trying to start stream in a non-starting state");var t=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(n),this.stream.onOpen(function(){t(function(){return v(e.state===rr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=rr.Open,e.listener.onOpen()})}),this.stream.onClose(function(n){t(function(){return e.handleStreamClose(n)})}),this.stream.onMessage(function(n){t(function(){return e.onMessage(n)})})},n.prototype.performBackoff=function(){var n=this;v(this.state===rr.Error,"Should only perform backoff when in Error state"),this.state=rr.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(n){return v(this.state===rr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=rr.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},n.prototype.handleStreamClose=function(n){return v(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+n),this.stream=null,this.close(rr.Error,n)},n.prototype.getCloseGuardedDispatcher=function(n){var e=this;return function(t){e.queue.enqueueAndForget(function(){return e.closeCount===n?t():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},n}(),sr=function(n){function e(e,t,l,r,i){var o=n.call(this,e,dt.ListenStreamConnectionBackoff,dt.ListenStreamIdle,t,l,i)||this;return o.serializer=r,o}return o.__extends(e,n),e.prototype.startRpc=function(n){return this.connection.openStream("Listen",n)},e.prototype.onMessage=function(n){this.backoff.reset();var e=this.serializer.fromWatchChange(n),t=this.serializer.versionFromListenResponse(n);return this.listener.onWatchChange(e,t)},e.prototype.watch=function(n){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(n);var t=this.serializer.toListenRequestLabels(n);t&&(e.labels=t),this.sendRequest(e)},e.prototype.unwatch=function(n){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=n,this.sendRequest(e)},e}(ar),cr=function(n){function e(e,t,l,r,i){var o=n.call(this,e,dt.WriteStreamConnectionBackoff,dt.WriteStreamIdle,t,l,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o}return o.__extends(e,n),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,n.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(n){return this.connection.openStream("Write",n)},e.prototype.onMessage=function(n){if(v(!!n.streamToken,"Got a write response without a stream token"),this.lastStreamToken=n.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(n.writeResults,n.commitTime),t=this.serializer.fromVersion(n.commitTime);return this.listener.onMutationResult(t,e)}return v(!n.writeResults||0===n.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var n={};n.database=this.serializer.encodedDatabaseId,this.sendRequest(n)},e.prototype.writeMutations=function(n){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var t={streamToken:this.lastStreamToken,writes:n.map(function(n){return e.serializer.toMutation(n)})};this.sendRequest(t)},e}(ar),hr=function(){function n(n,e,t,l){this.queue=n,this.connection=e,this.credentials=t,this.serializer=l}return n.prototype.newPersistentWriteStream=function(n){return new cr(this.queue,this.connection,this.credentials,this.serializer,n)},n.prototype.newPersistentWatchStream=function(n){return new sr(this.queue,this.connection,this.credentials,this.serializer,n)},n.prototype.commit=function(n){var e=this,t={database:this.serializer.encodedDatabaseId,writes:n.map(function(n){return e.serializer.toMutation(n)})};return this.invokeRPC("Commit",t).then(function(n){return e.serializer.fromWriteResults(n.writeResults,n.commitTime)})},n.prototype.lookup=function(n){var e=this,t={database:this.serializer.encodedDatabaseId,documents:n.map(function(n){return e.serializer.toName(n)})};return this.invokeStreamingRPC("BatchGetDocuments",t).then(function(t){var l=Ie();t.forEach(function(n){var t=e.serializer.fromMaybeDocument(n);l=l.insert(t.key,t)});var r=[];return n.forEach(function(n){var e=l.get(n);v(!!e,"Missing entity in write response for "+n),r.push(e)}),r})},n.prototype.invokeRPC=function(n,e){var t=this;return this.credentials.getToken().then(function(l){return t.connection.invokeRPC(n,e,l)}).catch(function(n){throw n.code===w.UNAUTHENTICATED&&t.credentials.invalidateToken(),n})},n.prototype.invokeStreamingRPC=function(n,e){var t=this;return this.credentials.getToken().then(function(l){return t.connection.invokeStreamingRPC(n,e,l)}).catch(function(n){throw n.code===w.UNAUTHENTICATED&&t.credentials.invalidateToken(),n})},n}(),dr=function(){function n(n){this.datastore=n,this.readVersions=Ne(),this.mutations=[],this.committed=!1}return n.prototype.recordVersion=function(n){var e;if(n instanceof dn)e=n.version;else{if(!(n instanceof pn))throw y("Document in a transaction was a "+n.constructor.name);e=ne.forDeletedDoc()}var t=this.readVersions.get(n.key);if(null!==t){if(!e.isEqual(t))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(n.key,e)},n.prototype.lookup=function(n){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(n).then(function(n){return n.forEach(function(n){n instanceof pn||n instanceof dn?e.recordVersion(n):y("Document in a transaction was a "+n.constructor.name)}),n})},n.prototype.write=function(n){if(this.committed)throw new C(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(n)},n.prototype.precondition=function(n){var e=this.readVersions.get(n);return e?se.updateTime(e):se.NONE},n.prototype.preconditionForUpdate=function(n){var e=this.readVersions.get(n);if(e&&e.isEqual(ne.forDeletedDoc()))throw new C(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?se.updateTime(e):se.exists(!0)},n.prototype.set=function(n,e){this.write(e.toMutations(n,this.precondition(n)))},n.prototype.update=function(n,e){this.write(e.toMutations(n,this.preconditionForUpdate(n)))},n.prototype.delete=function(n){this.write([new fe(n,this.precondition(n))]),this.readVersions=this.readVersions.insert(n,ne.forDeletedDoc())},n.prototype.commit=function(){var n=this,e=this.readVersions;return this.mutations.forEach(function(n){e=e.remove(n.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){n.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},n}(),pr=function(n){return n[n.Unknown=0]="Unknown",n[n.Online=1]="Online",n[n.Offline=2]="Offline",n}({}),fr=function(n){return n[n.RemoteStore=0]="RemoteStore",n[n.SharedClientState=1]="SharedClientState",n}({}),mr=function(){function n(n,e){this.asyncQueue=n,this.onlineStateHandler=e,this.state=pr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return n.prototype.handleWatchStreamStart=function(){var n=this;0===this.watchStreamFailures&&(this.setAndBroadcast(pr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(dt.OnlineStateTimeout,1e4,function(){return n.onlineStateTimer=null,v(n.state===pr.Unknown,"Timer should be canceled if we transitioned to a different state."),n.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),n.setAndBroadcast(pr.Offline),Promise.resolve()}))},n.prototype.handleWatchStreamFailure=function(n){this.state===pr.Online?(this.setAndBroadcast(pr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+n.toString()),this.setAndBroadcast(pr.Offline)))},n.prototype.set=function(n){this.clearOnlineStateTimer(),this.watchStreamFailures=0,n===pr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(n)},n.prototype.setAndBroadcast=function(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))},n.prototype.logClientOfflineWarningIfNecessary=function(n){var e="Could not reach Cloud Firestore backend. "+n+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},n.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},n}(),gr="RemoteStore",yr=function(){function n(n,e,t,l,r){var i=this;this.localStore=n,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback(function(n){t.enqueueAndForget(function(){return o.__awaiter(i,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.canUseNetwork()?(f(gr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new mr(t,l),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return n.prototype.start=function(){return this.enableNetwork()},n.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(n=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return n.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(pr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},n.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return n.sent(),this.onlineStateTracker.set(pr.Offline),[2]}})})},n.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.writeStream.stop()];case 1:return n.sent(),[4,this.watchStream.stop()];case 2:return n.sent(),this.writePipeline.length>0&&(f(gr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},n.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return f(gr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return n.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(pr.Unknown),[2]}})})},n.prototype.listen=function(n){v(!S(this.listenTargets,n.targetId),"listen called with duplicate targetId!"),this.listenTargets[n.targetId]=n,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(n)},n.prototype.unlisten=function(n){v(S(this.listenTargets,n),"unlisten called without assigned target ID!"),delete this.listenTargets[n],this.watchStream.isOpen()&&this.sendUnwatchRequest(n),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(pr.Unknown))},n.prototype.getQueryDataForTarget=function(n){return this.listenTargets[n]||null},n.prototype.getRemoteKeysForTarget=function(n){return this.syncEngine.getRemoteKeysForTarget(n)},n.prototype.sendWatchRequest=function(n){this.watchChangeAggregator.recordPendingTargetRequest(n.targetId),this.watchStream.watch(n)},n.prototype.sendUnwatchRequest=function(n){this.watchChangeAggregator.recordPendingTargetRequest(n),this.watchStream.unwatch(n)},n.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Qe(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},n.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},n.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},n.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},n.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var n=this;return o.__generator(this,function(e){return I(this.listenTargets,function(e,t){n.sendWatchRequest(t)}),[2]})})},n.prototype.onWatchStreamClose=function(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===n&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(n),this.startWatchStream()):this.onlineStateTracker.set(pr.Unknown),[2]})})},n.prototype.onWatchStreamChange=function(n,e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(l){switch(l.label){case 0:return this.onlineStateTracker.set(pr.Online),n instanceof We&&n.state===He.Removed&&n.cause?[2,this.handleTargetError(n)]:(n instanceof Ke?this.watchChangeAggregator.handleDocumentChange(n):n instanceof ze?this.watchChangeAggregator.handleExistenceFilter(n):(v(n instanceof We,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(n)),e.isEqual(ne.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return t=l.sent(),e.compareTo(t)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.raiseWatchSnapshot=function(n){var e=this;v(!n.isEqual(ne.MIN),"Can't raise event for unknown SnapshotVersion");var t=this.watchChangeAggregator.createRemoteEvent(n);return I(t.targetChanges,function(t,l){if(l.resumeToken.length>0){var r=e.listenTargets[t];r&&(e.listenTargets[t]=r.copy({resumeToken:l.resumeToken,snapshotVersion:n}))}}),t.targetMismatches.forEach(function(n){var t=e.listenTargets[n];if(t){e.listenTargets[n]=t.copy({resumeToken:_()}),e.sendUnwatchRequest(n);var l=new te(t.query,n,ee.ExistenceFilterMismatch,t.sequenceNumber);e.sendWatchRequest(l)}}),this.syncEngine.applyRemoteEvent(t)},n.prototype.handleTargetError=function(n){var e=this;v(!!n.cause,"Handling target error without a cause");var t=n.cause,l=Promise.resolve();return n.targetIds.forEach(function(n){l=l.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return S(this.listenTargets,n)?(delete this.listenTargets[n],this.watchChangeAggregator.removeTarget(n),[2,this.syncEngine.rejectListen(n,t)]):[2]})})})}),l},n.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(n=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(n),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},n.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},n.prototype.outstandingWrites=function(){return this.writePipeline.length},n.prototype.addToWritePipeline=function(n){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(n),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(n.mutations)},n.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},n.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},n.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){return this.writeStream.writeHandshake(),[2]})})},n.prototype.onWriteHandshakeComplete=function(){var n=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,t=n.writePipeline;e<t.length;e++)n.writeStream.writeMutations(t[e].mutations)}).catch(Fl)},n.prototype.onMutationResult=function(n,e){var t=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var l=this.writePipeline.shift(),r=It.from(l,n,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then(function(){return t.fillWritePipeline()})},n.prototype.onWriteStreamClose=function(n){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(t){return void 0===n&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),n&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(n):this.handleHandshakeError(n)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},n.prototype.handleHandshakeError=function(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return Ce(n.code)?(f(gr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Fl)]):[2]})})},n.prototype.handleWriteError=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t=this;return o.__generator(this,function(l){return Ce(r=n.code)&&r!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,n).then(function(){return t.fillWritePipeline()})]):[2];var r})})},n.prototype.createTransaction=function(){return new dr(this.datastore)},n.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return n.sent(),this.onlineStateTracker.set(pr.Unknown),[4,this.enableNetwork()];case 2:return n.sent(),[2]}})})},n.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.canUseNetwork()?(f(gr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.applyPrimaryState=function(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=n,n&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return n?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(pr.Unknown),e.label=4;case 4:return[2]}})})},n}(),vr=function(){return function(){this.listeners=[]}}(),br=function(){function n(n){this.syncEngine=n,this.queries=new Qt(function(n){return n.canonicalId()}),this.onlineState=pr.Unknown,this.syncEngine.subscribe(this)}return n.prototype.listen=function(n){var e=n.query,t=!1,l=this.queries.get(e);return l||(t=!0,l=new vr,this.queries.set(e,l)),l.listeners.push(n),n.applyOnlineStateChange(this.onlineState),l.viewSnap&&n.onViewSnapshot(l.viewSnap),t?this.syncEngine.listen(e).then(function(n){return l.targetId=n,n}):Promise.resolve(l.targetId)},n.prototype.unlisten=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t,l,r;return o.__generator(this,function(i){return t=!1,(l=this.queries.get(e=n.query))&&(r=l.listeners.indexOf(n))>=0&&(l.listeners.splice(r,1),t=0===l.listeners.length),t?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},n.prototype.onWatchChange=function(n){for(var e=0,t=n;e<t.length;e++){var l=t[e],r=this.queries.get(l.query);if(r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].onViewSnapshot(l);r.viewSnap=l}}},n.prototype.onWatchError=function(n,e){var t=this.queries.get(n);if(t)for(var l=0,r=t.listeners;l<r.length;l++)r[l].onError(e);this.queries.delete(n)},n.prototype.onOnlineStateChange=function(n){this.onlineState=n,this.queries.forEach(function(e,t){for(var l=0,r=t.listeners;l<r.length;l++)r[l].applyOnlineStateChange(n)})},n}(),_r=function(){function n(n,e,t){this.query=n,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=pr.Unknown,this.options=t||{}}return n.prototype.onViewSnapshot=function(n){if(v(n.docChanges.length>0||n.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],t=0,l=n.docChanges;t<l.length;t++){var r=l[t];r.type!==Ve.Metadata&&e.push(r)}n=new Fe(n.query,n.docs,n.oldDocs,e,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(n)&&this.queryObserver.next(n):this.shouldRaiseInitialEvent(n,this.onlineState)&&this.raiseInitialEvent(n),this.snap=n},n.prototype.onError=function(n){this.queryObserver.error(n)},n.prototype.applyOnlineStateChange=function(n){this.onlineState=n,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,n)&&this.raiseInitialEvent(this.snap)},n.prototype.shouldRaiseInitialEvent=function(n,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!n.fromCache||(this.options.waitForSyncWhenOnline&&e!==pr.Offline?(v(n.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!n.docs.isEmpty()||e===pr.Offline)},n.prototype.shouldRaiseEvent=function(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges},n.prototype.raiseInitialEvent=function(n){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),n=Fe.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(n)},n}(),wr=function(){function n(n,e,t){this.targetId=n,this.addedKeys=e,this.removedKeys=t}return n.fromSnapshot=function(e,t){for(var l=Re(),r=Re(),i=0,o=t.docChanges;i<o.length;i++){var u=o[i];switch(u.type){case Ve.Added:l=l.add(u.doc.key);break;case Ve.Removed:r=r.add(u.doc.key)}}return new n(e,l,r)},n}(),Cr=function(){return function(n){this.key=n}}(),Er=function(){return function(n){this.key=n}}(),Sr=function(){function n(n,e){this.query=n,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Re(),this.mutatedKeys=Re(),this.documentSet=new Le(n.docComparator.bind(n))}return Object.defineProperty(n.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),n.prototype.computeDocChanges=function(n,e){var t=this,l=e?e.changeSet:new qe,r=e?e.documentSet:this.documentSet,i=e?e.mutatedKeys:this.mutatedKeys,o=r,u=!1,a=this.query.hasLimit()&&r.size===this.query.limit?r.last():null;if(n.inorderTraversal(function(n,e){var s=r.get(n),c=e instanceof dn?e:null;c&&(v(n.isEqual(c.key),"Mismatching keys found in document changes: "+n+" != "+c.key),c=t.query.matches(c)?c:null);var h=!!s&&t.mutatedKeys.has(s.key),d=!!c&&(c.hasLocalMutations||t.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;s&&c?s.data.isEqual(c.data)?h!==d&&(l.track({type:Ve.Metadata,doc:c}),p=!0):t.shouldWaitForSyncedDocument(s,c)||(l.track({type:Ve.Modified,doc:c}),p=!0,a&&t.query.docComparator(c,a)>0&&(u=!0)):!s&&c?(l.track({type:Ve.Added,doc:c}),p=!0):s&&!c&&(l.track({type:Ve.Removed,doc:s}),p=!0,a&&(u=!0)),p&&(c?(o=o.add(c),i=d?i.add(n):i.delete(n)):(o=o.delete(n),i=i.delete(n)))}),this.query.hasLimit())for(;o.size>this.query.limit;){var s=o.last();o=o.delete(s.key),i=i.delete(s.key),l.track({type:Ve.Removed,doc:s})}return v(!u||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:l,needsRefill:u,mutatedKeys:i}},n.prototype.shouldWaitForSyncedDocument=function(n,e){return n.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},n.prototype.applyChanges=function(n,e,t){var l=this;v(!n.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=n.documentSet,this.mutatedKeys=n.mutatedKeys;var i=n.changeSet.getChanges();i.sort(function(n,e){return function(n,e){var t=function(n){switch(n){case Ve.Added:return 1;case Ve.Modified:case Ve.Metadata:return 2;case Ve.Removed:return 0;default:return y("Unknown ChangeType: "+n)}};return t(n)-t(e)}(n.type,e.type)||l.query.docComparator(n.doc,e.doc)}),this.applyTargetChange(t);var o=e?this.updateLimboDocuments():[],u=0===this.limboDocuments.size&&this.current?Ue.Synced:Ue.Local,a=u!==this.syncState;return this.syncState=u,0!==i.length||a?{snapshot:new Fe(this.query,n.documentSet,r,i,n.mutatedKeys,u===Ue.Local,a,!1),limboChanges:o}:{limboChanges:o}},n.prototype.applyOnlineStateChange=function(n){return this.current&&n===pr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new qe,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},n.prototype.shouldBeInLimbo=function(n){return!this._syncedDocuments.has(n)&&!!this.documentSet.has(n)&&!this.documentSet.get(n).hasLocalMutations},n.prototype.applyTargetChange=function(n){var e=this;n&&(n.addedDocuments.forEach(function(n){return e._syncedDocuments=e._syncedDocuments.add(n)}),n.modifiedDocuments.forEach(function(n){return v(e._syncedDocuments.has(n),"Modified document "+n+" not found in view.")}),n.removedDocuments.forEach(function(n){return e._syncedDocuments=e._syncedDocuments.delete(n)}),this.current=n.current)},n.prototype.updateLimboDocuments=function(){var n=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Re(),this.documentSet.forEach(function(e){n.shouldBeInLimbo(e.key)&&(n.limboDocuments=n.limboDocuments.add(e.key))});var t=[];return e.forEach(function(e){n.limboDocuments.has(e)||t.push(new Er(e))}),this.limboDocuments.forEach(function(n){e.has(n)||t.push(new Cr(n))}),t},n.prototype.synchronizeWithPersistedState=function(n,e){this._syncedDocuments=e,this.limboDocuments=Re();var t=this.computeDocChanges(n);return this.applyChanges(t,!0)},n.prototype.computeInitialSnapshot=function(){return Fe.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ue.Local)},n}(),Tr=function(){return function(n,e,t){this.query=n,this.targetId=e,this.view=t}}(),Ir=function(){return function(n){this.key=n}}(),kr=function(){function n(n,e,t,l){this.localStore=n,this.remoteStore=e,this.sharedClientState=t,this.currentUser=l,this.syncEngineListener=null,this.queryViewsByQuery=new Qt(function(n){return n.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new mn(cn.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Wl,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Vt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=pr.Unknown}return Object.defineProperty(n.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),n.prototype.subscribe=function(n){v(null!==n,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=n},n.prototype.listen=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t,l,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(l=this.queryViewsByQuery.get(n))?(this.sharedClientState.addLocalQueryTarget(e=l.targetId),t=l.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(n)];case 2:return r=o.sent(),i=this.sharedClientState.addLocalQueryTarget(r.targetId),e=r.targetId,[4,this.initializeViewAndComputeSnapshot(r,"current"===i)];case 3:t=o.sent(),this.isPrimary&&this.remoteStore.listen(r),o.label=4;case 4:return this.syncEngineListener.onWatchChange([t]),[2,e]}})})},n.prototype.initializeViewAndComputeSnapshot=function(n,e){var t=this,l=n.query;return this.localStore.executeQuery(l).then(function(r){return t.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new Sr(l,i),u=o.computeDocChanges(r),a=Be.createSynthesizedTargetChangeForCurrentChange(n.targetId,e&&t.onlineState!==pr.Offline),s=o.applyChanges(u,!0===t.isPrimary,a);v(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!s.snapshot,"applyChanges for new view should always return a snapshot");var c=new Tr(l,n.targetId,o);return t.queryViewsByQuery.set(l,c),t.queryViewsByTarget[n.targetId]=c,s.snapshot})})},n.prototype.synchronizeViewAndComputeSnapshot=function(n){var e=this;return this.localStore.executeQuery(n.query).then(function(t){return e.localStore.remoteDocumentKeys(n.targetId).then(function(l){return o.__awaiter(e,void 0,void 0,function(){var e;return o.__generator(this,function(r){return e=n.view.synchronizeWithPersistedState(t,l),this.isPrimary&&this.updateTrackedLimbos(n.targetId,e.limboChanges),[2,e]})})})})},n.prototype.unlisten=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t=this;return o.__generator(this,function(l){switch(l.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(n)),"Trying to unlisten on query not found:"+n),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(n,!1).then(function(){t.sharedClientState.clearQueryState(e.targetId),t.remoteStore.unlisten(e.targetId),t.removeAndCleanupQuery(e)}).catch(Fl)]):[3,3];case 1:l.sent(),l.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(n,!0)];case 4:l.sent(),l.label=5;case 5:return[2]}})})},n.prototype.write=function(n,e){var t=this;return this.assertSubscribed("write()"),this.localStore.localWrite(n).then(function(n){return t.sharedClientState.addPendingMutation(n.batchId),t.addMutationCallback(n.batchId,e),t.emitNewSnapsAndNotifyLocalStore(n.changes)}).then(function(){return t.remoteStore.fillWritePipeline()})},n.prototype.wrapUpdateFunctionError=function(n){return n},n.prototype.runTransaction=function(n,e){var t=this;void 0===e&&(e=5),v(e>=0,"Got negative number of retries for transaction.");var l=this.remoteStore.createTransaction();return function(){try{var e=n(l);return!jn(e)&&e.catch&&e.then?e.catch(function(n){return Promise.reject(t.wrapUpdateFunctionError(n))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(r){return Promise.reject(t.wrapUpdateFunctionError(r))}}().then(function(r){return l.commit().then(function(){return r}).catch(function(l){return 0===e?Promise.reject(l):t.runTransaction(n,e-1)})})},n.prototype.applyRemoteEvent=function(n){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(n).then(function(t){return k(n.targetChanges,function(n,t){var l=e.limboResolutionsByTarget[n];l&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?l.receivedDocument=!0:t.modifiedDocuments.size>0?v(l.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(v(l.receivedDocument,"Received remove for limbo target document without add."),l.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(t,n)}).catch(Fl)},n.prototype.applyOnlineStateChange=function(n,e){if(this.isPrimary&&e===fr.RemoteStore||!this.isPrimary&&e===fr.SharedClientState){var t=[];this.queryViewsByQuery.forEach(function(e,l){var r=l.view.applyOnlineStateChange(n);v(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&t.push(r.snapshot)}),this.syncEngineListener.onOnlineStateChange(n),this.syncEngineListener.onWatchChange(t),this.onlineState=n,this.isPrimary&&this.sharedClientState.setOnlineState(n)}},n.prototype.rejectListen=function(n,e){return o.__awaiter(this,void 0,void 0,function(){var t,l,r,i,u,a,s=this;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(n,"rejected",e),(l=(t=this.limboResolutionsByTarget[n])&&t.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(l),delete this.limboResolutionsByTarget[n],r=(r=new mn(cn.comparator)).insert(l,new pn(l,ne.forDeletedDoc())),i=Re().add(l),u=new je(ne.MIN,{},new le(G),r,i),[2,this.applyRemoteEvent(u)]):[3,1];case 1:return v(!!(a=this.queryViewsByTarget[n]),"Unknown targetId: "+n),[4,this.localStore.releaseQuery(a.query,!1).then(function(){return s.removeAndCleanupQuery(a)}).catch(Fl)];case 2:o.sent(),this.syncEngineListener.onWatchError(a.query,e),o.label=3;case 3:return[2]}})})},n.prototype.applyBatchState=function(n,e,t){return o.__awaiter(this,void 0,void 0,function(){var l;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(n)];case 1:return null===(l=r.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+n),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(n,t||null),this.localStore.removeCachedMutationBatchMetadata(n)):y("Unknown batchState: "+e),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(l)];case 5:return r.sent(),[2]}})})},n.prototype.applySuccessfulWrite=function(n){var e=this;this.assertSubscribed("applySuccessfulWrite()");var t=n.batch.batchId;return this.processUserCallback(t,null),this.localStore.acknowledgeBatch(n).then(function(n){return e.sharedClientState.updateMutationState(t,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(n)}).catch(Fl)},n.prototype.rejectFailedWrite=function(n,e){var t=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(n,e),this.localStore.rejectBatch(n).then(function(l){return t.sharedClientState.updateMutationState(n,"rejected",e),t.emitNewSnapsAndNotifyLocalStore(l)}).catch(Fl)},n.prototype.addMutationCallback=function(n,e){var t=this.mutationUserCallbacks[this.currentUser.toKey()];t||(t=new mn(G)),t=t.insert(n,e),this.mutationUserCallbacks[this.currentUser.toKey()]=t},n.prototype.processUserCallback=function(n,e){var t=this.mutationUserCallbacks[this.currentUser.toKey()];if(t){var l=t.get(n);l&&(v(n===t.minKey(),"Mutation callbacks processed out-of-order?"),e?l.reject(e):l.resolve(),t=t.remove(n)),this.mutationUserCallbacks[this.currentUser.toKey()]=t}},n.prototype.removeAndCleanupQuery=function(n){var e=this;if(this.sharedClientState.removeLocalQueryTarget(n.targetId),this.queryViewsByQuery.delete(n.query),delete this.queryViewsByTarget[n.targetId],this.isPrimary){var t=this.limboDocumentRefs.referencesForId(n.targetId);this.limboDocumentRefs.removeReferencesForId(n.targetId),t.forEach(function(n){e.limboDocumentRefs.containsKey(n)||e.removeLimboTarget(n)})}},n.prototype.removeLimboTarget=function(n){var e=this.limboTargetsByKey.get(n);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(n),delete this.limboResolutionsByTarget[e])},n.prototype.updateTrackedLimbos=function(n,e){for(var t=0,l=e;t<l.length;t++){var r=l[t];r instanceof Cr?(this.limboDocumentRefs.addReference(r.key,n),this.trackLimboChange(r)):r instanceof Er?(f("SyncEngine","Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,n),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)):y("Unknown limbo change: "+JSON.stringify(r))}},n.prototype.trackLimboChange=function(n){var e=n.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var t=this.limboTargetIdGenerator.next(),l=Kn.atPath(e.path);this.limboResolutionsByTarget[t]=new Ir(e),this.remoteStore.listen(new te(l,t,ee.LimboResolution,pt.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,t)}},n.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},n.prototype.emitNewSnapsAndNotifyLocalStore=function(n,e){return o.__awaiter(this,void 0,void 0,function(){var t,l,r,i=this;return o.__generator(this,function(o){switch(o.label){case 0:return t=[],l=[],r=[],this.queryViewsByQuery.forEach(function(o,u){r.push(Promise.resolve().then(function(){var e=u.view.computeDocChanges(n);return e.needsRefill?i.localStore.executeQuery(u.query).then(function(n){return u.view.computeDocChanges(n,e)}):e}).then(function(n){var r=u.view.applyChanges(n,!0===i.isPrimary,e&&e.targetChanges[u.targetId]);if(i.updateTrackedLimbos(u.targetId,r.limboChanges),r.snapshot){i.isPrimary&&i.sharedClientState.updateQueryState(u.targetId,r.snapshot.fromCache?"not-current":"current"),t.push(r.snapshot);var o=wr.fromSnapshot(u.targetId,r.snapshot);l.push(o)}}))}),[4,Promise.all(r)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(t),[4,this.localStore.notifyLocalViewChanges(l)];case 2:return o.sent(),[2]}})})},n.prototype.assertSubscribed=function(n){v(null!==this.syncEngineListener,"Trying to call "+n+" before calling subscribe().")},n.prototype.handleCredentialChange=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t;return o.__generator(this,function(l){switch(l.label){case 0:return e=!this.currentUser.isEqual(n),this.currentUser=n,e?[4,this.localStore.handleUserChange(n)]:[3,3];case 1:return t=l.sent(),this.sharedClientState.handleUserChange(n,t.removedBatchIds,t.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(t.affectedDocuments)];case 2:l.sent(),l.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return l.sent(),[2]}})})},n.prototype.applyPrimaryState=function(n){return o.__awaiter(this,void 0,void 0,function(){var e,t,l,r,i,u,a=this;return o.__generator(this,function(o){switch(o.label){case 0:return!0!==n||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(t=o.sent(),l=0,r=t;l<r.length;l++)this.remoteStore.listen(r[l]);return[3,7];case 3:return!1!==n||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],u=Promise.resolve(),I(this.queryViewsByTarget,function(n,e){a.sharedClientState.isLocalQueryTarget(n)?i.push(n):u=u.then(function(){return a.unlisten(e.query)}),a.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(i)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},n.prototype.resetLimboDocuments=function(){var n=this;I(this.limboResolutionsByTarget,function(e){n.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new mn(cn.comparator)},n.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(n){for(var e=this,t=Promise.resolve(),l=[],r=[],i=function(n){t=t.then(function(){return o.__awaiter(e,void 0,void 0,function(){var e,t,i,u;return o.__generator(this,function(o){switch(o.label){case 0:return(t=this.queryViewsByTarget[n])?[4,this.localStore.releaseQuery(t.query,!0)]:[3,4];case 1:return o.sent(),[4,this.localStore.allocateQuery(t.query)];case 2:return e=o.sent(),[4,this.synchronizeViewAndComputeSnapshot(t)];case 3:return(i=o.sent()).snapshot&&r.push(i.snapshot),[3,8];case 4:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(n)];case 5:return v(!!(u=o.sent()),"Query data for target "+n+" not found"),[4,this.localStore.allocateQuery(u)];case 6:return e=o.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:o.sent(),o.label=8;case 8:return l.push(e),[2]}})})})},u=0,a=n;u<a.length;u++)i(a[u]);return t.then(function(){return e.syncEngineListener.onWatchChange(r),l})},n.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},n.prototype.applyTargetState=function(n,e,t){return o.__awaiter(this,void 0,void 0,function(){var l,r=this;return o.__generator(this,function(i){switch(i.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[n])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(t){return o.__awaiter(r,void 0,void 0,function(){var l;return o.__generator(this,function(r){switch(r.label){case 0:return l=je.createSynthesizedRemoteEventForCurrentChange(n,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(t,l)];case 1:return r.sent(),[2]}})})},function(n){return o.__awaiter(r,void 0,void 0,function(){var e;return o.__generator(this,function(t){switch(t.label){case 0:return function(n){return n.code===w.DATA_LOSS&&n.message===Yt}(n)?(e=[],I(this.queryViewsByTarget,function(n){return e.push(n)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return t.sent(),[3,3];case 2:throw n;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(l=this.queryViewsByTarget[n]),[4,this.localStore.releaseQuery(l.query,!0)];case 3:return i.sent(),this.syncEngineListener.onWatchError(l.query,t),[3,5];case 4:y("Unexpected target state: "+e),i.label=5;case 5:return[2]}})})},n.prototype.applyActiveTargetsChange=function(n,e){return o.__awaiter(this,void 0,void 0,function(){var t,l,r,i,u,a,s,c,h,d=this;return o.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];t=0,l=n,p.label=1;case 1:return t<l.length?(v(!this.queryViewsByTarget[h=l[t]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(r)];case 3:return i=p.sent(),[4,this.initializeViewAndComputeSnapshot(i,!1)];case 4:p.sent(),this.remoteStore.listen(i),p.label=5;case 5:return t++,[3,1];case 6:u=function(n){var e;return o.__generator(this,function(t){switch(t.label){case 0:return(e=a.queryViewsByTarget[n])?[4,a.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(n),d.removeAndCleanupQuery(e)}).catch(Fl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=this,s=0,c=e,p.label=7;case 7:return s<c.length?[5,u(h=c[s])]:[3,10];case 8:p.sent(),p.label=9;case 9:return s++,[3,7];case 10:return[2]}})})},n.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},n.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},n.prototype.getRemoteKeysForTarget=function(n){var e=this.limboResolutionsByTarget[n];return e&&e.receivedDocument?Re().add(e.key):this.queryViewsByTarget[n]?this.queryViewsByTarget[n].view.syncedDocuments:Re()},n}(),Ar=function(){function n(n){this.uid=n}return n.prototype.isAuthenticated=function(){return null!=this.uid},n.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},n.prototype.isEqual=function(n){return n.uid===this.uid},n.UNAUTHENTICATED=new n(null),n.GOOGLE_CREDENTIALS=new n("google-credentials-uid"),n.FIRST_PARTY=new n("first-party-uid"),n}(),Dr="SharedClientState",xr="firestore_clients",Nr="firestore_mutations",Or="firestore_targets",Rr="firestore_online_state",Pr="firestore_sequence_number",Mr=function(){function n(n,e,t,l){this.user=n,this.batchId=e,this.state=t,this.error=l,v(void 0!==l==("rejected"===t),"MutationMetadata must contain an error iff state is 'rejected'")}return n.fromWebStorageEntry=function(e,t,l){var r=JSON.parse(l),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new n(e,t,r.state,o):(m(Dr,"Failed to parse mutation state for ID '"+t+"': "+l),null)},n.prototype.toWebStorageJSON=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},n}(),Lr=function(){function n(n,e,t){this.targetId=n,this.state=e,this.error=t,v(void 0!==t==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return n.fromWebStorageEntry=function(e,t){var l=JSON.parse(t),r="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error),i=void 0;return r&&l.error&&(r="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(i=new C(l.error.code,l.error.message)),r?new n(e,l.state,i):(m(Dr,"Failed to parse target state for ID '"+e+"': "+t),null)},n.prototype.toWebStorageJSON=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},n}(),Vr=function(){function n(n,e){this.clientId=n,this.activeTargetIds=e}return n.fromWebStorageEntry=function(e,t){for(var l=JSON.parse(t),r="object"==typeof l&&l.activeTargetIds instanceof Array,i=Me(),o=0;r&&o<l.activeTargetIds.length;++o)r=Bn(l.activeTargetIds[o]),i=i.add(l.activeTargetIds[o]);return r?new n(e,i):(m(Dr,"Failed to parse client data for instance '"+e+"': "+t),null)},n}(),Ur=function(){function n(n,e){this.clientId=n,this.onlineState=e}return n.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&void 0!==pr[t.onlineState]&&"string"==typeof t.clientId?new n(t.clientId,pr[t.onlineState]):(m(Dr,"Failed to parse online state: "+e),null)},n}(),qr=function(){function n(){this.activeTargetIds=Me()}return n.prototype.addQueryTarget=function(n){v(!this.activeTargetIds.has(n),"Target with ID '"+n+"' already active."),this.activeTargetIds=this.activeTargetIds.add(n)},n.prototype.removeQueryTarget=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},n.prototype.toWebStorageJSON=function(){var n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)},n}(),Fr=function(){function n(e,t,l,r,i){if(this.queue=e,this.platform=t,this.persistenceKey=l,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!n.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Pr+"_"+l,this.activeClients[this.localClientId]=new qr,this.clientStateKeyRe=new RegExp("^"+xr+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Nr+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Or+"_"+o+"_(\\d+)$"),this.onlineStateKey=Rr+"_"+l,this.platform.window.addEventListener("storage",this.storageListener)}return n.isAvailable=function(n){return!(!n.window||null==n.window.localStorage)},n.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){var n,e,t,l,r,i,u,a,s,c,h=this;return o.__generator(this,function(o){switch(o.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(n=o.sent(),e=0,t=n;e<t.length;e++)(l=t[e])!==this.localClientId&&(r=this.getItem(this.toWebStorageClientStateKey(l)))&&(i=Vr.fromWebStorageEntry(l,r))&&(this.activeClients[i.clientId]=i);for(this.persistClientState(),(u=this.storage.getItem(this.onlineStateKey))&&(a=this.fromWebStorageOnlineState(u))&&this.handleOnlineStateEvent(a),s=0,c=this.earlyEvents;s<c.length;s++)this.handleWebStorageEvent(c[s]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},n.prototype.writeSequenceNumber=function(n){this.setItem(this.sequenceNumberKey,JSON.stringify(n))},n.prototype.getAllActiveQueryTargets=function(){var n=Me();return k(this.activeClients,function(e,t){n=n.unionWith(t.activeTargetIds)}),n},n.prototype.isActiveQueryTarget=function(n){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(n))return!0;return!1},n.prototype.addPendingMutation=function(n){this.persistMutationState(n,"pending")},n.prototype.updateMutationState=function(n,e,t){this.persistMutationState(n,e,t),this.removeMutationState(n)},n.prototype.addLocalQueryTarget=function(n){var e="not-current";if(this.isActiveQueryTarget(n)){var t=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(n));if(t){var l=Lr.fromWebStorageEntry(n,t);l&&(e=l.state)}}return this.localClientState.addQueryTarget(n),this.persistClientState(),e},n.prototype.removeLocalQueryTarget=function(n){this.localClientState.removeQueryTarget(n),this.persistClientState()},n.prototype.isLocalQueryTarget=function(n){return this.localClientState.activeTargetIds.has(n)},n.prototype.clearQueryState=function(n){this.removeItem(this.toWebStorageQueryTargetMetadataKey(n))},n.prototype.updateQueryState=function(n,e,t){this.persistQueryTargetState(n,e,t)},n.prototype.handleUserChange=function(n,e,t){var l=this;e.forEach(function(n){l.removeMutationState(n)}),this.currentUser=n,t.forEach(function(n){l.addPendingMutation(n)})},n.prototype.setOnlineState=function(n){this.persistOnlineState(n)},n.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},n.prototype.getItem=function(n){var e=this.storage.getItem(n);return f(Dr,"READ",n,e),e},n.prototype.setItem=function(n,e){f(Dr,"SET",n,e),this.storage.setItem(n,e)},n.prototype.removeItem=function(n){f(Dr,"REMOVE",n),this.storage.removeItem(n)},n.prototype.handleWebStorageEvent=function(n){var e=this;if(n.storageArea===this.storage){if(f(Dr,"EVENT",n.key,n.newValue),n.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){var e,t,l,r,i,u;return o.__generator(this,function(o){if(!this.started)return this.earlyEvents.push(n),[2];if(null===n.key)return[2];if(this.clientStateKeyRe.test(n.key)){if(null==n.newValue)return t=this.fromWebStorageClientStateKey(n.key),[2,this.handleClientStateEvent(t,null)];if(e=this.fromWebStorageClientState(n.key,n.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(n.key)){if(null!==n.newValue&&(l=this.fromWebStorageMutationMetadata(n.key,n.newValue)))return[2,this.handleMutationBatchEvent(l)]}else if(this.queryTargetKeyRe.test(n.key)){if(null!==n.newValue&&(r=this.fromWebStorageQueryTargetMetadata(n.key,n.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(n.key===this.onlineStateKey){if(null!==n.newValue&&(i=this.fromWebStorageOnlineState(n.newValue)))return[2,this.handleOnlineStateEvent(i)]}else n.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(u=function(n){var e=pt.INVALID;if(null!=n)try{var t=JSON.parse(n);v("number"==typeof t,"Found non-numeric sequence number"),e=t}catch(l){m(Dr,"Failed to read sequence number from WebStorage",l)}return e}(n.newValue))!==pt.INVALID&&this.sequenceNumberHandler(u));return[2]})})})}},Object.defineProperty(n.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),n.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},n.prototype.persistMutationState=function(n,e,t){var l=new Mr(this.currentUser,n,e,t),r=this.toWebStorageMutationBatchKey(n);this.setItem(r,l.toWebStorageJSON())},n.prototype.removeMutationState=function(n){var e=this.toWebStorageMutationBatchKey(n);this.removeItem(e)},n.prototype.persistOnlineState=function(n){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:pr[n]}))},n.prototype.persistQueryTargetState=function(n,e,t){var l=this.toWebStorageQueryTargetMetadataKey(n),r=new Lr(n,e,t);this.setItem(l,r.toWebStorageJSON())},n.prototype.toWebStorageClientStateKey=function(n){return v(-1===n.indexOf("_"),"Client key cannot contain '_', but was '"+n+"'"),xr+"_"+this.persistenceKey+"_"+n},n.prototype.toWebStorageQueryTargetMetadataKey=function(n){return Or+"_"+this.persistenceKey+"_"+n},n.prototype.toWebStorageMutationBatchKey=function(n){var e=Nr+"_"+this.persistenceKey+"_"+n;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},n.prototype.fromWebStorageClientStateKey=function(n){var e=this.clientStateKeyRe.exec(n);return e?e[1]:null},n.prototype.fromWebStorageClientState=function(n,e){var t=this.fromWebStorageClientStateKey(n);return v(null!==t,"Cannot parse client state key '"+n+"'"),Vr.fromWebStorageEntry(t,e)},n.prototype.fromWebStorageMutationMetadata=function(n,e){var t=this.mutationBatchKeyRe.exec(n);v(null!==t,"Cannot parse mutation batch key '"+n+"'");var l=Number(t[1]);return Mr.fromWebStorageEntry(new Ar(void 0!==t[2]?t[2]:null),l,e)},n.prototype.fromWebStorageQueryTargetMetadata=function(n,e){var t=this.queryTargetKeyRe.exec(n);v(null!==t,"Cannot parse query target key '"+n+"'");var l=Number(t[1]);return Lr.fromWebStorageEntry(l,e)},n.prototype.fromWebStorageOnlineState=function(n){return Ur.fromWebStorageEntry(n)},n.prototype.handleMutationBatchEvent=function(n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return n.user.uid!==this.currentUser.uid?(f(Dr,"Ignoring mutation for non-active user "+n.user.uid),[2]):[2,this.syncEngine.applyBatchState(n.batchId,n.state,n.error)]})})},n.prototype.handleQueryTargetEvent=function(n){return this.syncEngine.applyTargetState(n.targetId,n.state,n.error)},n.prototype.handleClientStateEvent=function(n,e){var t=this,l=this.getAllActiveQueryTargets();e?this.activeClients[n]=e:delete this.activeClients[n];var r=this.getAllActiveQueryTargets(),i=[],u=[];return r.forEach(function(n){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(e){return l.has(n)||i.push(n),[2]})})}),l.forEach(function(n){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(e){return r.has(n)||u.push(n),[2]})})}),this.syncEngine.applyActiveTargetsChange(i,u)},n.prototype.handleOnlineStateEvent=function(n){this.activeClients[n.clientId]&&this.onlineStateHandler(n.onlineState)},n}(),jr=function(){function n(){this.localState=new qr,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return n.prototype.addPendingMutation=function(n){},n.prototype.updateMutationState=function(n,e,t){},n.prototype.addLocalQueryTarget=function(n){return this.localState.addQueryTarget(n),this.queryState[n]||"not-current"},n.prototype.updateQueryState=function(n,e,t){this.queryState[n]=e},n.prototype.removeLocalQueryTarget=function(n){this.localState.removeQueryTarget(n)},n.prototype.isLocalQueryTarget=function(n){return this.localState.activeTargetIds.has(n)},n.prototype.clearQueryState=function(n){delete this.queryState[n]},n.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},n.prototype.isActiveQueryTarget=function(n){return this.localState.activeTargetIds.has(n)},n.prototype.start=function(){return this.localState=new qr,Promise.resolve()},n.prototype.handleUserChange=function(n,e,t){},n.prototype.setOnlineState=function(n){},n.prototype.shutdown=function(){},n.prototype.writeSequenceNumber=function(n){},n}(),Br=function(){function n(n,e){this.cacheSizeBytes=n,this.synchronizeTabs=e}return n.prototype.lruParams=function(){return Nl.withCacheSize(this.cacheSizeBytes)},n}(),Kr=function(){return function(){}}(),zr=function(){function n(n,e,t,l){this.platform=n,this.databaseInfo=e,this.credentials=t,this.asyncQueue=l,this.clientId=W.newId(),this._clientShutdown=!1}return n.prototype.start=function(n){var e=this;this.verifyNotShutdown();var t=new ft,l=new ft,r=!1;return this.credentials.setChangeListener(function(i){r?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(i)}):(r=!0,e.initializePersistence(n,l,i).then(function(n){return e.initializeRest(i,n)}).then(t.resolve,t.reject))}),this.asyncQueue.enqueueAndForget(function(){return t.promise}),l.promise},n.prototype.enableNetwork=function(){var n=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return n.syncEngine.enableNetwork()})},n.prototype.initializePersistence=function(n,e,t){var l=this;return n instanceof Br?this.startIndexedDbPersistence(t,n).then(function(n){return e.resolve(),n}).catch(function(n){if(e.reject(n),!l.canFallback(n))throw n;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+n),l.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},n.prototype.canFallback=function(n){return n instanceof C?n.code===w.FAILED_PRECONDITION||n.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code},n.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new C(w.FAILED_PRECONDITION,"The client has already been shutdown.")},n.prototype.startIndexedDbPersistence=function(n,e){var t=this,l=ql.buildStoragePrefix(this.databaseInfo),r=new rt(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return o.__awaiter(t,void 0,void 0,function(){var t,i;return o.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Fr.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return i=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Fr(this.asyncQueue,this.platform,l,this.clientId,n),[4,ql.createMultiClientIndexedDbPersistence(l,this.clientId,this.platform,this.asyncQueue,r,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return t=o.sent(),[3,4];case 2:return this.sharedClientState=new jr,[4,ql.createIndexedDbPersistence(l,this.clientId,this.platform,this.asyncQueue,r,i)];case 3:t=o.sent(),o.label=4;case 4:return this.persistence=t,[2,t.referenceDelegate.garbageCollector]}})})})},n.prototype.startMemoryPersistence=function(){return this.persistence=Jl.createEagerPersistence(this.clientId),this.sharedClientState=new jr,Promise.resolve(null)},n.prototype.initializeRest=function(n,e){var t=this;return f("FirestoreClient","Initializing. user=",n.uid),this.platform.loadConnection(this.databaseInfo).then(function(l){return o.__awaiter(t,void 0,void 0,function(){var t,r,i,u,a=this;return o.__generator(this,function(s){switch(s.label){case 0:return this.localStore=new Ql(this.persistence,n),e&&(this.lruScheduler=new Ol(e,this.asyncQueue,this.localStore)),t=this.platform.newConnectivityMonitor(),r=this.platform.newSerializer(this.databaseInfo.databaseId),i=new hr(this.asyncQueue,l,this.credentials,r),u=function(n){return a.syncEngine.applyOnlineStateChange(n,fr.SharedClientState)},this.remoteStore=new yr(this.localStore,i,this.asyncQueue,function(n){return a.syncEngine.applyOnlineStateChange(n,fr.RemoteStore)},t),this.syncEngine=new kr(this.localStore,this.remoteStore,this.sharedClientState,n),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new br(this.syncEngine),[4,this.sharedClientState.start()];case 1:return s.sent(),[4,this.remoteStore.start()];case 2:return s.sent(),[4,this.persistence.setPrimaryStateListener(function(n){return o.__awaiter(a,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(n)];case 1:return e.sent(),this.lruScheduler&&(n&&!this.lruScheduler.started?this.lruScheduler.start():n||this.lruScheduler.stop()),[2]}})})})];case 3:return s.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return o.__awaiter(a,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return[4,this.shutdown()];case 1:return n.sent(),[2]}})})})];case 4:return s.sent(),[2]}})})})},n.prototype.handleCredentialChange=function(n){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+n.uid),this.syncEngine.handleCredentialChange(n)},n.prototype.disableNetwork=function(){var n=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return n.syncEngine.disableNetwork()})},n.prototype.shutdown=function(){var n=this;return this.asyncQueue.enqueue(function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return n.sent(),[4,this.sharedClientState.shutdown()];case 2:return n.sent(),[4,this.persistence.shutdown()];case 3:n.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,n.label=4;case 4:return[2]}})})})},n.prototype.listen=function(n,e,t){var l=this;this.verifyNotShutdown();var r=new _r(n,e,t);return this.asyncQueue.enqueueAndForget(function(){return l.eventMgr.listen(r)}),r},n.prototype.unlisten=function(n){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(n)})},n.prototype.getDocumentFromLocalCache=function(n){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(n)}).then(function(n){if(n instanceof dn)return n;if(n instanceof pn)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},n.prototype.getDocumentsFromLocalCache=function(n){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(n)}).then(function(e){var t=Re(),l=new Sr(n,t),r=l.computeDocChanges(e);return l.applyChanges(r,!1).snapshot})},n.prototype.write=function(n){var e=this;this.verifyNotShutdown();var t=new ft;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(n,t)}),t.promise},n.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(n.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),n.prototype.transaction=function(n){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(n){return[2]})})}).then(function(){return e.syncEngine.runTransaction(n)})},n}(),Hr=function(){function n(n){this.observer=n,this.muted=!1}return n.prototype.next=function(n){this.scheduleEvent(this.observer.next,n)},n.prototype.error=function(n){this.scheduleEvent(this.observer.error,n)},n.prototype.mute=function(){this.muted=!0},n.prototype.scheduleEvent=function(n,e){var t=this;this.muted||setTimeout(function(){t.muted||n(e)},0)},n}(),Wr=function(){function n(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];!function(e,t,l,r){if(!(n instanceof Array)||n.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}();for(var t=0;t<n.length;++t)if(R("FieldPath","string",t,n[t]),0===n[t].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(n)}return n.documentId=function(){return n._DOCUMENT_ID},n.prototype.isEqual=function(e){if(!(e instanceof n))throw K("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},n._DOCUMENT_ID=new n(sn.keyField().canonicalString()),n}(),Gr=new RegExp("[~\\*/\\[\\]]"),Qr=function(){return function(n,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+n}}}(),Xr=function(){function n(){this.changeListener=null}return n.prototype.getToken=function(){return Promise.resolve(null)},n.prototype.invalidateToken=function(){},n.prototype.setChangeListener=function(n){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=n,n(Ar.UNAUTHENTICATED)},n.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},n}(),Yr=function(){function n(n){var e=this;this.app=n,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return n.prototype.getToken=function(){var n=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(t).then(function(t){if(n.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return t?(v("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new Qr(t.accessToken,n.currentUser)):null})},n.prototype.invalidateToken=function(){this.forceRefresh=!0},n.prototype.setChangeListener=function(n){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=n,this.currentUser&&n(this.currentUser)},n.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},n.prototype.getUser=function(){var n=this.app.INTERNAL.getUid();return v(null===n||"string"==typeof n,"Received invalid UID: "+n),new Ar(n)},n}(),$r=function(){function n(n,e){this.gapi=n,this.sessionIndex=e,this.type="FirstParty",this.user=Ar.FIRST_PARTY}return Object.defineProperty(n.prototype,"authHeaders",{get:function(){var n={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(n.Authorization=e),n},enumerable:!0,configurable:!0}),n}(),Zr=function(){function n(n,e){this.gapi=n,this.sessionIndex=e}return n.prototype.getToken=function(){return Promise.resolve(new $r(this.gapi,this.sessionIndex))},n.prototype.setChangeListener=function(n){n(Ar.FIRST_PARTY)},n.prototype.removeChangeListener=function(){},n.prototype.invalidateToken=function(){},n}();function Jr(n){return function(n,e){if("object"!=typeof n||null===n)return!1;for(var t=n,l=0,r=["next","error","complete"];l<r.length;l++){var i=r[l];if(i in t&&"function"==typeof t[i])return!0}return!1}(n)}var ni=function(){function n(n){this._methodName=n}return n.delete=function(){return D("FieldValue.delete",arguments),ei.instance},n.serverTimestamp=function(){return D("FieldValue.serverTimestamp",arguments),ti.instance},n.arrayUnion=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new li(n)},n.arrayRemove=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new ri(n)},n.increment=function(n){return R("FieldValue.increment","number",1,n),x("FieldValue.increment",arguments,1),new ii(n)},n.prototype.isEqual=function(n){return this===n},n}(),ei=function(n){function e(){return n.call(this,"FieldValue.delete")||this}return o.__extends(e,n),e.instance=new e,e}(ni),ti=function(n){function e(){return n.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,n),e.instance=new e,e}(ni),li=function(n){function e(e){var t=n.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}return o.__extends(e,n),e}(ni),ri=function(n){function e(e){var t=n.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}return o.__extends(e,n),e}(ni),ii=function(n){function e(e){var t=n.call(this,"FieldValue.increment")||this;return t._operand=e,t}return o.__extends(e,n),e}(ni),oi=E(ni,"Use FieldValue.<field>() instead."),ui=/^__.*__$/,ai=function(){function n(n,e,t){this.data=n,this.fieldMask=e,this.fieldTransforms=t}return n.prototype.toMutations=function(n,e){var t=[];return t.push(null!==this.fieldMask?new de(n,this.data,this.fieldMask,e):new he(n,this.data,e)),this.fieldTransforms.length>0&&t.push(new pe(n,this.fieldTransforms)),t},n}(),si=function(){function n(n,e,t){this.data=n,this.fieldMask=e,this.fieldTransforms=t}return n.prototype.toMutations=function(n,e){var t=[new de(n,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&t.push(new pe(n,this.fieldTransforms)),t},n}(),ci=function(n){return n[n.Set=0]="Set",n[n.Update=1]="Update",n[n.MergeSet=2]="MergeSet",n[n.Argument=3]="Argument",n}({});function hi(n){switch(n){case ci.Set:case ci.MergeSet:case ci.Update:return!0;case ci.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+n)}}var di=function(){function n(n,e,t,l,r,i){this.dataSource=n,this.methodName=e,this.path=t,this.arrayElement=l,void 0===r&&this.validatePath(),this.arrayElement=void 0!==l&&l,this.fieldTransforms=r||[],this.fieldMask=i||[]}return n.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),l=new n(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return l.validatePathSegment(e),l},n.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),l=new n(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return l.validatePath(),l},n.prototype.childContextForArray=function(e){return new n(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},n.prototype.createError=function(n){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+n+e)},n.prototype.contains=function(n){return void 0!==this.fieldMask.find(function(e){return n.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return n.isPrefixOf(e.field)})},n.prototype.validatePath=function(){if(null!==this.path)for(var n=0;n<this.path.length;n++)this.validatePathSegment(this.path.get(n))},n.prototype.validatePathSegment=function(n){if(hi(this.dataSource)&&ui.test(n))throw this.createError("Document fields cannot begin and end with __")},n}(),pi=function(){return function(n,e){this.databaseId=n,this.key=e}}(),fi=function(){function n(n){this.preConverter=n}return n.prototype.parseSetData=function(n,e){var t=new di(ci.Set,n,sn.EMPTY_PATH);gi("Data must be an object, but it was:",t,e);var l=this.parseData(e,t);return new ai(l,null,t.fieldTransforms)},n.prototype.parseMergeData=function(n,e,t){var l=new di(ci.MergeSet,n,sn.EMPTY_PATH);gi("Data must be an object, but it was:",l,e);var r,i,o=this.parseData(e,l);if(t){for(var u=new le(sn.comparator),a=0,s=t;a<s.length;a++){var c=s[a],h=void 0;if(c instanceof Wr)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=vi(n,c)}if(!l.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");u=u.add(h)}r=ie.fromSet(u),i=l.fieldTransforms.filter(function(n){return r.covers(n.field)})}else r=ie.fromArray(l.fieldMask),i=l.fieldTransforms;return new ai(o,r,i)},n.prototype.parseUpdateData=function(n,e){var t=this,l=new di(ci.Update,n,sn.EMPTY_PATH);gi("Data must be an object, but it was:",l,e);var r=new le(sn.comparator),i=Mn.EMPTY;k(e,function(e,o){var u=vi(n,e),a=l.childContextForFieldPath(u);if((o=t.runPreConverter(o,a))instanceof ei)r=r.add(u);else{var s=t.parseData(o,a);null!=s&&(r=r.add(u),i=i.set(u,s))}});var o=ie.fromSet(r);return new si(i,o,l.fieldTransforms)},n.prototype.parseUpdateVarargs=function(n,e,t,l){var r=new di(ci.Update,n,sn.EMPTY_PATH),i=[yi(n,e)],o=[t];if(l.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+n+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<l.length;u+=2)i.push(yi(n,l[u])),o.push(l[u+1]);var a=new le(sn.comparator),s=Mn.EMPTY;for(u=0;u<i.length;++u){var c=i[u],h=r.childContextForFieldPath(c),d=this.runPreConverter(o[u],h);if(d instanceof ei)a=a.add(c);else{var p=this.parseData(d,h);null!=p&&(a=a.add(c),s=s.set(c,p))}}var f=ie.fromSet(a);return new si(s,f,r.fieldTransforms)},n.prototype.parseQueryValue=function(n,e){var t=new di(ci.Argument,n,sn.EMPTY_PATH),l=this.parseData(e,t);return v(null!=l,"Parsed data should not be null."),v(0===t.fieldTransforms.length,"Field transforms should have been disallowed."),l},n.prototype.runPreConverter=function(n,e){try{return this.preConverter(n)}catch(l){var t=bi(l);throw e.createError(t)}},n.prototype.parseData=function(n,e){if(mi(n=this.runPreConverter(n,e)))return gi("Unsupported field value:",e,n),this.parseObject(n,e);if(n instanceof ni)return this.parseSentinelFieldValue(n,e),null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(n,e)}return this.parseScalarValue(n,e)},n.prototype.parseObject=function(n,e){var t=this,l=new mn(G);return A(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(n,function(n,r){var i=t.parseData(r,e.childContextForField(n));null!=i&&(l=l.insert(n,i))}),new Mn(l)},n.prototype.parseArray=function(n,e){for(var t=[],l=0,r=0,i=n;r<i.length;r++){var o=this.parseData(i[r],e.childContextForArray(l));null==o&&(o=En.INSTANCE),t.push(o),l++}return new Ln(t)},n.prototype.parseSentinelFieldValue=function(n,e){if(!hi(e.dataSource))throw e.createError(n._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(n._methodName+"() is not currently supported inside arrays");if(n instanceof ei){if(e.dataSource!==ci.MergeSet)throw e.dataSource===ci.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(n instanceof ti)e.fieldTransforms.push(new oe(e.path,me.instance));else if(n instanceof li){var t=this.parseArrayTransformElements(n._methodName,n._elements),l=new ge(t);e.fieldTransforms.push(new oe(e.path,l))}else if(n instanceof ri){t=this.parseArrayTransformElements(n._methodName,n._elements);var r=new ye(t);e.fieldTransforms.push(new oe(e.path,r))}else if(n instanceof ii){var i=this.parseQueryValue("FieldValue.increment",n._operand),o=new ve(i);e.fieldTransforms.push(new oe(e.path,o))}else y("Unknown FieldValue type: "+n)},n.prototype.parseScalarValue=function(n,e){if(null===n)return En.INSTANCE;if("number"==typeof n)return Bn(n)?new kn(n):new An(n);if("boolean"==typeof n)return Sn.of(n);if("string"==typeof n)return new Dn(n);if(n instanceof Date)return new xn(en.fromDate(n));if(n instanceof en)return new xn(new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)));if(n instanceof nn)return new Pn(n);if(n instanceof Z)return new On(n);if(n instanceof pi)return new Rn(n.databaseId,n.key);throw e.createError("Unsupported field value: "+F(n))},n.prototype.parseArrayTransformElements=function(n,e){var t=this;return e.map(function(e,l){var r=new di(ci.Argument,n,sn.EMPTY_PATH);return t.parseData(e,r.childContextForArray(l))})},n}();function mi(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof en||n instanceof nn||n instanceof Z||n instanceof pi||n instanceof ni)}function gi(n,e,t){if(!mi(t)||!q(t)){var l=F(t);throw e.createError("an object"===l?n+" a custom object":n+" "+l)}}function yi(n,e){if(e instanceof Wr)return e._internalPath;if("string"==typeof e)return vi(n,e);throw new C(w.INVALID_ARGUMENT,"Function "+n+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function vi(n,e){try{return function(n){if(n.search(Gr)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wr.bind.apply(Wr,[void 0].concat(n.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(l){var t=bi(l);throw new C(w.INVALID_ARGUMENT,"Function "+n+"() called with invalid data. "+t)}}function bi(n){return n instanceof Error?n.message:n.toString()}var _i="firestore.googleapis.com",wi=!0,Ci=!0,Ei=!1,Si=Nl.COLLECTION_DISABLED,Ti=function(){function n(n){if(void 0===n.host){if(void 0!==n.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_i,this.ssl=wi}else M("settings","non-empty string","host",n.host),this.host=n.host,L("settings","boolean","ssl",n.ssl),this.ssl=T(n.ssl,wi);if(B("settings",n,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",n.credentials),this.credentials=n.credentials,L("settings","boolean","timestampsInSnapshots",n.timestampsInSnapshots),!0===n.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===n.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(n.timestampsInSnapshots,Ci),L("settings","number","cacheSizeBytes",n.cacheSizeBytes),void 0===n.cacheSizeBytes)this.cacheSizeBytes=Nl.DEFAULT_CACHE_SIZE_BYTES;else{if(n.cacheSizeBytes!==Si&&n.cacheSizeBytes<Nl.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Nl.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=n.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",n.experimentalForceLongPolling),this.forceLongPolling=void 0===n.experimentalForceLongPolling?Ei:n.experimentalForceLongPolling}return n.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.timestampsInSnapshots===n.timestampsInSnapshots&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.forceLongPolling===n.forceLongPolling},n}(),Ii=function(){return function(){}}(),ki=function(){function n(e){var t=this;this._queue=new gt,this.INTERNAL={delete:function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return n.sent(),[2]}})})}};var l=new Ii;if("object"==typeof e.options){var r=e;l.firebaseApp=r,l.databaseId=n.databaseIdFromApp(r),l.persistenceKey=l.firebaseApp.name,l.credentials=new Yr(r)}else{var i=e;if(!i.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");l.databaseId=new rn(i.projectId,i.database),l.persistenceKey="[DEFAULT]",l.credentials=new Xr}l.settings=new Ti({}),this._config=l,this._databaseId=l.databaseId}return n.prototype.settings=function(n){if(x("Firestore.settings",arguments,1),R("Firestore.settings","object",1,n),S(n,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ti(n);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(n){if(!n)return new Xr;switch(n.type){case"gapi":var e=n.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Zr(e,n.sessionIndex||"0");case"provider":return n.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},n.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},n.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},n.prototype.enablePersistence=function(n){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return n&&(void 0!==n.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=T(void 0!==n.synchronizeTabs?n.synchronizeTabs:n.experimentalTabSynchronization,!1)),this.configureClient(new Br(this._config.settings.cacheSizeBytes,e))},n.prototype._clearPersistence=function(){var n=this,e=ql.buildStoragePrefix(this.makeDatabaseInfo()),t=new ft;return this._queue.enqueueAndForget(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(l){switch(l.label){case 0:if(l.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new C(w.FAILED_PRECONDITION,"Persistence cannot be cleared while this firestore instance is running.");return[4,ql.clearPersistence(e)];case 1:return l.sent(),t.resolve(),[3,3];case 2:return n=l.sent(),t.reject(n),[3,3];case 3:return[2]}})})}),t.promise},n.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Kr),this._firestoreClient},n.prototype.makeDatabaseInfo=function(){return new tn(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},n.prototype.configureClient=function(n){var e=this;v(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),v(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._dataConverter=new fi(function(n){if(n instanceof xi){var t=e._config.databaseId,l=n.firestore._config.databaseId;if(!l.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+t.projectId+"/"+t.database);return new pi(e._config.databaseId,n._key)}return n}),this._firestoreClient=new zr(b.getPlatform(),t,this._config.credentials,this._queue),this._firestoreClient.start(n)},n.databaseIdFromApp=function(n){var e=n.options;if(!S(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.projectId;if(!t||"string"!=typeof t)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rn(t)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),n.prototype.collection=function(n){return x("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,n),this.ensureClientConfigured(),new Li(un.fromString(n),this)},n.prototype.doc=function(n){return x("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,n),this.ensureClientConfigured(),xi.forPath(un.fromString(n),this)},n.prototype.collectionGroup=function(n){if(x("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,n),n.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+n+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Pi(new Kn(un.EMPTY_PATH,n),this)},n.prototype.runTransaction=function(n){var e=this;return x("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,n),this.ensureClientConfigured().transaction(function(t){return n(new Ai(e,t))})},n.prototype.batch=function(){return this.ensureClientConfigured(),new Di(this)},Object.defineProperty(n,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),n.setLogLevel=function(n){switch(x("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,n),n){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+n)}},n.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},n}(),Ai=function(){function n(n,e){this._firestore=n,this._transaction=e}return n.prototype.get=function(n){var e=this;x("Transaction.get",arguments,1);var t=Fi("Transaction.get",n,this._firestore);return this._transaction.lookup([t._key]).then(function(n){if(!n||1!==n.length)return y("Mismatch in docs returned from document lookup.");var l=n[0];if(l instanceof pn)return new Oi(e._firestore,t._key,null,!1,!1);if(l instanceof dn)return new Oi(e._firestore,t._key,l,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+l.constructor.name)})},n.prototype.set=function(n,e,t){O("Transaction.set",arguments,2,3);var l=Fi("Transaction.set",n,this._firestore),r=(t=Vi("Transaction.set",t)).merge||t.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,t.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(l._key,r),this},n.prototype.update=function(n,e,t){for(var l,r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return"string"==typeof e||e instanceof Wr?(N("Transaction.update",arguments,3),l=Fi("Transaction.update",n,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,t,i)):(x("Transaction.update",arguments,2),l=Fi("Transaction.update",n,this._firestore),r=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(l._key,r),this},n.prototype.delete=function(n){x("Transaction.delete",arguments,1);var e=Fi("Transaction.delete",n,this._firestore);return this._transaction.delete(e._key),this},n}(),Di=function(){function n(n){this._firestore=n,this._mutations=[],this._committed=!1}return n.prototype.set=function(n,e,t){O("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var l=Fi("WriteBatch.set",n,this._firestore),r=(t=Vi("WriteBatch.set",t)).merge||t.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,t.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(r.toMutations(l._key,se.NONE)),this},n.prototype.update=function(n,e,t){for(var l,r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Wr?(N("WriteBatch.update",arguments,3),l=Fi("WriteBatch.update",n,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,t,i)):(x("WriteBatch.update",arguments,2),l=Fi("WriteBatch.update",n,this._firestore),r=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(r.toMutations(l._key,se.exists(!0))),this},n.prototype.delete=function(n){x("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Fi("WriteBatch.delete",n,this._firestore);return this._mutations=this._mutations.concat(new fe(e._key,se.NONE)),this},n.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},n.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},n}(),xi=function(){function n(n,e){this._key=n,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return n.forPath=function(e,t){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new n(new cn(e),t)},Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new Li(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),n.prototype.collection=function(n){if(x("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,n),!n)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=un.fromString(n);return new Li(this._key.path.child(e),this.firestore)},n.prototype.isEqual=function(e){if(!(e instanceof n))throw K("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},n.prototype.set=function(n,e){O("DocumentReference.set",arguments,1,2);var t=(e=Vi("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",n,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",n);return this._firestoreClient.write(t.toMutations(this._key,se.NONE))},n.prototype.update=function(n,e){for(var t,l=[],r=2;r<arguments.length;r++)l[r-2]=arguments[r];return"string"==typeof n||n instanceof Wr?(N("DocumentReference.update",arguments,2),t=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",n,e,l)):(x("DocumentReference.update",arguments,1),t=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",n)),this._firestoreClient.write(t.toMutations(this._key,se.exists(!0)))},n.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this._firestoreClient.write([new fe(this._key,se.NONE)])},n.prototype.onSnapshot=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];O("DocumentReference.onSnapshot",arguments,1,4);var t,l={includeMetadataChanges:!1},r=0;"object"!=typeof n[r]||Jr(n[r])||(B("DocumentReference.onSnapshot",l=n[r],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),r++);var i={includeMetadataChanges:l.includeMetadataChanges};return Jr(n[r])?t=n[r]:(R("DocumentReference.onSnapshot","function",r,n[r]),P("DocumentReference.onSnapshot","function",r+1,n[r+1]),P("DocumentReference.onSnapshot","function",r+2,n[r+2]),t={next:n[r],error:n[r+1],complete:n[r+2]}),this.onSnapshotInternal(i,t)},n.prototype.onSnapshotInternal=function(n,e){var t=this,l=function(n){console.error("Uncaught Error in onSnapshot:",n)};e.error&&(l=e.error.bind(e));var r=new Hr({next:function(n){if(e.next){v(n.docs.size<=1,"Too many documents returned on a document query");var l=n.docs.get(t._key);e.next(new Oi(t.firestore,t._key,l,n.fromCache,n.hasPendingWrites))}},error:l}),i=this._firestoreClient.listen(Kn.atPath(this._key.path),r,n);return function(){r.mute(),t._firestoreClient.unlisten(i)}},n.prototype.get=function(n){var e=this;return O("DocumentReference.get",arguments,0,1),qi("DocumentReference.get",n),new Promise(function(t,l){n&&"cache"===n.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(n){t(new Oi(e.firestore,e._key,n,!0,n instanceof dn&&n.hasLocalMutations))},l):e.getViaSnapshotListener(t,l,n)})},n.prototype.getViaSnapshotListener=function(n,e,t){var l=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){l(),!r.exists&&r.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&t&&"server"===t.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n(r)},error:e})},n}(),Ni=function(){function n(n,e){this.hasPendingWrites=n,this.fromCache=e}return n.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},n}(),Oi=function(){function n(n,e,t,l,r){this._firestore=n,this._key=e,this._document=t,this._fromCache=l,this._hasPendingWrites=r}return n.prototype.data=function(n){return O("DocumentSnapshot.data",arguments,0,1),n=Ui("DocumentSnapshot.data",n),this._document?this.convertObject(this._document.data,wn.fromSnapshotOptions(n,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},n.prototype.get=function(n,e){if(O("DocumentSnapshot.get",arguments,1,2),e=Ui("DocumentSnapshot.get",e),this._document){var t=this._document.data.field(yi("DocumentSnapshot.get",n));if(void 0!==t)return this.convertValue(t,wn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(n.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ref",{get:function(){return new xi(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return new Ni(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){if(!(e instanceof n))throw K("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},n.prototype.convertObject=function(n,e){var t=this,l={};return n.forEach(function(n,r){l[n]=t.convertValue(r,e)}),l},n.prototype.convertValue=function(n,e){if(n instanceof Mn)return this.convertObject(n,e);if(n instanceof Ln)return this.convertArray(n,e);if(n instanceof Rn){var t=n.value(e),l=this._firestore.ensureClientConfigured().databaseId();return n.databaseId.isEqual(l)||m("Document "+this._key.path+" contains a document reference within a different database ("+n.databaseId.projectId+"/"+n.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),new xi(t,this._firestore)}return n.value(e)},n.prototype.convertArray=function(n,e){var t=this;return n.internalValue.map(function(n){return t.convertValue(n,e)})},n}(),Ri=function(n){function e(e,t,l,r,i){return n.call(this,e,t,l,r,i)||this}return o.__extends(e,n),e.prototype.data=function(e){var t=n.prototype.data.call(this,e);return v("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},e}(Oi),Pi=function(){function n(n,e){this._query=n,this.firestore=e}return n.prototype.where=function(e,t,l){var r;x("Query.where",arguments,3),j("Query.where",3,l),function(n,e,t,l){if(!e.some(function(n){return n===l}))throw new C(w.INVALID_ARGUMENT,"Invalid value "+F(l)+" provided to function Query.where() for its "+z(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var i=yi("Query.where",e),o=Hn.fromString(t);if(i.isKeyField()){if(o===Hn.ARRAY_CONTAINS)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof l){if(""===l)throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==l.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+l+"' contains a slash.");var u=this._query.path.child(un.fromString(l));if(!cn.isDocumentKey(u))throw new C(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+u+"' is not because it has an odd number of segments ("+u.length+").");r=new Rn(this.firestore._databaseId,new cn(u))}else{if(!(l instanceof xi))throw new C(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+F(l)+".");r=new Rn(this.firestore._databaseId,l._key)}}else r=this.firestore._dataConverter.parseQueryValue("Query.where",l);var a=zn.create(i,o,r);return this.validateNewFilter(a),new n(this._query.addFilter(a),this.firestore)},n.prototype.orderBy=function(e,t){var l;if(O("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)l=Xn.ASCENDING;else{if("desc"!==t)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");l=Xn.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=yi("Query.orderBy",e),i=new $n(r,l);return this.validateNewOrderBy(i),new n(this._query.addOrderBy(i),this.firestore)},n.prototype.limit=function(e){if(x("Query.limit",arguments,1),R("Query.limit","number",1,e),e<=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new n(this._query.withLimit(e),this.firestore)},n.prototype.startAt=function(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];N("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new n(this._query.withStartAt(r),this.firestore)},n.prototype.startAfter=function(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];N("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new n(this._query.withStartAt(r),this.firestore)},n.prototype.endBefore=function(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];N("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new n(this._query.withEndAt(r),this.firestore)},n.prototype.endAt=function(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];N("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new n(this._query.withEndAt(r),this.firestore)},n.prototype.isEqual=function(e){if(!(e instanceof n))throw K("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},n.prototype.boundFromDocOrFields=function(n,e,t,l){if(j(n,1,e),e instanceof Oi){if(t.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+n+"().");var r=e;if(!r.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");return this.boundFromDocument(n,r._document,l)}var i=[e].concat(t);return this.boundFromFields(n,i,l)},n.prototype.boundFromDocument=function(n,e,t){for(var l=[],r=0,i=this._query.orderBy;r<i.length;r++){var o=i[r];if(o.field.isKeyField())l.push(new Rn(this.firestore._databaseId,e.key));else{var u=e.field(o.field);if(u instanceof Nn)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===u){var a=o.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}l.push(u)}}return new Yn(l,t)},n.prototype.boundFromFields=function(n,e,t){var l=this._query.explicitOrderBy;if(e.length>l.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+n+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],i=0;i<e.length;i++){var o=e[i];if(l[i].field.isKeyField()){if("string"!=typeof o)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+n+"(), but got a "+typeof o);if(!this._query.isCollectionGroupQuery()&&-1!==o.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+n+"() must be a plain document ID, but '"+o+"' contains a slash.");var u=this._query.path.child(un.fromString(o));if(!cn.isDocumentKey(u))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+n+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var a=new cn(u);r.push(new Rn(this.firestore._databaseId,a))}else{var s=this.firestore._dataConverter.parseQueryValue(n,o);r.push(s)}}return new Yn(r,t)},n.prototype.onSnapshot=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];O("Query.onSnapshot",arguments,1,4);var t,l={},r=0;return"object"!=typeof n[r]||Jr(n[r])||(B("Query.onSnapshot",l=n[r],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",l.includeMetadataChanges),r++),Jr(n[r])?t=n[r]:(R("Query.onSnapshot","function",r,n[r]),P("Query.onSnapshot","function",r+1,n[r+1]),P("Query.onSnapshot","function",r+2,n[r+2]),t={next:n[r],error:n[r+1],complete:n[r+2]}),this.onSnapshotInternal(l,t)},n.prototype.onSnapshotInternal=function(n,e){var t=this,l=function(n){console.error("Uncaught Error in onSnapshot:",n)};e.error&&(l=e.error.bind(e));var r=new Hr({next:function(n){e.next&&e.next(new Mi(t.firestore,t._query,n))},error:l}),i=this.firestore.ensureClientConfigured(),o=i.listen(this._query,r,n);return function(){r.mute(),i.unlisten(o)}},n.prototype.get=function(n){var e=this;return O("Query.get",arguments,0,1),qi("Query.get",n),new Promise(function(t,l){n&&"cache"===n.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(n){t(new Mi(e.firestore,e._query,n))},l):e.getViaSnapshotListener(t,l,n)})},n.prototype.getViaSnapshotListener=function(n,e,t){var l=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){l(),r.metadata.fromCache&&t&&"server"===t.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):n(r)},error:e})},n.prototype.validateNewFilter=function(n){if(n instanceof Wn)if(n.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(n.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+n.field.toString()+"'");var t=this._query.getFirstOrderByField();null!==t&&this.validateOrderByAndInequalityMatch(n.field,t)}else if(n.op===Hn.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new C(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},n.prototype.validateNewOrderBy=function(n){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,n.field)}},n.prototype.validateOrderByAndInequalityMatch=function(n,e){if(!e.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+n.toString()+"' and so you must also use '"+n.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},n}(),Mi=function(){function n(n,e,t){this._firestore=n,this._originalQuery=e,this._snapshot=t,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ni(t.hasPendingWrites,t.fromCache)}return Object.defineProperty(n.prototype,"docs",{get:function(){var n=[];return this.forEach(function(e){return n.push(e)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),n.prototype.forEach=function(n,e){var t=this;O("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,n),this._snapshot.docs.forEach(function(l){n.call(e,t.convertToDocumentImpl(l))})},Object.defineProperty(n.prototype,"query",{get:function(){return new Pi(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),n.prototype.docChanges=function(n){n&&(B("QuerySnapshot.docChanges",n,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",n.includeMetadataChanges));var e=!(!n||!n.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,e,t){if(t.oldDocs.isEmpty()){var l,r=0;return t.docChanges.map(function(e){var i=new Ri(n,e.doc.key,e.doc,t.fromCache,t.mutatedKeys.has(e.doc.key));return v(e.type===Ve.Added,"Invalid event type for first snapshot"),v(!l||t.query.docComparator(l,e.doc)<0,"Got added events in wrong order"),l=e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var i=t.oldDocs;return t.docChanges.filter(function(n){return e||n.type!==Ve.Metadata}).map(function(e){var l=new Ri(n,e.doc.key,e.doc,t.fromCache,t.mutatedKeys.has(e.doc.key)),r=-1,o=-1;return e.type!==Ve.Added&&(v((r=i.indexOf(e.doc.key))>=0,"Index for document not found"),i=i.delete(e.doc.key)),e.type!==Ve.Removed&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:ji(e.type),doc:l,oldIndex:r,newIndex:o}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},n.prototype.isEqual=function(e){if(!(e instanceof n))throw K("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},n.prototype.convertToDocumentImpl=function(n){return new Ri(this._firestore,n.key,n,this.metadata.fromCache,this._snapshot.mutatedKeys.has(n.key))},n}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(n){try{Object.defineProperty(Mi.prototype.docChanges,n,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Li=function(n){function e(e,t){var l=n.call(this,Kn.atPath(e),t)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return l}return o.__extends(e,n),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._query.path.popLast();return n.isEmpty()?null:new xi(new cn(n),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(n){if(O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(n=W.newId()),R("CollectionReference.doc","non-empty string",1,n),""===n)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=un.fromString(n);return xi.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(n){x("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,n);var e=this.doc();return e.set(n).then(function(){return e})},e}(Pi);function Vi(n,e){if(void 0===e)return{merge:!1};if(B(n,e,["merge","mergeFields"]),L(n,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(t=e.mergeFields)&&function(n,e,t,l,r){if(!(l instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires its mergeFields option to be an array, but it was: "+F(l));for(var i=0;i<l.length;++i)if(!r(l[i]))throw new C(w.INVALID_ARGUMENT,"Function "+n+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+i+" was: "+F(l[i]))}(n,0,0,t,function(n){return"string"==typeof n||n instanceof Wr}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');var t;return e}function Ui(n,e){return void 0===e?{}:(B(n,e,["serverTimestamps"]),V(n,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function qi(n,e){P(n,"object",1,e),e&&(B(n,e,["source"]),V(n,0,"source",e.source,["default","server","cache"]))}function Fi(n,e,t){if(e instanceof xi){if(e.firestore!==t)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw K(n,"DocumentReference",1,e)}function ji(n){switch(n){case Ve.Added:return"added";case Ve.Modified:case Ve.Metadata:return"modified";case Ve.Removed:return"removed";default:return y("Unknown change type: "+n)}}var Bi=E(ki,"Use firebase.firestore() instead."),Ki=E(Ai,"Use firebase.firestore().runTransaction() instead."),zi=E(Di,"Use firebase.firestore().batch() instead."),Hi=E(xi,"Use firebase.firestore().doc() instead."),Wi=E(Oi),Gi=E(Ri),Qi=E(Pi),Xi=E(Mi),Yi=E(Li,"Use firebase.firestore().collection() instead."),$i={Firestore:Bi,GeoPoint:nn,Timestamp:en,Blob:J,Transaction:Ki,WriteBatch:zi,DocumentReference:Hi,DocumentSnapshot:Wi,Query:Qi,QueryDocumentSnapshot:Gi,QuerySnapshot:Xi,CollectionReference:Yi,FieldPath:Wr,FieldValue:oi,setLogLevel:ki.setLogLevel,CACHE_SIZE_UNLIMITED:Si};function Zi(n){n.INTERNAL.registerService("firestore",function(n){return new ki(n)},function(n){v(n&&"object"==typeof n,"shallowCopy() expects object parameter.");var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}($i))}Zi(r),e.registerFirestore=Zi},Wcq6:function(n,e,t){"use strict";var l,r=(l=t("wj3C"))&&"object"==typeof l&&"default"in l?l.default:l;n.exports=r},crnd:function(n,e){function t(n){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="crnd"},mrSG:function(n,e,t){"use strict";t.r(e),t.d(e,"__extends",function(){return r}),t.d(e,"__assign",function(){return i}),t.d(e,"__rest",function(){return o}),t.d(e,"__decorate",function(){return u}),t.d(e,"__param",function(){return a}),t.d(e,"__metadata",function(){return s}),t.d(e,"__awaiter",function(){return c}),t.d(e,"__generator",function(){return h}),t.d(e,"__exportStar",function(){return d}),t.d(e,"__values",function(){return p}),t.d(e,"__read",function(){return f}),t.d(e,"__spread",function(){return m}),t.d(e,"__await",function(){return g}),t.d(e,"__asyncGenerator",function(){return y}),t.d(e,"__asyncDelegator",function(){return v}),t.d(e,"__asyncValues",function(){return b}),t.d(e,"__makeTemplateObject",function(){return _}),t.d(e,"__importStar",function(){return w}),t.d(e,"__importDefault",function(){return C});var l=function(n,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)};function r(n,e){function t(){this.constructor=n}l(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var i=function(){return(i=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function o(n,e){var t={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(t[l]=n[l]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(n);r<l.length;r++)e.indexOf(l[r])<0&&(t[l[r]]=n[l[r]])}return t}function u(n,e,t,l){var r,i=arguments.length,o=i<3?e:null===l?l=Object.getOwnPropertyDescriptor(e,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,l);else for(var u=n.length-1;u>=0;u--)(r=n[u])&&(o=(i<3?r(o):i>3?r(e,t,o):r(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function a(n,e){return function(t,l){e(t,l,n)}}function s(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function c(n,e,t,l){return new(t||(t=Promise))(function(r,i){function o(n){try{a(l.next(n))}catch(e){i(e)}}function u(n){try{a(l.throw(n))}catch(e){i(e)}}function a(n){n.done?r(n.value):new t(function(e){e(n.value)}).then(o,u)}a((l=l.apply(n,e||[])).next())})}function h(n,e){var t,l,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,l&&(r=2&i[0]?l.return:i[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,i[1])).done)return r;switch(l=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,l=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(n,o)}catch(u){i=[6,u],l=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function d(n,e){for(var t in n)e.hasOwnProperty(t)||(e[t]=n[t])}function p(n){var e="function"==typeof Symbol&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function f(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var l,r,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(l=i.next()).done;)o.push(l.value)}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o}function m(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(f(arguments[e]));return n}function g(n){return this instanceof g?(this.v=n,this):new g(n)}function y(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,r=t.apply(n,e||[]),i=[];return l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l;function o(n){r[n]&&(l[n]=function(e){return new Promise(function(t,l){i.push([n,e,t,l])>1||u(n,e)})})}function u(n,e){try{(t=r[n](e)).value instanceof g?Promise.resolve(t.value.v).then(a,s):c(i[0][2],t)}catch(l){c(i[0][3],l)}var t}function a(n){u("next",n)}function s(n){u("throw",n)}function c(n,e){n(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function v(n){var e,t;return e={},l("next"),l("throw",function(n){throw n}),l("return"),e[Symbol.iterator]=function(){return this},e;function l(l,r){e[l]=n[l]?function(e){return(t=!t)?{value:g(n[l](e)),done:"return"===l}:r?r(e):e}:r}}function b(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=p(n),e={},l("next"),l("throw"),l("return"),e[Symbol.asyncIterator]=function(){return this},e);function l(t){e[t]=n[t]&&function(e){return new Promise(function(l,r){!function(n,e,t,l){Promise.resolve(l).then(function(e){n({value:e,done:t})},e)}(l,r,(e=n[t](e)).done,e.value)})}}}function _(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function w(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function C(n){return n&&n.__esModule?n:{default:n}}},"q/0M":function(n,e,t){"use strict";t.r(e),t.d(e,"LogLevel",function(){return r}),t.d(e,"Logger",function(){return u}),t.d(e,"setLogLevel",function(){return a});var l=[],r=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}({}),i=r.INFO,o=function(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];if(!(e<n.logLevel)){var i=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+i+"]  "+n.name+":"].concat(t));break;case r.INFO:console.info.apply(console,["["+i+"]  "+n.name+":"].concat(t));break;case r.WARN:console.warn.apply(console,["["+i+"]  "+n.name+":"].concat(t));break;case r.ERROR:console.error.apply(console,["["+i+"]  "+n.name+":"].concat(t));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function n(n){this.name=n,this._logLevel=i,this._logHandler=o,l.push(this)}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(n){if(!(n in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logHandler",{get:function(){return this._logHandler},set:function(n){if("function"!=typeof n)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n},enumerable:!0,configurable:!0}),n.prototype.debug=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(n))},n.prototype.log=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(n))},n.prototype.info=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(n))},n.prototype.warn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(n))},n.prototype.error=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(n))},n}();function a(n){l.forEach(function(e){e.logLevel=n})}},wj3C:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,r=t("mrSG"),i=t("zVF4"),o=t("q/0M"),u=((l={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",l["bad-app-name"]="Illegal App name: '{$name}",l["duplicate-app"]="Firebase App named '{$name}' already exists",l["app-deleted"]="Firebase App named '{$name}' already deleted",l["duplicate-service"]="Firebase service named '{$name}' already registered",l["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",l),a=new i.ErrorFactory("app","Firebase",u),s="[DEFAULT]",c=[],h=function(){function n(n,e,t){this.firebase_=t,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(n),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(n){c.push(n),setTimeout(function(){return n(null)},0)},removeAuthTokenListener:function(n){c=c.filter(function(e){return e!==n})}}}return Object.defineProperty(n.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(n){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),n.prototype.delete=function(){var n=this;return new Promise(function(e){n.checkDestroyed_(),e()}).then(function(){n.firebase_.INTERNAL.removeApp(n.name_);for(var e=[],t=0,l=Object.keys(n.services_);t<l.length;t++)for(var r=l[t],i=0,o=Object.keys(n.services_[r]);i<o.length;i++)e.push(n.services_[r][o[i]]);return Promise.all(e.filter(function(n){return"INTERNAL"in n}).map(function(n){return n.INTERNAL.delete()}))}).then(function(){n.isDeleted_=!0,n.services_={}})},n.prototype._getService=function(n,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[n]||(this.services_[n]={}),!this.services_[n][e]){var t=e!==s?e:void 0,l=this.firebase_.INTERNAL.factories[n](this,this.extendApp.bind(this),t);this.services_[n][e]=l}return this.services_[n][e]},n.prototype.extendApp=function(n){var e=this;i.deepExtend(this,n),n.INTERNAL&&n.INTERNAL.addAuthTokenListener&&(c.forEach(function(n){e.INTERNAL.addAuthTokenListener(n)}),c=[])},n.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw a.create("app-deleted",{name:this.name_})},n}();function d(n,e){return Object.prototype.hasOwnProperty.call(n,e)}h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var p=new o.Logger("@firebase/app");if(i.isBrowser()&&"firebase"in self){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var f=self.firebase.SDK_VERSION;f&&f.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function n(){var e=function(n){var e={},t={},l={},r={__esModule:!0,initializeApp:function(t,l){void 0===l&&(l={}),("object"!=typeof l||null===l)&&(l={name:l});var i=l;void 0===i.name&&(i.name=s);var o=i.name;if("string"!=typeof o||!o)throw a.create("bad-app-name",{name:String(o)});if(d(e,o))throw a.create("duplicate-app",{name:o});var u=new n(t,i,r);return e[o]=u,c(u,"create"),u},app:o,apps:null,SDK_VERSION:"6.1.1",INTERNAL:{registerService:function(e,s,c,h,d){if(void 0===d&&(d=!1),t[e])throw a.create("duplicate-service",{name:e});function p(n){if(void 0===n&&(n=o()),"function"!=typeof n[e])throw a.create("invalid-app-argument",{name:e});return n[e]()}return t[e]=s,h&&(l[e]=h,u().forEach(function(n){h("create",n)})),void 0!==c&&i.deepExtend(p,c),r[e]=p,n.prototype[e]=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this._getService.bind(this,e).apply(this,d?n:[])},p},removeApp:function(n){c(e[n],"delete"),delete e[n]},factories:t,useAsService:h}};function o(n){if(!d(e,n=n||s))throw a.create("no-app",{name:n});return e[n]}function u(){return Object.keys(e).map(function(n){return e[n]})}function c(n,e){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=h(0,i[r]);if(null===o)return;l[o]&&l[o](e,n)}}function h(n,e){return"serverAuth"===e?null:e}return i.patchProperty(r,"default",r),Object.defineProperty(r,"apps",{get:u}),i.patchProperty(o,"App",n),r}(h);return e.INTERNAL=r.__assign({},e.INTERNAL,{createFirebaseNamespace:n,extendNamespace:function(n){i.deepExtend(e,n)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,deepExtend:i.deepExtend}),e}(),g=m.initializeApp;m.initializeApp=function(){return i.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,arguments)};var y=m;e.default=y,e.firebase=y},x7I3:function(n,e,t){"use strict";t.r(e),t.d(e,"ErrorCode",function(){return ul}),t.d(e,"EventType",function(){return al}),t.d(e,"WebChannel",function(){return sl}),t.d(e,"XhrIo",function(){return cl}),t.d(e,"createWebChannelTransport",function(){return ol});var l,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=i||{},o=r;function u(n){return"string"==typeof n}function a(n){return"number"==typeof n}function s(n,e){n=n.split("."),e=e||o;for(var t=0;t<n.length;t++)if(null==(e=e[n[t]]))return null;return e}function c(){}function h(n){var e=typeof n;if("object"==e){if(!n)return"null";if(n instanceof Array)return"array";if(n instanceof Object)return e;var t=Object.prototype.toString.call(n);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof n.length&&void 0!==n.splice&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==n.call&&void 0!==n.propertyIsEnumerable&&!n.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===n.call)return"object";return e}function d(n){return"array"==h(n)}function p(n){var e=h(n);return"array"==e||"object"==e&&"number"==typeof n.length}function f(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(n,e,t){return n.call.apply(n.bind,arguments)}function v(n,e,t){if(!n)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,l),n.apply(e,t)}}return function(){return n.apply(e,arguments)}}function b(n,e,t){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),n.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(n,e){function t(){}t.prototype=e.prototype,n.N=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.yb=function(n,t,l){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return e.prototype[t].apply(n,r)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(u(n))return u(e)&&1==e.length?n.indexOf(e,0):-1;for(var t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},T=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){for(var l=n.length,r=u(n)?n.split(""):n,i=0;i<l;i++)i in r&&e.call(t,r[i],i,n)};function I(n){return Array.prototype.concat.apply([],arguments)}function k(n){var e=n.length;if(0<e){for(var t=Array(e),l=0;l<e;l++)t[l]=n[l];return t}return[]}function A(n){return/^[\s\xa0]*$/.test(n)}var D,x=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function N(n,e){return-1!=n.indexOf(e)}function O(n,e){return n<e?-1:n>e?1:0}n:{var R=o.navigator;if(R){var P=R.userAgent;if(P){D=P;break n}}D=""}function M(n,e,t){for(var l in n)e.call(t,n[l],l,n)}function L(n){var e,t={};for(e in n)t[e]=n[e];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(n,e){for(var t,l,r=1;r<arguments.length;r++){for(t in l=arguments[r])n[t]=l[t];for(var i=0;i<V.length;i++)t=V[i],Object.prototype.hasOwnProperty.call(l,t)&&(n[t]=l[t])}}function q(n){return q[" "](n),n}q[" "]=c;var F,j,B=N(D,"Opera"),K=N(D,"Trident")||N(D,"MSIE"),z=N(D,"Edge"),H=z||K,W=N(D,"Gecko")&&!(N(D.toLowerCase(),"webkit")&&!N(D,"Edge"))&&!(N(D,"Trident")||N(D,"MSIE"))&&!N(D,"Edge"),G=N(D.toLowerCase(),"webkit")&&!N(D,"Edge");function Q(){var n=o.document;return n?n.documentMode:void 0}n:{var X="",Y=(j=D,W?/rv:([^\);]+)(\)|;)/.exec(j):z?/Edge\/([\d\.]+)/.exec(j):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):G?/WebKit\/(\S+)/.exec(j):B?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Y&&(X=Y?Y[1]:""),K){var $=Q();if(null!=$&&$>parseFloat(X)){F=String($);break n}}F=X}var Z,J={};function nn(n){return function(n,e){var t=J;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e()}(n,function(){for(var e=0,t=x(String(F)).split("."),l=x(String(n)).split("."),r=Math.max(t.length,l.length),i=0;0==e&&i<r;i++){var o=t[i]||"",u=l[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;e=O(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||O(0==o[2].length,0==u[2].length)||O(o[2],u[2]),o=o[3],u=u[3]}while(0==e)}return 0<=e})}var en=o.document;Z=en&&K?Q()||("CSS1Compat"==en.compatMode?parseInt(F,10):5):void 0;var tn=!K||9<=Number(Z),ln=K&&!nn("9"),rn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{o.addEventListener("test",c,e),o.removeEventListener("test",c,e)}catch(t){}return n}();function on(n,e){this.type=n,this.a=this.target=e,this.Ja=!0}function un(n,e){if(on.call(this,n?n.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,n){var t=this.type=n.type,l=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.a=e,e=n.relatedTarget){if(W){n:{try{q(e.nodeName);var r=!0;break n}catch(i){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=u(n.pointerType)?n.pointerType:an[n.pointerType]||"",this.c=n,n.defaultPrevented&&this.b()}}on.prototype.b=function(){this.Ja=!1},C(un,on);var an={2:"touch",3:"pen",4:"mouse"};un.prototype.b=function(){un.N.b.call(this);var n=this.c;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,ln)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch(e){}};var sn="closure_listenable_"+(1e6*Math.random()|0),cn=0;function hn(n,e,t,l,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.da=r,this.key=++cn,this.X=this.Z=!1}function dn(n){n.X=!0,n.listener=null,n.proxy=null,n.src=null,n.da=null}function pn(n){this.src=n,this.a={},this.b=0}function fn(n,e){var t=e.type;if(t in n.a){var l,r=n.a[t],i=S(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(dn(e),0==n.a[t].length&&(delete n.a[t],n.b--))}}function mn(n,e,t,l){for(var r=0;r<n.length;++r){var i=n[r];if(!i.X&&i.listener==e&&i.capture==!!t&&i.da==l)return r}return-1}pn.prototype.add=function(n,e,t,l,r){var i=n.toString();(n=this.a[i])||(n=this.a[i]=[],this.b++);var o=mn(n,e,l,r);return-1<o?(e=n[o],t||(e.Z=!1)):((e=new hn(e,this.src,i,!!l,r)).Z=t,n.push(e)),e};var gn="closure_lm_"+(1e6*Math.random()|0),yn={};function vn(n,e,t,l,r){if(l&&l.once)return function n(e,t,l,r,i){if(d(t)){for(var o=0;o<t.length;o++)n(e,t[o],l,r,i);return null}return l=Tn(l),e&&e[sn]?e.Ba(t,l,f(r)?!!r.capture:!!r,i):bn(e,t,l,!0,r,i)}(n,e,t,l,r);if(d(e)){for(var i=0;i<e.length;i++)vn(n,e[i],t,l,r);return null}return t=Tn(t),n&&n[sn]?n.Aa(e,t,f(l)?!!l.capture:!!l,r):bn(n,e,t,!1,l,r)}function bn(n,e,t,l,r,i){if(!e)throw Error("Invalid event type");var o=f(r)?!!r.capture:!!r;if(o&&!tn)return null;var u=En(n);if(u||(n[gn]=u=new pn(n)),(t=u.add(e,t,l,o,i)).proxy)return t;if(l=function(){var n=Cn,e=tn?function(t){return n.call(e.src,e.listener,t)}:function(t){if(!(t=n.call(e.src,e.listener,t)))return t};return e}(),t.proxy=l,l.src=n,l.listener=t,n.addEventListener)rn||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),l,r);else if(n.attachEvent)n.attachEvent(wn(e.toString()),l);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(l)}return t}function _n(n){if(!a(n)&&n&&!n.X){var e=n.src;if(e&&e[sn])fn(e.c,n);else{var t=n.type,l=n.proxy;e.removeEventListener?e.removeEventListener(t,l,n.capture):e.detachEvent?e.detachEvent(wn(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=En(e))?(fn(t,n),0==t.b&&(t.src=null,e[gn]=null)):dn(n)}}}function wn(n){return n in yn?yn[n]:yn[n]="on"+n}function Cn(n,e){return!!n.X||function(n,e){var t=n.listener,l=n.da||n.src;return n.Z&&_n(n),t.call(l,e)}(n,tn?new un(e,this):e=new un(e||s("window.event"),this))}function En(n){return(n=n[gn])instanceof pn?n:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(n){return"function"==h(n)?n:(n[Sn]||(n[Sn]=function(e){return n.handleEvent(e)}),n[Sn])}function In(){E.call(this),this.c=new pn(this),this.J=this,this.B=null}function kn(n,e,t,l){if(!(e=n.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.X&&o.capture==t){var u=o.listener,a=o.da||o.src;o.Z&&fn(n.c,o),r=!1!==u.call(a,l)&&r}}return r&&0!=l.Ja}C(In,E),In.prototype[sn]=!0,(l=In.prototype).addEventListener=function(n,e,t,l){vn(this,n,e,t,l)},l.removeEventListener=function(n,e,t,l){!function n(e,t,l,r,i){if(d(t))for(var o=0;o<t.length;o++)n(e,t[o],l,r,i);else r=f(r)?!!r.capture:!!r,l=Tn(l),e&&e[sn]?(e=e.c,(t=String(t).toString())in e.a&&-1<(l=mn(o=e.a[t],l,r,i))&&(dn(o[l]),Array.prototype.splice.call(o,l,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=En(e))&&(t=e.a[t.toString()],e=-1,t&&(e=mn(t,l,r,i)),(l=-1<e?t[e]:null)&&_n(l))}(this,n,e,t,l)},l.dispatchEvent=function(n){var e,t=this.B;if(t)for(e=[];t;t=t.B)e.push(t);t=this.J;var l=n.type||n;if(u(n))n=new on(n,t);else if(n instanceof on)n.target=n.target||t;else{var r=n;U(n=new on(l,t),r)}if(r=!0,e)for(var i=e.length-1;0<=i;i--){var o=n.a=e[i];r=kn(o,l,!0,n)&&r}if(r=kn(o=n.a=t,l,!0,n)&&r,r=kn(o,l,!1,n)&&r,e)for(i=0;i<e.length;i++)r=kn(o=n.a=e[i],l,!1,n)&&r;return r},l.G=function(){if(In.N.G.call(this),this.c){var n,e=this.c;for(n in e.a){for(var t=e.a[n],l=0;l<t.length;l++)dn(t[l]);delete e.a[n],e.b--}}this.B=null},l.Aa=function(n,e,t,l){return this.c.add(String(n),e,!1,t,l)},l.Ba=function(n,e,t,l){return this.c.add(String(n),e,!0,t,l)};var An=o.JSON.stringify;function Dn(n,e){this.c=n,this.f=e,this.b=0,this.a=null}function xn(){this.b=this.a=null}Dn.prototype.get=function(){if(0<this.b){this.b--;var n=this.a;this.a=n.next,n.next=null}else n=this.c();return n};var Nn,On=new Dn(function(){return new Pn},function(n){n.reset()});function Rn(){var n=Un,e=null;return n.a&&(e=n.a,n.a=n.a.next,n.a||(n.b=null),e.next=null),e}function Pn(){this.next=this.b=this.a=null}function Mn(n){o.setTimeout(function(){throw n},0)}function Ln(n,e){Nn||function(){var n=o.Promise.resolve(void 0);Nn=function(){n.then(qn)}}(),Vn||(Nn(),Vn=!0),Un.add(n,e)}xn.prototype.add=function(n,e){var t=On.get();t.set(n,e),this.b?this.b.next=t:this.a=t,this.b=t},Pn.prototype.set=function(n,e){this.a=n,this.b=e,this.next=null},Pn.prototype.reset=function(){this.next=this.b=this.a=null};var Vn=!1,Un=new xn;function qn(){for(var n;n=Rn();){try{n.a.call(n.b)}catch(t){Mn(t)}var e=On;e.f(n),100>e.b&&(e.b++,n.next=e.a,e.a=n)}Vn=!1}function Fn(n,e){In.call(this),this.b=n||1,this.a=e||o,this.f=b(this.gb,this),this.g=w()}function jn(n){n.ba=!1,n.L&&(n.a.clearTimeout(n.L),n.L=null)}function Bn(n,e,t){if("function"==h(n))t&&(n=b(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=b(n.handleEvent,n)}return 2147483647<Number(e)?-1:o.setTimeout(n,e||0)}function Kn(n,e,t){E.call(this),this.f=null!=t?b(n,t):n,this.c=e,this.b=b(this.ab,this),this.a=[]}function zn(n){n.U=Bn(n.b,n.c),n.f.apply(null,n.a)}function Hn(n){E.call(this),this.b=n,this.a={}}C(Fn,In),(l=Fn.prototype).ba=!1,l.L=null,l.gb=function(){if(this.ba){var n=w()-this.g;0<n&&n<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-n):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(jn(this),this.start()))}},l.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},l.G=function(){Fn.N.G.call(this),jn(this),delete this.a},C(Kn,E),(l=Kn.prototype).ea=!1,l.U=null,l.Ua=function(n){this.a=arguments,this.U?this.ea=!0:zn(this)},l.G=function(){Kn.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},l.ab=function(){this.U=null,this.ea&&(this.ea=!1,zn(this))},C(Hn,E);var Wn=[];function Gn(n,e,t,l){d(t)||(t&&(Wn[0]=t.toString()),t=Wn);for(var r=0;r<t.length;r++){var i=vn(e,t[r],l||n.handleEvent,!1,n.b||n);if(!i)break;n.a[i.key]=i}}function Qn(n){M(n.a,function(n,e){this.a.hasOwnProperty(e)&&_n(n)},n),n.a={}}function Xn(){}Hn.prototype.G=function(){Hn.N.G.call(this),Qn(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=new In;function $n(n){on.call(this,"serverreachability",n)}function Zn(n){Yn.dispatchEvent(new $n(Yn,n))}function Jn(n){on.call(this,"statevent",n)}function ne(n){Yn.dispatchEvent(new Jn(Yn,n))}function ee(n){on.call(this,"timingevent",n)}function te(n,e){if("function"!=h(n))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){n()},e)}C($n,on),C(Jn,on),C(ee,on);var le={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var ue,ae={OPEN:"a",ib:"b",Na:"c",rb:"d"};function se(){on.call(this,"d")}function ce(){on.call(this,"c")}function he(){}function de(n,e,t){this.g=n,this.W=e,this.V=t||1,this.I=new Hn(this),this.O=pe,this.P=new Fn(n=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(se,on),C(ce,on),C(he,ie),ue=new he;var pe=45e3,fe={},me={};function ge(n,e,t){n.F=1,n.f=je(Pe(e)),n.l=t,n.H=!0,ve(n,null)}function ye(n,e,t,l){n.F=1,n.f=je(Pe(e)),n.l=null,n.H=t,ve(n,l)}function ve(n,e){n.v=w(),we(n),n.D=Pe(n.f),Fe(n.D,"t",n.V),n.A=0,n.a=n.g.$(n.g.Y()?e:null),0<n.J&&(n.B=new Kn(b(n.Ka,n,n.a),n.J)),Gn(n.I,n.a,"readystatechange",n.eb),e=n.h?L(n.h):{},n.l?(n.w||(n.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.a.ca(n.D,n.w,n.l,e)):(n.w="GET",n.a.ca(n.D,n.w,null,e)),Zn(1)}function be(n,e,t){for(var l=!0;!n.m&&n.A<t.length;){var r=_e(n,t);if(r==me){4==e&&(n.c=4,ne(14),l=!1);break}if(r==fe){n.c=4,ne(15),l=!1;break}Ie(n,r)}4==e&&0==t.length&&(n.c=1,ne(16),l=!1),n.b=n.b&&l,l||(Te(n),Se(n))}function _e(n,e){var t=n.A,l=e.indexOf("\n",t);return-1==l?me:(t=Number(e.substring(t,l)),isNaN(t)?fe:(l+=1)+t>e.length?me:(e=e.substr(l,t),n.A=l+t,e))}function we(n){n.R=w()+n.O,Ce(n,n.O)}function Ce(n,e){if(null!=n.i)throw Error("WatchDog timer not null");n.i=te(b(n.bb,n),e)}function Ee(n){n.i&&(o.clearTimeout(n.i),n.i=null)}function Se(n){n.g.Da()||n.m||n.g.na(n)}function Te(n){Ee(n);var e=n.B;e&&"function"==typeof e.la&&e.la(),n.B=null,jn(n.P),Qn(n.I),n.a&&(e=n.a,n.a=null,e.abort(),e.la())}function Ie(n,e){try{n.g.Ga(n,e),Zn(4)}catch(t){}}function ke(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(p(n)||u(n))T(n,e,void 0);else{if(n.K&&"function"==typeof n.K)var t=n.K();else if(n.C&&"function"==typeof n.C)t=void 0;else if(p(n)||u(n)){t=[];for(var l=n.length,r=0;r<l;r++)t.push(r)}else for(r in t=[],l=0,n)t[l++]=r;r=(l=function(n){if(n.C&&"function"==typeof n.C)return n.C();if(u(n))return n.split("");if(p(n)){for(var e=[],t=n.length,l=0;l<t;l++)e.push(n[l]);return e}for(l in e=[],t=0,n)e[t++]=n[l];return e}(n)).length;for(var i=0;i<r;i++)e.call(void 0,l[i],t&&t[i],n)}}function Ae(n,e){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var l=0;l<t;l+=2)this.set(arguments[l],arguments[l+1])}else if(n)if(n instanceof Ae)for(t=n.K(),l=0;l<t.length;l++)this.set(t[l],n.get(t[l]));else for(l in n)this.set(l,n[l])}function De(n,e){Ne(n.b,e)&&(delete n.b[e],n.c--,n.a.length>2*n.c&&xe(n))}function xe(n){if(n.c!=n.a.length){for(var e=0,t=0;e<n.a.length;){var l=n.a[e];Ne(n.b,l)&&(n.a[t++]=l),e++}n.a.length=t}if(n.c!=n.a.length){var r={};for(t=e=0;e<n.a.length;)Ne(r,l=n.a[e])||(n.a[t++]=l,r[l]=1),e++;n.a.length=t}}function Ne(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(l=de.prototype).setTimeout=function(n){this.O=n},l.eb=function(n){n=n.target;var e=this.B;e&&3==Rt(n)?e.Ua():this.Ka(n)},l.Ka=function(n){try{if(n==this.a)n:{var e=Rt(this.a),t=this.a.ya(),l=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==t||Zn(8==t||0>=l?3:2),Ee(this);var r=this.a.T();this.o=r;var i=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var o=Pt(this.a,"X-HTTP-Initial-Response");if(o&&!A(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.c=3,ne(12),Te(this),Se(this);break n}this.s=!0,Ie(this,u)}this.H?(be(this,e,i),H&&this.b&&3==e&&(Gn(this.I,this.P,"tick",this.cb),this.P.start())):Ie(this,i),4==e&&Te(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,we(this)))}else 400==r&&0<i.indexOf("Unknown SID")?(this.c=3,ne(12)):(this.c=0,ne(13)),Te(this),Se(this)}}}catch(a){}},l.cb=function(){if(this.a){var n=Rt(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),be(this,n,e),this.b&&4!=n&&we(this))}},l.cancel=function(){this.m=!0,Te(this)},l.bb=function(){this.i=null;var n=w();0<=n-this.R?(2!=this.F&&(Zn(3),ne(17)),Te(this),this.c=2,Se(this)):Ce(this,this.R-n)},(l=Ae.prototype).C=function(){xe(this);for(var n=[],e=0;e<this.a.length;e++)n.push(this.b[this.a[e]]);return n},l.K=function(){return xe(this),this.a.concat()},l.get=function(n,e){return Ne(this.b,n)?this.b[n]:e},l.set=function(n,e){Ne(this.b,n)||(this.c++,this.a.push(n)),this.b[n]=e},l.forEach=function(n,e){for(var t=this.K(),l=0;l<t.length;l++){var r=t[l],i=this.get(r);n.call(e,i,r,this)}};var Oe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(n,e){var t;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,n instanceof Re?(this.h=void 0!==e?e:n.h,Me(this,n.f),this.j=n.j,Le(this,n.b),Ve(this,n.i),this.a=n.a,Ue(this,et(n.c)),this.g=n.g):n&&(t=String(n).match(Oe))?(this.h=!!e,Me(this,t[1]||"",!0),this.j=Be(t[2]||""),Le(this,t[3]||"",!0),Ve(this,t[4]),this.a=Be(t[5]||"",!0),Ue(this,t[6]||"",!0),this.g=Be(t[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(n){return new Re(n)}function Me(n,e,t){n.f=t?Be(e,!0):e,n.f&&(n.f=n.f.replace(/:$/,""))}function Le(n,e,t){n.b=t?Be(e,!0):e}function Ve(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.i=e}else n.i=null}function Ue(n,e,t){e instanceof Ye?(n.c=e,function(n,e){e&&!n.f&&($e(n),n.c=null,n.a.forEach(function(n,e){var t=e.toLowerCase();e!=t&&(Ze(this,e),nt(this,t,n))},n)),n.f=e}(n.c,n.h)):(t||(e=Ke(e,Qe)),n.c=new Ye(e,n.h))}function qe(n,e,t){n.c.set(e,t)}function Fe(n,e,t){d(t)||(t=[String(t)]),nt(n.c,e,t)}function je(n){return qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),n}function Be(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ke(n,e,t){return u(n)?(n=encodeURI(n).replace(e,ze),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ze(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Re.prototype.toString=function(){var n=[],e=this.f;e&&n.push(Ke(e,He,!0),":");var t=this.b;return(t||"file"==e)&&(n.push("//"),(e=this.j)&&n.push(Ke(e,He,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.i)&&n.push(":",String(t))),(t=this.a)&&(this.b&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ke(t,"/"==t.charAt(0)?Ge:We,!0))),(t=this.c.toString())&&n.push("?",t),(t=this.g)&&n.push("#",Ke(t,Xe)),n.join("")},Re.prototype.resolve=function(n){var e=Pe(this),t=!!n.f;t?Me(e,n.f):t=!!n.j,t?e.j=n.j:t=!!n.b,t?Le(e,n.b):t=null!=n.i;var l=n.a;if(t)Ve(e,n.i);else if(t=!!n.a){if("/"!=l.charAt(0))if(this.b&&!this.a)l="/"+l;else{var r=e.a.lastIndexOf("/");-1!=r&&(l=e.a.substr(0,r+1)+l)}if(".."==(r=l)||"."==r)l="";else if(N(r,"./")||N(r,"/.")){l=0==r.lastIndexOf("/",0),r=r.split("/");for(var i=[],o=0;o<r.length;){var u=r[o++];"."==u?l&&o==r.length&&i.push(""):".."==u?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),l&&o==r.length&&i.push("")):(i.push(u),l=!0)}l=i.join("/")}else l=r}return t?e.a=l:t=""!==n.c.toString(),t?Ue(e,et(n.c)):t=!!n.g,t&&(e.g=n.g),e};var He=/[#\/\?@]/g,We=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,Xe=/#/g;function Ye(n,e){this.b=this.a=null,this.c=n||null,this.f=!!e}function $e(n){n.a||(n.a=new Ae,n.b=0,n.c&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var l=n[t].indexOf("="),r=null;if(0<=l){var i=n[t].substring(0,l);r=n[t].substring(l+1)}else i=n[t];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.c,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ze(n,e){$e(n),e=tt(n,e),Ne(n.a.b,e)&&(n.c=null,n.b-=n.a.get(e).length,De(n.a,e))}function Je(n,e){return $e(n),e=tt(n,e),Ne(n.a.b,e)}function nt(n,e,t){Ze(n,e),0<t.length&&(n.c=null,n.a.set(tt(n,e),k(t)),n.b+=t.length)}function et(n){var e=new Ye;return e.c=n.c,n.a&&(e.a=new Ae(n.a),e.b=n.b),e}function tt(n,e){return e=String(e),n.f&&(e=e.toLowerCase()),e}function lt(n){this.a=n,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rt(n){var e=n.a.F.a;if(null!=e)ne(4),e?(ne(10),Wt(n.a,n,!1)):(ne(11),Wt(n.a,n,!0));else{n.b=new de(n,void 0,void 0),n.b.h=n.h,e=$t(e=n.a,e.Y()?n.f:null,n.i),ne(4),Fe(e,"TYPE","xmlhttp");var t=n.a.j,l=n.a.I;t&&l&&qe(e,t,l),ye(n.b,e,!1,n.f)}}function it(){this.a=this.b=null}function ot(){this.a=new Ae}function ut(n){var e=typeof n;return"object"==e&&n||"function"==e?"o"+(n[m]||(n[m]=++g)):e.charAt(0)+n}function at(n,e){this.b=n,this.a=e}function st(n){this.g=n||ct,n=o.PerformanceNavigationTiming?0<(n=o.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(o.ka&&o.ka.Ea&&o.ka.Ea()&&o.ka.Ea().zb),this.f=n?this.g:1,this.a=null,1<this.f&&(this.a=new ot),this.b=null,this.c=[]}(l=Ye.prototype).add=function(n,e){$e(this),this.c=null,n=tt(this,n);var t=this.a.get(n);return t||this.a.set(n,t=[]),t.push(e),this.b+=1,this},l.forEach=function(n,e){$e(this),this.a.forEach(function(t,l){T(t,function(t){n.call(e,t,l,this)},this)},this)},l.K=function(){$e(this);for(var n=this.a.C(),e=this.a.K(),t=[],l=0;l<e.length;l++)for(var r=n[l],i=0;i<r.length;i++)t.push(e[l]);return t},l.C=function(n){$e(this);var e=[];if(u(n))Je(this,n)&&(e=I(e,this.a.get(tt(this,n))));else{n=this.a.C();for(var t=0;t<n.length;t++)e=I(e,n[t])}return e},l.set=function(n,e){return $e(this),this.c=null,Je(this,n=tt(this,n))&&(this.b-=this.a.get(n).length),this.a.set(n,[e]),this.b+=1,this},l.get=function(n,e){return n&&0<(n=this.C(n)).length?String(n[0]):e},l.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var n=[],e=this.a.K(),t=0;t<e.length;t++){var l=e[t],r=encodeURIComponent(String(l));l=this.C(l);for(var i=0;i<l.length;i++){var o=r;""!==l[i]&&(o+="="+encodeURIComponent(String(l[i]))),n.push(o)}}return this.c=n.join("&")},C(function(){},function(){}),(l=lt.prototype).M=null,l.$=function(n){return this.a.$(n)},l.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},l.Da=function(){return!1},l.Ga=function(n,e){if(this.c=n.o,0==this.M){if(!this.a.o&&(n=n.a)){var t=Pt(n,"X-Client-Wire-Protocol");this.l=t||null,this.a.j&&(n=Pt(n,"X-HTTP-Session-Id"))&&(this.a.I=n)}if(e){try{var l=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void Xt(e,2)}this.f=l[0]}else(e=this.a).m=this.c,Xt(e,2)}else 1==this.M&&(this.g?ne(6):"11111"==e?(ne(5),this.g=!0,(!K||10<=Number(Z))&&(this.c=200,this.b.cancel(),ne(11),Wt(this.a,this,!0))):(ne(7),this.g=!1))},l.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rt(this)):1==this.M&&(this.g?(ne(11),Wt(this.a,this,!0)):(ne(10),Wt(this.a,this,!1)));else{0==this.M?ne(8):1==this.M&&ne(9);var n=this.a;n.m=this.c,Xt(n,2)}},l.Y=function(){return this.a.Y()},l.ma=function(){return this.a.ma()},ot.prototype.add=function(n){this.a.set(ut(n),n)},ot.prototype.C=function(){return this.a.C()};var ct=10;function ht(n,e){!n.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(n.f=n.g,n.a=new ot,n.b&&(mt(n,n.b),n.b=null))}function dt(n){return!!n.b||!!n.a&&n.a.a.c>=n.f}function pt(n){return n.b?1:n.a?n.a.a.c:0}function ft(n,e){return n.b?n=n.b==e:n.a?(e=ut(e),n=Ne(n.a.a.b,e)):n=!1,n}function mt(n,e){n.a?n.a.add(e):n.b=e}function gt(n,e){var t;n.b&&n.b==e?n.b=null:((t=n.a)&&(t=ut(e),t=Ne(n.a.a.b,t)),t&&De(n.a.a,ut(e)))}function yt(n){if(null!=n.b)return n.c.concat(n.b.j);if(null!=n.a&&0!=n.a.a.c){var e=n.c;return T(n.a.C(),function(n){e=e.concat(n.j)}),e}return k(n.c)}function vt(){}function bt(){this.a=new vt}function _t(n,e,t){var l=t||"";try{ke(n,function(n,t){var r=n;f(n)&&(r=An(n)),e.push(l+t+"="+encodeURIComponent(r))})}catch(r){throw e.push(l+"type="+encodeURIComponent("_badmap")),r}}function wt(n,e,t,l,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(l)}catch(i){}}st.prototype.cancel=function(){var n;this.c=yt(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(n){n.cancel()}),(n=this.a.a).b={},n.a.length=0,n.c=0)},vt.prototype.stringify=function(n){return o.JSON.stringify(n,void 0)},vt.prototype.parse=function(n){return o.JSON.parse(n,void 0)};var Ct=o.JSON.parse;function Et(n){In.call(this),this.headers=new Ae,this.H=n||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=St,this.D=this.F=!1}C(Et,In);var St="",Tt=/^https?$/i,It=["POST","PUT"];function kt(n){return"content-type"==n.toLowerCase()}function At(n,e){n.b=!1,n.a&&(n.g=!0,n.a.abort(),n.g=!1),n.f=e,n.h=5,Dt(n),Nt(n)}function Dt(n){n.v||(n.v=!0,n.dispatchEvent("complete"),n.dispatchEvent("error"))}function xt(n){if(n.b&&void 0!==i&&(!n.s[1]||4!=Rt(n)||2!=n.T()))if(n.l&&4==Rt(n))Bn(n.Fa,0,n);else if(n.dispatchEvent("readystatechange"),4==Rt(n)){n.b=!1;try{var e,t=n.T();n:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break n;default:l=!1}if(!(e=l)){var r;if(r=0===t){var u=String(n.A).match(Oe)[1]||null;if(!u&&o.self&&o.self.location){var a=o.self.location.protocol;u=a.substr(0,a.length-1)}r=!Tt.test(u?u.toLowerCase():"")}e=r}e?(n.dispatchEvent("complete"),n.dispatchEvent("success")):(n.h=6,n.f=n.za()+" ["+n.T()+"]",Dt(n))}finally{Nt(n)}}}function Nt(n,e){if(n.a){Ot(n);var t=n.a,l=n.s[0]?c:null;n.a=null,n.s=null,e||n.dispatchEvent("ready");try{t.onreadystatechange=l}catch(r){}}}function Ot(n){n.a&&n.D&&(n.a.ontimeout=null),n.m&&(o.clearTimeout(n.m),n.m=null)}function Rt(n){return n.a?n.a.readyState:0}function Pt(n,e){return n.a?n.a.getResponseHeader(e):null}function Mt(n,e,t){n:{for(l in t){var l=!1;break n}l=!0}if(l)return n;if(t=function(n){var e="";return M(t,function(n,t){e+=t,e+=":",e+=n,e+="\r\n"}),e}(),u(n)){if(e=encodeURIComponent(String(e)),e+=t=null!=t?"="+encodeURIComponent(String(t)):""){if(0>(t=n.indexOf("#"))&&(t=n.length),0>(l=n.indexOf("?"))||l>t){l=t;var r=""}else r=n.substring(l+1,t);t=(n=[n.substr(0,l),r,n.substr(t)])[1],n[1]=e?t?t+"&"+e:e:t,n=n[0]+(n[1]?"?"+n[1]:"")+n[2]}return n}return qe(n,e,t),n}function Lt(n){this.f=[],this.F=new it,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!s("internalChannelParams.failFast",n),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=s("internalChannelParams.baseRetryDelayMs",n)||5e3,this.Sa=s("internalChannelParams.retryDelaySeedMs",n)||1e4,this.Qa=s("internalChannelParams.forwardChannelMaxRetries",n)||2,this.qa=s("internalChannelParams.forwardChannelRequestTimeoutMs",n)||2e4,this.La=n&&n.Ab||void 0,this.D=void 0,this.R=n&&n.supportsCrossDomainXhr||!1,this.H="",this.b=new st(n&&n.concurrentRequestLimit),this.ja=new bt,this.o=!n||void 0===n.backgroundChannelTest||n.backgroundChannelTest,(this.W=n&&n.fastHandshake||!1)&&!this.o&&(this.o=!0),n&&n.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Vt(n){if(Ut(n),3==n.u){var e=n.P++,t=Pe(n.B);qe(t,"SID",n.H),qe(t,"RID",e),qe(t,"TYPE","terminate"),Bt(n,t),(e=new de(n,e,void 0)).F=2,e.f=je(Pe(t)),t=!1,o.navigator&&o.navigator.sendBeacon&&(t=o.navigator.sendBeacon(e.f.toString(),"")),!t&&o.Image&&((new Image).src=e.f,t=!0),t||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),we(e)}Yt(n)}function Ut(n){n.w&&(n.w.abort(),n.w=null),n.a&&(n.a.cancel(),n.a=null),n.l&&(o.clearTimeout(n.l),n.l=null),Gt(n),n.b.cancel(),n.h&&(a(n.h)&&o.clearTimeout(n.h),n.h=null)}function qt(n,e){n.f.push(new at(n.Ra++,e)),3==n.u&&Ft(n)}function Ft(n){dt(n.b)||n.h||(n.h=!0,Ln(n.Ia,n),n.A=0)}function jt(n,e){var t;t=e?e.W:n.P++;var l=Pe(n.B);qe(l,"SID",n.H),qe(l,"RID",t),qe(l,"AID",n.O),Bt(n,l),n.g&&n.i&&Mt(l,n.g,n.i),t=new de(n,t,n.A+1),null===n.g&&(t.h=n.i),e&&(n.f=e.j.concat(n.f)),e=Kt(n,t,1e3),t.setTimeout(Math.round(.5*n.qa)+Math.round(.5*n.qa*Math.random())),mt(n.b,t),ge(t,l,e)}function Bt(n,e){n.c&&ke({},function(n,t){qe(e,t,n)})}function Kt(n,e,t){t=Math.min(n.f.length,t);var l=n.c?b(n.c.Ta,n.c,n):null;n:for(var r=n.f,i=-1;;){var o=["count="+t];-1==i?0<t?o.push("ofs="+(i=r[0].b)):i=0:o.push("ofs="+i);for(var u=!0,a=0;a<t;a++){var s=r[a].b,c=r[a].a;if(0>(s-=i))i=Math.max(0,r[a].b-100),u=!1;else try{_t(c,o,"req"+s+"_")}catch(h){l&&l(c)}}if(u){l=o.join("&");break n}}return n=n.f.splice(0,t),e.j=n,l}function zt(n){n.a||n.l||(n.S=1,Ln(n.Ha,n),n.v=0)}function Ht(n){return!(n.a||n.l||3<=n.v||(n.S++,n.l=te(b(n.Ha,n),Qt(n,n.v)),n.v++,0))}function Wt(n,e,t){var l=e.l;l&&ht(n.b,l),n.ia=n.oa&&t,n.m=e.c,n.B=$t(n,null,n.ha),Ft(n)}function Gt(n){null!=n.s&&(o.clearTimeout(n.s),n.s=null)}function Qt(n,e){var t=n.Oa+Math.floor(Math.random()*n.Sa);return n.ma()||(t*=2),t*e}function Xt(n,e){if(2==e){var t=null;n.c&&(t=null);var l=b(n.fb,n);t||(t=new Re("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Me(t,"https"),je(t)),function(n,e){var t=new Xn;if(o.Image){var l=new Image;l.onload=_(wt,t,l,"TestLoadImage: loaded",!0,e),l.onerror=_(wt,t,l,"TestLoadImage: error",!1,e),l.onabort=_(wt,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=_(wt,t,l,"TestLoadImage: timeout",!1,e),o.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=n}else e(!1)}(t.toString(),l)}else ne(2);n.u=0,n.c&&n.c.ta(e),Yt(n),Ut(n)}function Yt(n){n.u=0,n.m=-1,n.c&&(0==yt(n.b).length&&0==n.f.length||(n.b.c.length=0,k(n.f),n.f.length=0),n.c.sa())}function $t(n,e,t){var l=function(n){return n instanceof Re?Pe(n):new Re(n,void 0)}(t);if(""!=l.b)e&&Le(l,e+"."+l.b),Ve(l,l.i);else{var r=o.location;l=function(n,e,t,l){var r=new Re(null,void 0);return n&&Me(r,n),e&&Le(r,e),t&&Ve(r,t),l&&(r.a=l),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.V&&M(n.V,function(n,e){qe(l,e,n)}),t=n.I,(e=n.j)&&t&&qe(l,e,t),qe(l,"VER",n.wa),Bt(n,l),l}function Zt(){}function Jt(){if(K&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function nl(n,e){In.call(this),this.a=new Lt(e),this.g=n,this.m=e&&e.testUrl?e.testUrl:function(n){for(var e=arguments[0],t=1;t<arguments.length;t++){var l,r=arguments[t];0==r.lastIndexOf("/",0)?e=r:((l=""==e)||(l=0<=(l=e.length-1)&&e.indexOf("/",l)==l),e+=l?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.a.i=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(n?n["X-WebChannel-Client-Profile"]=e.xa:n={"X-WebChannel-Client-Profile":e.xa}),this.a.J=n,(n=e&&e.httpHeadersOverwriteParam)&&!A(n)&&(this.a.g=n),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(n=this.b)&&e in n&&e in(n=this.b)&&delete n[e]),this.f=new ll(this)}function el(n){se.call(this);var e=n.__sm__;if(e){n:{for(var t in e){n=t;break n}n=void 0}(this.c=n)?(n=this.c,this.data=null!==e&&n in e?e[n]:void 0):this.data=e}else this.data=n}function tl(){ce.call(this),this.status=1}function ll(n){this.a=n}(l=Et.prototype).ca=function(n,e,t,l){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+n);e=e?e.toUpperCase():"GET",this.A=n,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(n){var e;return(e=n.a)||(e=n.a={}),e}(this.H?this.H:ue),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(n),!0),this.w=!1}catch(i){return void At(this,i)}n=t||"";var r=new Ae(this.headers);l&&ke(l,function(n,e){r.set(e,n)}),l=function(n){n:{for(var e=kt,t=n.length,l=u(n)?n.split(""):n,r=0;r<t;r++)if(r in l&&e.call(void 0,l[r],r,n)){e=r;break n}e=-1}return 0>e?null:u(n)?n.charAt(e):n[e]}(r.K()),t=o.FormData&&n instanceof o.FormData,!(0<=S(It,e))||l||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(n,e){this.a.setRequestHeader(e,n)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ot(this),0<this.o&&((this.D=function(n){return K&&nn(9)&&a(n.timeout)&&void 0!==n.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Bn(this.Ca,this.o,this)),this.l=!0,this.a.send(n),this.l=!1}catch(i){At(this,i)}},l.Ca=function(){void 0!==i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},l.abort=function(n){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=n||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nt(this))},l.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nt(this,!0)),Et.N.G.call(this)},l.Fa=function(){this.j||(this.w||this.l||this.g?xt(this):this.$a())},l.$a=function(){xt(this)},l.T=function(){try{return 2<Rt(this)?this.a.status:-1}catch(j){return-1}},l.za=function(){try{return 2<Rt(this)?this.a.statusText:""}catch(j){return""}},l.aa=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},l.Va=function(n){if(this.a){var e=this.a.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ct(e)}},l.ya=function(){return this.h},l.Ya=function(){return u(this.f)?this.f:String(this.f)},(l=Lt.prototype).wa=8,l.u=1,l.Da=function(){return 0==this.u},l.Ia=function(n){if(this.h)if(this.h=null,1==this.u){if(!n){this.P=Math.floor(1e5*Math.random());var e,t=new de(this,n=this.P++,void 0),l=this.i;if(this.J&&(l?U(l=L(l),this.J):l=this.J),null===this.g&&(t.h=l),this.W)n:{for(var r=e=0;r<this.f.length;r++){var i=this.f[r];if(void 0===(i="__data__"in i.a&&u(i=i.a.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=r;break n}if(4096===e||r===this.f.length-1){e=r+1;break n}}e=1e3}else e=1e3;e=Kt(this,t,e),qe(r=Pe(this.B),"RID",n),qe(r,"CVER",22),this.o&&this.j&&qe(r,"X-HTTP-Session-Id",this.j),Bt(this,r),this.g&&l&&Mt(r,this.g,l),mt(this.b,t),this.W?(qe(r,"$req",e),qe(r,"SID","null"),t.S=!0,ge(t,r,null)):ge(t,r,e),this.u=2}}else 3==this.u&&(n?jt(this,n):0==this.f.length||dt(this.b)||jt(this))},l.Ha=function(){this.l=null,this.a=new de(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var n=Pe(this.pa);qe(n,"RID","rpc"),qe(n,"SID",this.H),qe(n,"CI",this.ia?"0":"1"),qe(n,"AID",this.O),Bt(this,n),qe(n,"TYPE","xmlhttp"),this.g&&this.i&&Mt(n,this.g,this.i),this.D&&this.a.setTimeout(this.D),ye(this.a,n,!0,this.ga)},l.Ga=function(n,e){if(0!=this.u&&(this.a==n||ft(this.b,n)))if(this.m=n.o,!n.s&&ft(this.b,n)&&3==this.u){try{var t=this.ja.a.parse(e)}catch(i){t=null}if(d(t)&&3==t.length){if(0==(e=t)[0]){n:if(!this.l){if(this.a){if(!(this.a.v+3e3<n.v))break n;Gt(this),this.a.cancel(),this.a=null}Ht(this),ne(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=te(b(this.Za,this),6e3));if(1>=pt(this.b)&&this.fa){try{this.fa()}catch(i){}this.fa=void 0}}else Xt(this,11)}else if((n.s||this.a==n)&&Gt(this),!A(e))for(e=t=this.ja.a.parse(e),t=0;t<e.length;t++){var l=e[t];if(this.O=l[0],l=l[1],2==this.u)if("c"==l[0]){this.H=l[1],this.ga=l[2];var r=l[3];null!=r&&(this.wa=r),null!=(l=l[5])&&a(l)&&0<l&&(this.D=1.5*l),this.o&&(l=n.a)&&((r=Pt(l,"X-Client-Wire-Protocol"))&&ht(this.b,r),this.j&&(l=Pt(l,"X-HTTP-Session-Id")))&&(this.I=l,qe(this.B,this.j,l)),this.u=3,this.c&&this.c.va(),l=n,this.pa=$t(this,this.Y()?this.ga:null,this.ha),l.s?(gt(this.b,l),(r=this.D)&&l.setTimeout(r),l.i&&(Ee(l),we(l)),this.a=l):zt(this),0<this.f.length&&Ft(this)}else"stop"!=l[0]&&"close"!=l[0]||Xt(this,7);else 3==this.u&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Xt(this,7):Vt(this):"noop"!=l[0]&&this.c&&this.c.ua(l),this.v=0)}},l.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Ht(this),ne(19))},l.na=function(n){var e=null;if(this.a==n){Gt(this),this.a=null;var t=2}else{if(!ft(this.b,n))return;e=n.j,gt(this.b,n),t=1}if(this.m=n.o,0!=this.u)if(n.b)1==t?(e=w()-n.v,Yn.dispatchEvent(new ee(Yn,n.l?n.l.length:0,e,this.A)),Ft(this)):zt(this);else{var l=n.c;if(3==l||0==l&&0<this.m||!(1==t&&function(n,e){return!(pt(n.b)>=n.b.f-(n.h?1:0)||(n.h?(n.f=e.j.concat(n.f),0):1==n.u||2==n.u||n.A>=(n.Pa?0:n.Qa)||(n.h=te(b(n.Ia,n,e),Qt(n,n.A)),n.A++,0)))}(this,n)||2==t&&Ht(this)))switch(e&&0<e.length&&(n=this.b,n.c=n.c.concat(e)),l){case 1:Xt(this,5);break;case 4:Xt(this,10);break;case 3:Xt(this,6);break;default:Xt(this,2)}}},l.fb=function(n){ne(n?2:1)},l.$=function(n){if(n&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Et(this.La)).F=this.R,n},l.ma=function(){return!!this.c&&!0},l.Y=function(){return this.R},(l=Zt.prototype).va=function(){},l.ua=function(){},l.ta=function(){},l.sa=function(){},l.Ta=function(){},Jt.prototype.a=function(n,e){return new nl(n,e)},C(nl,In),(l=nl.prototype).addEventListener=function(n,e,t,l){nl.N.addEventListener.call(this,n,e,t,l)},l.removeEventListener=function(n,e,t,l){nl.N.removeEventListener.call(this,n,e,t,l)},l.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var n=this.a,e=this.m,t=this.g,l=this.b||void 0;ne(0),n.ha=t,n.V=l||{},n.o&&(n.F.b=[],n.F.a=!1),n.w=new lt(n),null===n.g&&(n.w.h=n.i),t=e,n.g&&n.i&&(t=Mt(e,n.g,n.i)),(n=n.w).i=t,e=$t(n.a,null,n.i),ne(3),null!=(t=n.a.F.b)?(n.f=t[0],n.M=1,rt(n)):(Fe(e,"MODE","init"),!n.a.o&&n.a.j&&Fe(e,"X-HTTP-Session-Id",n.a.j),n.b=new de(n,void 0,void 0),n.b.h=n.h,ye(n.b,e,!1,null),n.M=0)},l.close=function(){Vt(this.a)},l.Xa=function(n){if(u(n)){var e={};e.__data__=n,qt(this.a,e)}else this.h?((e={}).__data__=An(n),qt(this.a,e)):qt(this.a,n)},l.G=function(){this.a.c=null,delete this.f,Vt(this.a),delete this.a,nl.N.G.call(this)},C(el,se),C(tl,ce),C(ll,Zt),ll.prototype.va=function(){this.a.dispatchEvent("a")},ll.prototype.ua=function(n){this.a.dispatchEvent(new el(n))},ll.prototype.ta=function(n){this.a.dispatchEvent(new tl(n))},ll.prototype.sa=function(){this.a.dispatchEvent("b")};var rl=_(function(n,e){function t(){}t.prototype=n.prototype;var l=new t;return n.apply(l,Array.prototype.slice.call(arguments,1)),l},Jt);Jt.prototype.createWebChannel=Jt.prototype.a,nl.prototype.send=nl.prototype.Xa,nl.prototype.open=nl.prototype.Wa,nl.prototype.close=nl.prototype.close,le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",In.prototype.listen=In.prototype.Aa,Et.prototype.listenOnce=Et.prototype.Ba,Et.prototype.getLastError=Et.prototype.Ya,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.T,Et.prototype.getStatusText=Et.prototype.za,Et.prototype.getResponseJson=Et.prototype.Va,Et.prototype.getResponseText=Et.prototype.aa,Et.prototype.send=Et.prototype.ca;var il={createWebChannelTransport:rl,ErrorCode:le,EventType:re,WebChannel:oe,XhrIo:Et},ol=il.createWebChannelTransport,ul=il.ErrorCode,al=il.EventType,sl=il.WebChannel,cl=il.XhrIo;e.default=il},zUnb:function(n,e,t){"use strict";t.r(e);var l=t("mrSG"),r=Array.isArray||function(n){return n&&"number"==typeof n.length};function i(n){return null!=n&&"object"==typeof n}function o(n){return"function"==typeof n}var u,a={e:{}};function s(){try{return u.apply(this,arguments)}catch(n){return a.e=n,a}}function c(n){return u=n,s}function h(n){return Error.call(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map(function(n,e){return e+1+") "+n.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n,this}h.prototype=Object.create(Error.prototype);var d=h,p=function(){function n(n){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}var e;return n.prototype.unsubscribe=function(){var n,e=!1;if(!this.closed){var t=this._parent,l=this._parents,u=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=l?l.length:0;t;)t.remove(this),t=++h<p&&l[h]||null;if(o(u)&&c(u).call(this)===a&&(e=!0,n=n||(a.e instanceof d?f(a.e.errors):[a.e])),r(s))for(h=-1,p=s.length;++h<p;){var m=s[h];if(i(m)&&c(m.unsubscribe).call(m)===a){e=!0,n=n||[];var g=a.e;g instanceof d?n=n.concat(f(g.errors)):n.push(g)}}if(e)throw new d(n)}},n.prototype.add=function(e){if(!e||e===n.EMPTY)return n.EMPTY;if(e===this)return this;var t=e;switch(typeof e){case"function":t=new n(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){var l=t;(t=new n)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},n.prototype.remove=function(n){var e=this._subscriptions;if(e){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},n.prototype._addParent=function(n){var e=this._parent,t=this._parents;e&&e!==n?t?-1===t.indexOf(n)&&t.push(n):this._parents=[n]:this._parent=n},n.EMPTY=((e=new n).closed=!0,e),n}();function f(n){return n.reduce(function(n,e){return n.concat(e instanceof d?e.errors:e)},[])}var m=!1,g={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){m=n},get useDeprecatedSynchronousErrorHandling(){return m}};function y(n){setTimeout(function(){throw n})}var v={closed:!0,next:function(n){},error:function(n){if(g.useDeprecatedSynchronousErrorHandling)throw n;y(n)},complete:function(){}},b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),_=function(n){function e(t,l,r){var i=n.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=v;break;case 1:if(!t){i.destination=v;break}if("object"==typeof t){t instanceof e?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new w(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new w(i,t,l,r)}return i}return l.__extends(e,n),e.prototype[b]=function(){return this},e.create=function(n,t,l){var r=new e(n,t,l);return r.syncErrorThrowable=!1,r},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=e,this._parentSubscription=null,this},e}(p),w=function(n){function e(e,t,l,r){var i,u=n.call(this)||this;u._parentSubscriber=e;var a=u;return o(t)?i=t:t&&(i=t.next,l=t.error,r=t.complete,t!==v&&(o((a=Object.create(t)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=i,u._error=l,u._complete=r,u}return l.__extends(e,n),e.prototype.next=function(n){if(!this.isStopped&&this._next){var e=this._parentSubscriber;g.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},e.prototype.error=function(n){if(!this.isStopped){var e=this._parentSubscriber,t=g.useDeprecatedSynchronousErrorHandling;if(this._error)t&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)t?(e.syncErrorValue=n,e.syncErrorThrown=!0):y(n),this.unsubscribe();else{if(this.unsubscribe(),t)throw n;y(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var t=function(){return n._complete.call(n._context)};g.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,e){try{n.call(this._context,e)}catch(t){if(this.unsubscribe(),g.useDeprecatedSynchronousErrorHandling)throw t;y(t)}},e.prototype.__tryOrSetError=function(n,e,t){if(!g.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,t)}catch(l){return g.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=l,n.syncErrorThrown=!0,!0):(y(l),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(_),C="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(){}function S(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return T(n)}function T(n){return n?1===n.length?n[0]:function(e){return n.reduce(function(n,e){return e(n)},e)}:E}var I=function(){function n(n){this._isScalar=!1,n&&(this._subscribe=n)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(n,e,t){var l=this.operator,r=function(n,e,t){if(n){if(n instanceof _)return n;if(n[b])return n[b]()}return n||e||t?new _(n,e,t):new _(v)}(n,e,t);if(l?l.call(r,this.source):r.add(this.source||g.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),g.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},n.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){g.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=e),function(n){for(;n;){var e=n.destination;if(n.closed||n.isStopped)return!1;n=e&&e instanceof _?e:null}return!0}(n)?n.error(e):console.warn(e)}},n.prototype.forEach=function(n,e){var t=this;return new(e=k(e))(function(e,l){var r;r=t.subscribe(function(e){try{n(e)}catch(t){l(t),r&&r.unsubscribe()}},l,e)})},n.prototype._subscribe=function(n){var e=this.source;return e&&e.subscribe(n)},n.prototype[C]=function(){return this},n.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return 0===n.length?this:T(n)(this)},n.prototype.toPromise=function(n){var e=this;return new(n=k(n))(function(n,t){var l;e.subscribe(function(n){return l=n},function(n){return t(n)},function(){return n(l)})})},n.create=function(e){return new n(e)},n}();function k(n){if(n||(n=g.Promise||Promise),!n)throw new Error("no Promise impl found");return n}function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}A.prototype=Object.create(Error.prototype);var D=A,x=function(n){function e(e,t){var l=n.call(this)||this;return l.subject=e,l.subscriber=t,l.closed=!1,l}return l.__extends(e,n),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,e=n.observers;if(this.subject=null,e&&0!==e.length&&!n.isStopped&&!n.closed){var t=e.indexOf(this.subscriber);-1!==t&&e.splice(t,1)}}},e}(p),N=function(n){function e(e){var t=n.call(this,e)||this;return t.destination=e,t}return l.__extends(e,n),e}(_),O=function(n){function e(){var e=n.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return l.__extends(e,n),e.prototype[b]=function(){return new N(this)},e.prototype.lift=function(n){var e=new R(this,this);return e.operator=n,e},e.prototype.next=function(n){if(this.closed)throw new D;if(!this.isStopped)for(var e=this.observers,t=e.length,l=e.slice(),r=0;r<t;r++)l[r].next(n)},e.prototype.error=function(n){if(this.closed)throw new D;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var e=this.observers,t=e.length,l=e.slice(),r=0;r<t;r++)l[r].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new D;this.isStopped=!0;for(var n=this.observers,e=n.length,t=n.slice(),l=0;l<e;l++)t[l].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new D;return n.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(n){if(this.closed)throw new D;return this.hasError?(n.error(this.thrownError),p.EMPTY):this.isStopped?(n.complete(),p.EMPTY):(this.observers.push(n),new x(this,n))},e.prototype.asObservable=function(){var n=new I;return n.source=this,n},e.create=function(n,e){return new R(n,e)},e}(I),R=function(n){function e(e,t){var l=n.call(this)||this;return l.destination=e,l.source=t,l}return l.__extends(e,n),e.prototype.next=function(n){var e=this.destination;e&&e.next&&e.next(n)},e.prototype.error=function(n){var e=this.destination;e&&e.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):p.EMPTY},e}(O);function P(n){return n&&"function"==typeof n.schedule}var M=function(n){function e(e,t,l){var r=n.call(this)||this;return r.parent=e,r.outerValue=t,r.outerIndex=l,r.index=0,r}return l.__extends(e,n),e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_),L=function(n){return function(e){for(var t=0,l=n.length;t<l&&!e.closed;t++)e.next(n[t]);e.closed||e.complete()}},V=function(n){return function(e){return n.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,y),e}};function U(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var q=U(),F=function(n){return function(e){for(var t=n[q]();;){var l=t.next();if(l.done){e.complete();break}if(e.next(l.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}},j=function(n){return function(e){var t=n[C]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}},B=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function K(n){return n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}var z=function(n){if(n instanceof I)return function(e){return n._isScalar?(e.next(n.value),void e.complete()):n.subscribe(e)};if(n&&"function"==typeof n[C])return j(n);if(B(n))return L(n);if(K(n))return V(n);if(n&&"function"==typeof n[q])return F(n);var e=i(n)?"an invalid object":"'"+n+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function H(n,e,t,l,r){if(void 0===r&&(r=new M(n,t,l)),!r.closed)return z(e)(r)}var W=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l.__extends(e,n),e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e.prototype.notifyError=function(n,e){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(_);function G(n,e){return function(t){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new Q(n,e))}}var Q=function(){function n(n,e){this.project=n,this.thisArg=e}return n.prototype.call=function(n,e){return e.subscribe(new X(n,this.project,this.thisArg))},n}(),X=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.project=t,r.count=0,r.thisArg=l||r,r}return l.__extends(e,n),e.prototype._next=function(n){var e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(_);function Y(n,e){return new I(e?function(t){var l=new p,r=0;return l.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||l.add(this.schedule())):t.complete()})),l}:L(n))}function $(n,e){if(!e)return n instanceof I?n:new I(z(n));if(null!=n){if(function(n){return n&&"function"==typeof n[C]}(n))return function(n,e){return new I(e?function(t){var l=new p;return l.add(e.schedule(function(){var r=n[C]();l.add(r.subscribe({next:function(n){l.add(e.schedule(function(){return t.next(n)}))},error:function(n){l.add(e.schedule(function(){return t.error(n)}))},complete:function(){l.add(e.schedule(function(){return t.complete()}))}}))})),l}:j(n))}(n,e);if(K(n))return function(n,e){return new I(e?function(t){var l=new p;return l.add(e.schedule(function(){return n.then(function(n){l.add(e.schedule(function(){t.next(n),l.add(e.schedule(function(){return t.complete()}))}))},function(n){l.add(e.schedule(function(){return t.error(n)}))})})),l}:V(n))}(n,e);if(B(n))return Y(n,e);if(function(n){return n&&"function"==typeof n[q]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new I(e?function(t){var l,r=new p;return r.add(function(){l&&"function"==typeof l.return&&l.return()}),r.add(e.schedule(function(){l=n[q](),r.add(e.schedule(function(){if(!t.closed){var n,e;try{var r=l.next();n=r.value,e=r.done}catch(i){return void t.error(i)}e?t.complete():(t.next(n),this.schedule())}}))})),r}:F(n))}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}function Z(n,e,t){return void 0===t&&(t=Number.POSITIVE_INFINITY),"function"==typeof e?function(l){return l.pipe(Z(function(t,l){return $(n(t,l)).pipe(G(function(n,r){return e(t,n,l,r)}))},t))}:("number"==typeof e&&(t=e),function(e){return e.lift(new J(n,t))})}var J=function(){function n(n,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=n,this.concurrent=e}return n.prototype.call=function(n,e){return e.subscribe(new nn(n,this.project,this.concurrent))},n}(),nn=function(n){function e(e,t,l){void 0===l&&(l=Number.POSITIVE_INFINITY);var r=n.call(this,e)||this;return r.project=t,r.concurrent=l,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return l.__extends(e,n),e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var e,t=this.index++;try{e=this.project(n,t)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(e,n,t)},e.prototype._innerSub=function(n,e,t){var l=new M(this,void 0,void 0);this.destination.add(l),H(this,n,e,t,l)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e.prototype.notifyComplete=function(n){var e=this.buffer;this.remove(n),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(W);function en(n){return n}function tn(n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Z(en,n)}function ln(){return function(n){return n.lift(new rn(n))}}var rn=function(){function n(n){this.connectable=n}return n.prototype.call=function(n,e){var t=this.connectable;t._refCount++;var l=new on(n,t),r=e.subscribe(l);return l.closed||(l.connection=t.connect()),r},n}(),on=function(n){function e(e,t){var l=n.call(this,e)||this;return l.connectable=t,l}return l.__extends(e,n),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._refCount;if(e<=0)this.connection=null;else if(n._refCount=e-1,e>1)this.connection=null;else{var t=this.connection,l=n._connection;this.connection=null,!l||t&&l!==t||l.unsubscribe()}}else this.connection=null},e}(_),un=function(n){function e(e,t){var l=n.call(this)||this;return l.source=e,l.subjectFactory=t,l._refCount=0,l._isComplete=!1,l}return l.__extends(e,n),e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new p).add(this.source.subscribe(new sn(this.getSubject(),this))),n.closed?(this._connection=null,n=p.EMPTY):this._connection=n),n},e.prototype.refCount=function(){return ln()(this)},e}(I).prototype,an={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:un._subscribe},_isComplete:{value:un._isComplete,writable:!0},getSubject:{value:un.getSubject},connect:{value:un.connect},refCount:{value:un.refCount}},sn=function(n){function e(e,t){var l=n.call(this,e)||this;return l.connectable=t,l}return l.__extends(e,n),e.prototype._error=function(e){this._unsubscribe(),n.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}},e}(N);function cn(){return new O}function hn(){return function(n){return ln()((e=cn,function(n){var t;t="function"==typeof e?e:function(){return e};var l=Object.create(n,an);return l.source=n,l.subjectFactory=t,l})(n));var e}}function dn(n){for(var e in n)if(n[e]===dn)return e;throw Error("Could not find renamed property on target object.")}function pn(n,e){for(var t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}var fn=dn({ngInjectableDef:dn}),mn=dn({ngBaseDef:dn});function gn(n){return{providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return n&&n.hasOwnProperty(fn)?n[fn]:null}var vn=function(){function n(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?gn({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return n.prototype.toString=function(){return"InjectionToken "+this._desc},n}(),bn="__parameters__",_n="__prop__metadata__";function wn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(n){var r=n.apply(void 0,Object(l.__spread)(e));for(var i in r)this[i]=r[i]}}}function Cn(n,e,t){var r=wn(e);function i(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof i)return r.apply(this,e),this;var o=new((n=i).bind.apply(n,Object(l.__spread)([void 0],e)));return u.annotation=o,u;function u(n,e,t){for(var l=n.hasOwnProperty(bn)?n[bn]:Object.defineProperty(n,bn,{value:[]})[bn];l.length<=t;)l.push(null);return(l[t]=l[t]||[]).push(o),n}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i}function En(n,e,t,r){var i=wn(e);function o(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof o)return i.apply(this,e),this;var u=new((n=o).bind.apply(n,Object(l.__spread)([void 0],e)));return function(n,t){var i=n.constructor,o=i.hasOwnProperty(_n)?i[_n]:Object.defineProperty(i,_n,{value:{}})[_n];o[t]=o.hasOwnProperty(t)&&o[t]||[],o[t].unshift(u),r&&r.apply(void 0,Object(l.__spread)([n,t],e))}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o}var Sn=new vn("AnalyzeForEntryComponents"),Tn="undefined"!=typeof window&&window,In="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kn="undefined"!=typeof global&&global||Tn||In,An=Promise.resolve(0),Dn=null;function xn(){if(!Dn){var n=kn.Symbol;if(n&&n.iterator)Dn=n.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var l=e[t];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Dn=l)}}return Dn}function Nn(n){"undefined"==typeof Zone?An.then(function(){n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function On(n,e){return n===e||"number"==typeof n&&"number"==typeof e&&isNaN(n)&&isNaN(e)}function Rn(n){if("string"==typeof n)return n;if(n instanceof Array)return"["+n.map(Rn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return""+n.overriddenName;if(n.name)return""+n.name;var e=n.toString();if(null==e)return""+e;var t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}var Pn=dn({__forward_ref__:dn});function Mn(n){return n.__forward_ref__=Mn,n.toString=function(){return Rn(this())},n}function Ln(n){var e=n;return"function"==typeof e&&e.hasOwnProperty(Pn)&&e.__forward_ref__===Mn?e():n}var Vn,Un=function(n){return n[n.Emulated=0]="Emulated",n[n.Native=1]="Native",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}({}),qn=Cn("Inject",function(n){return{token:n}}),Fn=Cn("Optional"),jn=Cn("Self"),Bn=Cn("SkipSelf"),Kn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}({}),zn=void 0;function Hn(n){var e=zn;return zn=n,e}function Wn(n,e){return void 0===e&&(e=Kn.Default),(Vn||function(n,e){if(void 0===e&&(e=Kn.Default),void 0===zn)throw new Error("inject() must be called from an injection context");return null===zn?function(n,e,t){var l=yn(n);if(l&&"root"==l.providedIn)return void 0===l.value?l.value=l.factory():l.value;if(t&Kn.Optional)return null;throw new Error("Injector: NOT_FOUND ["+Rn(n)+"]")}(n,0,e):zn.get(n,e&Kn.Optional?null:void 0,e)})(n,e)}var Gn=/([A-Z])/g;function Qn(n){try{return null!=n?n.toString().slice(0,30):n}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Xn(n,e){var t=Zn(n),l=Zn(e);return t&&l?function(n,e,t){for(var l=n[xn()](),r=e[xn()]();;){var i=l.next(),o=r.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!t(i.value,o.value))return!1}}(n,e,Xn):!(t||!n||"object"!=typeof n&&"function"!=typeof n||l||!e||"object"!=typeof e&&"function"!=typeof e)||On(n,e)}var Yn=function(){function n(n){this.wrapped=n}return n.wrap=function(e){return new n(e)},n.unwrap=function(e){return n.isWrapped(e)?e.wrapped:e},n.isWrapped=function(e){return e instanceof n},n}(),$n=function(){function n(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}return n.prototype.isFirstChange=function(){return this.firstChange},n}();function Zn(n){return!!Jn(n)&&(Array.isArray(n)||!(n instanceof Map)&&xn()in n)}function Jn(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ne(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]}var ee="__source",te=new Object,le=new vn("INJECTOR"),re=function(){function n(){}return n.prototype.get=function(n,e){if(void 0===e&&(e=te),e===te)throw new Error("NullInjectorError: No provider for "+Rn(n)+"!");return e},n}(),ie=function(){function n(){}return n.create=function(n,e){return Array.isArray(n)?new me(n,e):new me(n.providers,n.parent,n.name||null)},n.THROW_IF_NOT_FOUND=te,n.NULL=new re,n.ngInjectableDef=gn({providedIn:"any",factory:function(){return Wn(le)}}),n.__NG_ELEMENT_ID__=function(){return oe()},n}(),oe=ne,ue=function(n){return n},ae=[],se=ue,ce=function(){return Array.prototype.slice.call(arguments)},he=dn({provide:String,useValue:dn}),de=ie.NULL,pe=/\n/gm,fe="\u0275",me=function(){function n(n,e,t){void 0===e&&(e=de),void 0===t&&(t=null),this.parent=e,this.source=t;var l=this._records=new Map;l.set(ie,{token:ie,fn:ue,deps:ae,value:this,useNew:!1}),l.set(le,{token:le,fn:ue,deps:ae,value:this,useNew:!1}),function n(e,t){if(t)if((t=Ln(t))instanceof Array)for(var l=0;l<t.length;l++)n(e,t[l]);else{if("function"==typeof t)throw ve("Function/Class not supported",t);if(!t||"object"!=typeof t||!t.provide)throw ve("Unexpected provider",t);var r=Ln(t.provide),i=function(n){var e=function(n){var e=ae,t=n.deps;if(t&&t.length){e=[];for(var l=0;l<t.length;l++){var r=6;if((a=Ln(t[l]))instanceof Array)for(var i=0,o=a;i<o.length;i++){var u=o[i];u instanceof Fn||u==Fn?r|=1:u instanceof Bn||u==Bn?r&=-3:u instanceof jn||u==jn?r&=-5:a=u instanceof qn?u.token:Ln(u)}e.push({token:a,options:r})}}else if(n.useExisting){var a;e=[{token:a=Ln(n.useExisting),options:6}]}else if(!(t||he in n))throw ve("'deps' required",n);return e}(n),t=ue,l=ae,r=!1,i=Ln(n.provide);if(he in n)l=n.useValue;else if(n.useFactory)t=n.useFactory;else if(n.useExisting);else if(n.useClass)r=!0,t=Ln(n.useClass);else{if("function"!=typeof i)throw ve("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",n);r=!0,t=i}return{deps:e,fn:t,useNew:r,value:l}}(t);if(!0===t.multi){var o=e.get(r);if(o){if(o.fn!==ce)throw ge(r)}else e.set(r,o={token:t.provide,deps:[],useNew:!1,fn:ce,value:ae});o.deps.push({token:r=t,options:6})}var u=e.get(r);if(u&&u.fn==ce)throw ge(r);e.set(r,i)}}(l,n)}return n.prototype.get=function(n,e,t){void 0===t&&(t=Kn.Default);var r=this._records.get(n);try{return function n(e,t,r,i,o,u){try{return function(e,t,r,i,o,u){var a,s;if(!t||u&Kn.SkipSelf)u&Kn.Self||(s=i.get(e,o,Kn.Default));else{if((s=t.value)==se)throw Error(fe+"Circular dependency");if(s===ae){t.value=se;var c=t.useNew,h=t.fn,d=t.deps,p=ae;if(d.length){p=[];for(var f=0;f<d.length;f++){var m=d[f],g=m.options,y=2&g?r.get(m.token):void 0;p.push(n(m.token,y,r,y||4&g?i:de,1&g?null:ie.THROW_IF_NOT_FOUND,Kn.Default))}}t.value=s=c?new((a=h).bind.apply(a,Object(l.__spread)([void 0],p))):h.apply(void 0,p)}}return s}(e,t,r,i,o,u)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),t&&t.value==se&&(t.value=ae),a}}(n,r,this._records,this.parent,e,t)}catch(o){var i=o.ngTempTokenPath;throw n[ee]&&i.unshift(n[ee]),o.message=ye("\n"+o.message,i,this.source),o.ngTokenPath=i,o.ngTempTokenPath=null,o}},n.prototype.toString=function(){var n=[];return this._records.forEach(function(e,t){return n.push(Rn(t))}),"StaticInjector["+n.join(", ")+"]"},n}();function ge(n){return ve("Cannot mix multi providers and regular providers",n)}function ye(n,e,t){void 0===t&&(t=null),n=n&&"\n"===n.charAt(0)&&n.charAt(1)==fe?n.substr(2):n;var l=Rn(e);if(e instanceof Array)l=e.map(Rn).join(" -> ");else if("object"==typeof e){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];r.push(i+":"+("string"==typeof o?JSON.stringify(o):Rn(o)))}l="{"+r.join(", ")+"}"}return"StaticInjectorError"+(t?"("+t+")":"")+"["+l+"]: "+n.replace(pe,"\n  ")}function ve(n,e){return new Error(ye(n,e))}var be=new vn("The presence of this token marks an injector as being the root injector."),_e=function(){return function(){}}(),we=function(){return function(){}}();function Ce(n){var e=Error("No component factory found for "+Rn(n)+". Did you add it to @NgModule.entryComponents?");return e[Ee]=n,e}var Ee="ngComponent",Se=function(){function n(){}return n.prototype.resolveComponentFactory=function(n){throw Ce(n)},n}(),Te=function(){function n(){}return n.NULL=new Se,n}(),Ie=function(){function n(n,e,t){this._parent=e,this._ngModule=t,this._factories=new Map;for(var l=0;l<n.length;l++){var r=n[l];this._factories.set(r.componentType,r)}}return n.prototype.resolveComponentFactory=function(n){var e=this._factories.get(n);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(n)),!e)throw Ce(n);return new ke(e,this._ngModule)},n}(),ke=function(n){function e(e,t){var l=n.call(this)||this;return l.factory=e,l.ngModule=t,l.selector=e.selector,l.componentType=e.componentType,l.ngContentSelectors=e.ngContentSelectors,l.inputs=e.inputs,l.outputs=e.outputs,l}return Object(l.__extends)(e,n),e.prototype.create=function(n,e,t,l){return this.factory.create(n,e,t,l||this.ngModule)},e}(we),Ae=function(){return function(){}}(),De=function(){return function(){}}(),xe=function(){function n(n){this.nativeElement=n}return n.__NG_ELEMENT_ID__=function(){return Ne(n)},n}(),Ne=ne,Oe=function(){return function(){}}(),Re=function(){return function(){}}(),Pe=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}({}),Me=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return Le()},n}(),Le=ne,Ve=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}({}),Ue=function(){return function(){}}(),qe=new(function(){return function(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}())("7.2.15"),Fe=!0,je=!1;function Be(){return je=!0,Fe}var Ke=function(){function n(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(n){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return n.prototype.getInertBodyElement_XHR=function(n){n="<body><remove></remove>"+n+"</body>";try{n=encodeURI(n)}catch(l){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+n,!1),e.send(void 0);var t=e.response.body;return t.removeChild(t.firstChild),t},n.prototype.getInertBodyElement_DOMParser=function(n){n="<body><remove></remove>"+n+"</body>";try{var e=(new window.DOMParser).parseFromString(n,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},n.prototype.getInertBodyElement_InertDocument=function(n){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=n,e):(this.inertBodyElement.innerHTML=n,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},n.prototype.stripCustomNsAttrs=function(n){for(var e=n.attributes,t=e.length-1;0<t;t--){var l=e.item(t).name;"xmlns:ns1"!==l&&0!==l.indexOf("ns1:")||n.removeAttribute(l)}for(var r=n.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},n}(),ze=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,He=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function We(n){return(n=String(n)).match(ze)||n.match(He)?n:(Be()&&console.warn("WARNING: sanitizing unsafe URL value "+n+" (see http://g.co/ng/security#xss)"),"unsafe:"+n)}function Ge(n){var e,t,r={};try{for(var i=Object(l.__values)(n.split(",")),o=i.next();!o.done;o=i.next())r[o.value]=!0}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}function Qe(){for(var n,e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i={};try{for(var o=Object(l.__values)(t),u=o.next();!u.done;u=o.next()){var a=u.value;for(var s in a)a.hasOwnProperty(s)&&(i[s]=!0)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return i}var Xe,Ye=Ge("area,br,col,hr,img,wbr"),$e=Ge("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=Ge("rp,rt"),Je=Qe(Ze,$e),nt=Qe(Ye,Qe($e,Ge("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qe(Ze,Ge("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Je),et=Ge("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tt=Ge("srcset"),lt=Qe(et,tt,Ge("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),rt=Ge("script,style,template"),it=function(){function n(){this.sanitizedSomething=!1,this.buf=[]}return n.prototype.sanitizeChildren=function(n){for(var e=n.firstChild,t=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var l=this.checkClobberedElement(e,e.nextSibling);if(l){e=l;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},n.prototype.startElement=function(n){var e,t=n.nodeName.toLowerCase();if(!nt.hasOwnProperty(t))return this.sanitizedSomething=!0,!rt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var l=n.attributes,r=0;r<l.length;r++){var i=l.item(r),o=i.name,u=o.toLowerCase();if(lt.hasOwnProperty(u)){var a=i.value;et[u]&&(a=We(a)),tt[u]&&(e=a,a=(e=String(e)).split(",").map(function(n){return We(n.trim())}).join(", ")),this.buf.push(" ",o,'="',at(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},n.prototype.endElement=function(n){var e=n.nodeName.toLowerCase();nt.hasOwnProperty(e)&&!Ye.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},n.prototype.chars=function(n){this.buf.push(at(n))},n.prototype.checkClobberedElement=function(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+n.outerHTML);return e},n}(),ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ut=/([^\#-~ |!])/g;function at(n){return n.replace(/&/g,"&amp;").replace(ot,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ut,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function st(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ct=function(n){function e(e){void 0===e&&(e=!1);var t=n.call(this)||this;return t.__isAsync=e,t}return Object(l.__extends)(e,n),e.prototype.emit=function(e){n.prototype.next.call(this,e)},e.prototype.subscribe=function(e,t,l){var r,i=function(n){return null},o=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(n){setTimeout(function(){return e.next(n)})}:function(n){e.next(n)},e.error&&(i=this.__isAsync?function(n){setTimeout(function(){return e.error(n)})}:function(n){e.error(n)}),e.complete&&(o=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(r=this.__isAsync?function(n){setTimeout(function(){return e(n)})}:function(n){e(n)},t&&(i=this.__isAsync?function(n){setTimeout(function(){return t(n)})}:function(n){t(n)}),l&&(o=this.__isAsync?function(){setTimeout(function(){return l()})}:function(){l()}));var u=n.prototype.subscribe.call(this,r,i,o);return e instanceof p&&e.add(u),u},e}(O),ht=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return dt(n,xe)},n}(),dt=ne,pt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ft=/^url\(([^)]+)\)$/,mt=function(){return function(){}}(),gt=En("Input",function(n){return{bindingPropertyName:n}},void 0,function(n){return function(n,e){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];var r=n.constructor;r.hasOwnProperty(mn)||function(n){var e=n.constructor,t=e.ngBaseDef,l=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};t&&(pn(l.inputs,t.inputs),pn(l.outputs,t.outputs),pn(l.declaredInputs,t.declaredInputs))}(n),(function(n){return n.inputs||{}}(r.ngBaseDef))[e]=t[0]}}()),yt=En("HostBinding",function(n){return{hostPropertyName:n}}),vt="ngDebugContext",bt="ngOriginalError",_t="ngErrorLogger";function wt(n){return n[vt]}function Ct(n){return n[bt]}function Et(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];n.error.apply(n,Object(l.__spread)(e))}var St=function(){function n(){this._console=console}return n.prototype.handleError=function(n){var e=this._findOriginalError(n),t=this._findContext(n),l=function(n){return n[_t]||Et}(n);l(this._console,"ERROR",n),e&&l(this._console,"ORIGINAL ERROR",e),t&&l(this._console,"ERROR CONTEXT",t)},n.prototype._findContext=function(n){return n?wt(n)?wt(n):this._findContext(Ct(n)):null},n.prototype._findOriginalError=function(n){for(var e=Ct(n);e&&Ct(e);)e=Ct(e);return e},n}();function Tt(n){return!!n&&"function"==typeof n.then}function It(n){return!!n&&"function"==typeof n.subscribe}var kt=new vn("Application Initializer"),At=function(){function n(n){var e=this;this.appInits=n,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(n,t){e.resolve=n,e.reject=t})}return n.prototype.runInitializers=function(){var n=this;if(!this.initialized){var e=[],t=function(){n.done=!0,n.resolve()};if(this.appInits)for(var l=0;l<this.appInits.length;l++){var r=this.appInits[l]();Tt(r)&&e.push(r)}Promise.all(e).then(function(){t()}).catch(function(e){n.reject(e)}),0===e.length&&t(),this.initialized=!0}},n}(),Dt=new vn("AppId");function xt(){return""+Nt()+Nt()+Nt()}function Nt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ot=new vn("Platform Initializer"),Rt=new vn("Platform ID"),Pt=new vn("appBootstrapListener"),Mt=function(){function n(){}return n.prototype.log=function(n){console.log(n)},n.prototype.warn=function(n){console.warn(n)},n}();function Lt(){throw new Error("Runtime compiler is not loaded")}var Vt,Ut,qt=Lt,Ft=Lt,jt=Lt,Bt=Lt,Kt=function(){function n(){this.compileModuleSync=qt,this.compileModuleAsync=Ft,this.compileModuleAndAllComponentsSync=jt,this.compileModuleAndAllComponentsAsync=Bt}return n.prototype.clearCache=function(){},n.prototype.clearCacheFor=function(n){},n.prototype.getModuleId=function(n){},n}(),zt=function(){return function(){}}();function Ht(){var n=kn.wtf;return!(!n||!(Vt=n.trace)||(Ut=Vt.events,0))}var Wt=Ht();function Gt(n,e){return null}var Qt=Wt?function(n,e){return void 0===e&&(e=null),Ut.createScope(n,e)}:function(n,e){return Gt},Xt=Wt?function(n,e){return Vt.leaveScope(n,e),e}:function(n,e){return e},Yt=function(){function n(n){var e,t=n.enableLongStackTrace,l=void 0!==t&&t;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,t,l,r,i,o){try{return nl(e),n.invokeTask(l,r,i,o)}finally{el(e)}},onInvoke:function(n,t,l,r,i,o,u){try{return nl(e),n.invoke(l,r,i,o,u)}finally{el(e)}},onHasTask:function(n,t,l,r){n.hasTask(l,r),t===l&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Jt(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(n,t,l,r){return n.handleError(l,r),e.runOutsideAngular(function(){return e.onError.emit(r)}),!1}})}return n.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},n.assertInAngularZone=function(){if(!n.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},n.assertNotInAngularZone=function(){if(n.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},n.prototype.run=function(n,e,t){return this._inner.run(n,e,t)},n.prototype.runTask=function(n,e,t,l){var r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+l,n,Zt,$t,$t);try{return r.runTask(i,e,t)}finally{r.cancelTask(i)}},n.prototype.runGuarded=function(n,e,t){return this._inner.runGuarded(n,e,t)},n.prototype.runOutsideAngular=function(n){return this._outer.run(n)},n}();function $t(){}var Zt={};function Jt(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(function(){return n.onStable.emit(null)})}finally{n.isStable=!0}}}function nl(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function el(n){n._nesting--,Jt(n)}var tl,ll=function(){function n(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}return n.prototype.run=function(n){return n()},n.prototype.runGuarded=function(n){return n()},n.prototype.runOutsideAngular=function(n){return n()},n.prototype.runTask=function(n){return n()},n}(),rl=function(){function n(n){var e=this;this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return n.prototype._watchAngularEvents=function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){n._ngZone.onStable.subscribe({next:function(){Yt.assertNotInAngularZone(),Nn(function(){n._isZoneStable=!0,n._runCallbacksIfReady()})}})})},n.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},n.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},n.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},n.prototype._runCallbacksIfReady=function(){var n=this;if(this.isStable())Nn(function(){for(;0!==n._callbacks.length;){var e=n._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(n._didWork)}n._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(n){return!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)}),this._didWork=!0}},n.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}}):[]},n.prototype.addCallback=function(n,e,t){var l=this,r=-1;e&&e>0&&(r=setTimeout(function(){l._callbacks=l._callbacks.filter(function(n){return n.timeoutId!==r}),n(l._didWork,l.getPendingTasks())},e)),this._callbacks.push({doneCb:n,timeoutId:r,updateCb:t})},n.prototype.whenStable=function(n,e,t){if(t&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(n,e,t),this._runCallbacksIfReady()},n.prototype.getPendingRequestCount=function(){return this._pendingCount},n.prototype.findProviders=function(n,e,t){return[]},n}(),il=function(){function n(){this._applications=new Map,ol.addToWindow(this)}return n.prototype.registerApplication=function(n,e){this._applications.set(n,e)},n.prototype.unregisterApplication=function(n){this._applications.delete(n)},n.prototype.unregisterAllApplications=function(){this._applications.clear()},n.prototype.getTestability=function(n){return this._applications.get(n)||null},n.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},n.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},n.prototype.findTestabilityInTree=function(n,e){return void 0===e&&(e=!0),ol.findTestabilityInTree(this,n,e)},Object(l.__decorate)([Object(l.__metadata)("design:paramtypes",[])],n)}(),ol=new(function(){function n(){}return n.prototype.addToWindow=function(n){},n.prototype.findTestabilityInTree=function(n,e,t){return null},n}()),ul=new vn("AllowMultipleToken"),al=function(){return function(n,e){this.name=n,this.token=e}}();function sl(n,e,t){void 0===t&&(t=[]);var l="Platform: "+e,r=new vn(l);return function(e){void 0===e&&(e=[]);var i=cl();if(!i||i.injector.get(ul,!1))if(n)n(t.concat(e).concat({provide:r,useValue:!0}));else{var o=t.concat(e).concat({provide:r,useValue:!0});!function(n){if(tl&&!tl.destroyed&&!tl.injector.get(ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tl=n.get(hl);var e=n.get(Ot,null);e&&e.forEach(function(n){return n()})}(ie.create({providers:o,name:l}))}return function(n){var e=cl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function cl(){return tl&&!tl.destroyed?tl:null}var hl=function(){function n(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return n.prototype.bootstrapModuleFactory=function(n,e){var t,l=this,r="noop"===(t=e?e.ngZone:void 0)?new ll:("zone.js"===t?void 0:t)||new Yt({enableLongStackTrace:Be()}),i=[{provide:Yt,useValue:r}];return r.run(function(){var e=ie.create({providers:i,parent:l.injector,name:n.moduleType.name}),t=n.create(e),o=t.injector.get(St,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return t.onDestroy(function(){return fl(l._modules,t)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(n){o.handleError(n)}})}),function(n,e,r){try{var i=((o=t.injector.get(At)).runInitializers(),o.donePromise.then(function(){return l._moduleDoBootstrap(t),t}));return Tt(i)?i.catch(function(t){throw e.runOutsideAngular(function(){return n.handleError(t)}),t}):i}catch(u){throw e.runOutsideAngular(function(){return n.handleError(u)}),u}var o}(o,r)})},n.prototype.bootstrapModule=function(n,e){var t=this;void 0===e&&(e=[]);var l=dl({},e);return function(n,e,t){return n.get(zt).createCompiler([e]).compileModuleAsync(t)}(this.injector,l,n).then(function(n){return t.bootstrapModuleFactory(n,l)})},n.prototype._moduleDoBootstrap=function(n){var e=n.injector.get(pl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(function(n){return e.bootstrap(n)});else{if(!n.instance.ngDoBootstrap)throw new Error("The module "+Rn(n.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');n.instance.ngDoBootstrap(e)}this._modules.push(n)},n.prototype.onDestroy=function(n){this._destroyListeners.push(n)},Object.defineProperty(n.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(n){return n.destroy()}),this._destroyListeners.forEach(function(n){return n()}),this._destroyed=!0},Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),n}();function dl(n,e){return Array.isArray(e)?e.reduce(dl,n):Object(l.__assign)({},n,e)}var pl=function(){function n(n,e,t,l,r,i){var o=this;this._zone=n,this._console=e,this._injector=t,this._exceptionHandler=l,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Be(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var u=new I(function(n){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){n.next(o._stable),n.complete()})}),a=new I(function(n){var e;o._zone.runOutsideAngular(function(){e=o._zone.onStable.subscribe(function(){Yt.assertNotInAngularZone(),Nn(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,n.next(!0))})})});var t=o._zone.onUnstable.subscribe(function(){Yt.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){n.next(!1)}))});return function(){e.unsubscribe(),t.unsubscribe()}});this.isStable=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Number.POSITIVE_INFINITY,l=null,r=n[n.length-1];return P(r)?(l=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof r&&(t=n.pop()),null===l&&1===n.length&&n[0]instanceof I?n[0]:tn(t)(Y(n,l))}(u,a.pipe(hn()))}var e;return e=n,n.prototype.bootstrap=function(n,e){var t,l=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");t=n instanceof we?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(t.componentType);var r=t instanceof ke?null:this._injector.get(Ae),i=t.create(ie.NULL,[],e||t.selector,r);i.onDestroy(function(){l._unloadComponent(i)});var o=i.injector.get(rl,null);return o&&i.injector.get(il).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Be()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},n.prototype.tick=function(){var n=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(n){return n.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(n){return n.checkNoChanges()})}catch(l){this._zone.runOutsideAngular(function(){return n._exceptionHandler.handleError(l)})}finally{this._runningTick=!1,Xt(t)}},n.prototype.attachView=function(n){var e=n;this._views.push(e),e.attachToAppRef(this)},n.prototype.detachView=function(n){var e=n;fl(this._views,e),e.detachFromAppRef()},n.prototype._loadComponent=function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Pt,[]).concat(this._bootstrapListeners).forEach(function(e){return e(n)})},n.prototype._unloadComponent=function(n){this.detachView(n.hostView),fl(this.components,n)},n.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(n){return n.destroy()})},Object.defineProperty(n.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),n._tickScope=Qt("ApplicationRef#tick()"),n}();function fl(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var ml=function(){function n(){this.dirty=!0,this._results=[],this.changes=new ct,this.length=0}return n.prototype.map=function(n){return this._results.map(n)},n.prototype.filter=function(n){return this._results.filter(n)},n.prototype.find=function(n){return this._results.find(n)},n.prototype.reduce=function(n,e){return this._results.reduce(n,e)},n.prototype.forEach=function(n){this._results.forEach(n)},n.prototype.some=function(n){return this._results.some(n)},n.prototype.toArray=function(){return this._results.slice()},n.prototype[xn()]=function(){return this._results[xn()]()},n.prototype.toString=function(){return this._results.toString()},n.prototype.reset=function(n){this._results=function n(e){return e.reduce(function(e,t){var l=Array.isArray(t)?n(t):t;return e.concat(l)},[])}(n),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},n.prototype.notifyOnChanges=function(){this.changes.emit(this)},n.prototype.setDirty=function(){this.dirty=!0},n.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},n}(),gl=function(){return function(){}}(),yl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},vl=function(){function n(n,e){this._compiler=n,this._config=e||yl}return n.prototype.load=function(n){return this._compiler instanceof Kt?this.loadFactory(n):this.loadAndCompile(n)},n.prototype.loadAndCompile=function(n){var e=this,r=Object(l.__read)(n.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),t("crnd")(i).then(function(n){return n[o]}).then(function(n){return bl(n,i,o)}).then(function(n){return e._compiler.compileModuleAsync(n)})},n.prototype.loadFactory=function(n){var e=Object(l.__read)(n.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),t("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(n){return n[i+o]}).then(function(n){return bl(n,r,i)})},n}();function bl(n,e,t){if(!n)throw new Error("Cannot find '"+t+"' in '"+e+"'");return n}var _l=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return wl(n,xe)},n}(),wl=ne,Cl=function(){function n(){}return n.__NG_ELEMENT_ID__=function(){return El()},n}(),El=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e]},Sl=function(){return function(n,e){this.name=n,this.callback=e}}(),Tl=function(){function n(n,e,t){this.listeners=[],this.parent=null,this._debugContext=t,this.nativeNode=n,e&&e instanceof Il&&e.addChild(this)}return Object.defineProperty(n.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),n}(),Il=function(n){function e(e,t,l){var r=n.call(this,e,t,l)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Object(l.__extends)(e,n),e.prototype.addChild=function(n){n&&(this.childNodes.push(n),n.parent=this)},e.prototype.removeChild=function(n){var e=this.childNodes.indexOf(n);-1!==e&&(n.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(n,e){var t,r=this,i=this.childNodes.indexOf(n);-1!==i&&((t=this.childNodes).splice.apply(t,Object(l.__spread)([i+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),n.parent=r}))},e.prototype.insertBefore=function(n,e){var t=this.childNodes.indexOf(n);-1===t?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(t,0,e))},e.prototype.query=function(n){return this.queryAll(n)[0]||null},e.prototype.queryAll=function(n){var e=[];return function n(e,t,l){e.childNodes.forEach(function(e){e instanceof Il&&(t(e)&&l.push(e),n(e,t,l))})}(this,n,e),e},e.prototype.queryAllNodes=function(n){var e=[];return function n(e,t,l){e instanceof Il&&e.childNodes.forEach(function(e){t(e)&&l.push(e),e instanceof Il&&n(e,t,l)})}(this,n,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(n){return n instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(n,e){this.listeners.forEach(function(t){t.name==n&&t.callback(e)})},e}(Tl),kl=new Map,Al=function(n){return kl.get(n)||null};function Dl(n){kl.set(n.nativeNode,n)}var xl=function(){function n(){}return n.prototype.supports=function(n){return Zn(n)},n.prototype.create=function(n){return new Ol(n)},n}(),Nl=function(n,e){return e},Ol=function(){function n(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Nl}return n.prototype.forEachItem=function(n){var e;for(e=this._itHead;null!==e;e=e._next)n(e)},n.prototype.forEachOperation=function(n){for(var e=this._itHead,t=this._removalsHead,l=0,r=null;e||t;){var i=!t||e&&e.currentIndex<Ll(t,l,r)?e:t,o=Ll(i,l,r),u=i.currentIndex;if(i===t)l--,t=t._nextRemoved;else if(e=e._next,null==i.previousIndex)l++;else{r||(r=[]);var a=o-l,s=u-l;if(a!=s){for(var c=0;c<a;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;s<=d&&d<a&&(r[c]=h+1)}r[i.previousIndex]=s-a}}o!==u&&n(i,o,u)}},n.prototype.forEachPreviousItem=function(n){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)},n.prototype.forEachAddedItem=function(n){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)},n.prototype.forEachMovedItem=function(n){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)},n.prototype.forEachRemovedItem=function(n){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)},n.prototype.forEachIdentityChange=function(n){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)},n.prototype.diff=function(n){if(null==n&&(n=[]),!Zn(n))throw new Error("Error trying to diff '"+Rn(n)+"'. Only arrays and iterables are allowed");return this.check(n)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(n){var e=this;this._reset();var t,l,r,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(var u=0;u<this.length;u++)r=this._trackByFn(u,l=n[u]),null!==i&&On(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,l,r,u)),On(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,r,u),o=!0),i=i._next}else t=0,function(n,e){if(Array.isArray(n))for(var t=0;t<n.length;t++)e(n[t]);else for(var l=n[xn()](),r=void 0;!(r=l.next()).done;)e(r.value)}(n,function(n){r=e._trackByFn(t,n),null!==i&&On(i.trackById,r)?(o&&(i=e._verifyReinsertion(i,n,r,t)),On(i.item,n)||e._addIdentityChange(i,n)):(i=e._mismatch(i,n,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=n,this.isDirty},Object.defineProperty(n.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),n.prototype._reset=function(){if(this.isDirty){var n=void 0,e=void 0;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=e)n.previousIndex=n.currentIndex,e=n._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},n.prototype._mismatch=function(n,e,t,l){var r;return null===n?r=this._itTail:(r=n._prev,this._remove(n)),null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(t,l))?(On(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,l)):null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(On(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,l)):n=this._addAfter(new Rl(e,t),r,l),n},n.prototype._verifyReinsertion=function(n,e,t,l){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==r?n=this._reinsertAfter(r,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n},n.prototype._truncate=function(n){for(;null!==n;){var e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},n.prototype._reinsertAfter=function(n,e,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);var l=n._prevRemoved,r=n._nextRemoved;return null===l?this._removalsHead=r:l._nextRemoved=r,null===r?this._removalsTail=l:r._prevRemoved=l,this._insertAfter(n,e,t),this._addToMoves(n,t),n},n.prototype._moveAfter=function(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n},n.prototype._addAfter=function(n,e,t){return this._insertAfter(n,e,t),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n},n.prototype._insertAfter=function(n,e,t){var l=null===e?this._itHead:e._next;return n._next=l,n._prev=e,null===l?this._itTail=n:l._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ml),this._linkedRecords.put(n),n.currentIndex=t,n},n.prototype._remove=function(n){return this._addToRemovals(this._unlink(n))},n.prototype._unlink=function(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);var e=n._prev,t=n._next;return null===e?this._itHead=t:e._next=t,null===t?this._itTail=e:t._prev=e,n},n.prototype._addToMoves=function(n,e){return n.previousIndex===e?n:(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n,n)},n.prototype._addToRemovals=function(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ml),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n},n.prototype._addIdentityChange=function(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n},n}(),Rl=function(){return function(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pl=function(){function n(){this._head=null,this._tail=null}return n.prototype.add=function(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)},n.prototype.get=function(n,e){var t;for(t=this._head;null!==t;t=t._nextDup)if((null===e||e<=t.currentIndex)&&On(t.trackById,n))return t;return null},n.prototype.remove=function(n){var e=n._prevDup,t=n._nextDup;return null===e?this._head=t:e._nextDup=t,null===t?this._tail=e:t._prevDup=e,null===this._head},n}(),Ml=function(){function n(){this.map=new Map}return n.prototype.put=function(n){var e=n.trackById,t=this.map.get(e);t||(t=new Pl,this.map.set(e,t)),t.add(n)},n.prototype.get=function(n,e){var t=this.map.get(n);return t?t.get(n,e):null},n.prototype.remove=function(n){var e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.map.clear()},n}();function Ll(n,e,t){var l=n.previousIndex;if(null===l)return l;var r=0;return t&&l<t.length&&(r=t[l]),l+e+r}var Vl=function(){function n(){}return n.prototype.supports=function(n){return n instanceof Map||Jn(n)},n.prototype.create=function(){return new Ul},n}(),Ul=function(){function n(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(n.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),n.prototype.forEachItem=function(n){var e;for(e=this._mapHead;null!==e;e=e._next)n(e)},n.prototype.forEachPreviousItem=function(n){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)},n.prototype.forEachChangedItem=function(n){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)},n.prototype.forEachAddedItem=function(n){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)},n.prototype.forEachRemovedItem=function(n){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)},n.prototype.diff=function(n){if(n){if(!(n instanceof Map||Jn(n)))throw new Error("Error trying to diff '"+Rn(n)+"'. Only maps and objects are allowed")}else n=new Map;return this.check(n)?this:null},n.prototype.onDestroy=function(){},n.prototype.check=function(n){var e=this;this._reset();var t=this._mapHead;if(this._appendAfter=null,this._forEach(n,function(n,l){if(t&&t.key===l)e._maybeAddToChanges(t,n),e._appendAfter=t,t=t._next;else{var r=e._getOrCreateRecordForKey(l,n);t=e._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(var l=t;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},n.prototype._insertBeforeOrAppend=function(n,e){if(n){var t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},n.prototype._getOrCreateRecordForKey=function(n,e){if(this._records.has(n)){var t=this._records.get(n);this._maybeAddToChanges(t,e);var l=t._prev,r=t._next;return l&&(l._next=r),r&&(r._prev=l),t._next=null,t._prev=null,t}var i=new ql(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i},n.prototype._reset=function(){if(this.isDirty){var n=void 0;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},n.prototype._maybeAddToChanges=function(n,e){On(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))},n.prototype._addToAdditions=function(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)},n.prototype._addToChanges=function(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)},n.prototype._forEach=function(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(function(t){return e(n[t],t)})},n}(),ql=function(){return function(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Fl=function(){function n(n){this.factories=n}return n.create=function(e,t){if(null!=t){var l=t.factories.slice();e=e.concat(l)}return new n(e)},n.extend=function(e){return{provide:n,useFactory:function(t){if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return n.create(e,t)},deps:[[n,new Bn,new Fn]]}},n.prototype.find=function(n){var e,t=this.factories.find(function(e){return e.supports(n)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '"+n+"' of type '"+((e=n).name||typeof e)+"'")},n.ngInjectableDef=gn({providedIn:"root",factory:function(){return new n([new xl])}}),n}(),jl=function(){function n(n){this.factories=n}return n.create=function(e,t){if(t){var l=t.factories.slice();e=e.concat(l)}return new n(e)},n.extend=function(e){return{provide:n,useFactory:function(t){if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return n.create(e,t)},deps:[[n,new Bn,new Fn]]}},n.prototype.find=function(n){var e=this.factories.find(function(e){return e.supports(n)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+n+"'")},n.ngInjectableDef=gn({providedIn:"root",factory:function(){return new n([new Vl])}}),n}(),Bl=[new Vl],Kl=new Fl([new xl]),zl=new jl(Bl),Hl=sl(null,"core",[{provide:Rt,useValue:"unknown"},{provide:hl,deps:[ie]},{provide:il,deps:[]},{provide:Mt,deps:[]}]),Wl=new vn("LocaleId");function Gl(){return Kl}function Ql(){return zl}function Xl(n){return n||"en-US"}var Yl=function(){return function(n){}}();function $l(n,e,t){var l=n.state,r=1792&l;return r===e?(n.state=-1793&l|t,n.initIndex=-1,!0):r===t}function Zl(n,e,t){return(1792&n.state)===e&&n.initIndex<=t&&(n.initIndex=t+1,!0)}function Jl(n,e){return n.nodes[e]}function nr(n,e){return n.nodes[e]}function er(n,e){return n.nodes[e]}function tr(n,e){return n.nodes[e]}function lr(n,e){return n.nodes[e]}var rr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function ir(n,e,t,l){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+t+"'.";return l&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(n,e){var t=new Error(n);return or(t,e),t}(r,n)}function or(n,e){n[vt]=e,n[_t]=e.logError.bind(e)}function ur(n){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+n)}var ar=function(){},sr=new Map;function cr(n){var e=sr.get(n);return e||(e=Rn(n)+"_"+sr.size,sr.set(n,e)),e}function hr(n,e,t,l){if(Yn.isWrapped(l)){l=Yn.unwrap(l);var r=n.def.nodes[e].bindingIndex+t,i=Yn.unwrap(n.oldValues[r]);n.oldValues[r]=new Yn(i)}return l}var dr="$$undefined",pr="$$empty";function fr(n){return{id:dr,styles:n.styles,encapsulation:n.encapsulation,data:n.data}}var mr=0;function gr(n,e,t,l){return!(!(2&n.state)&&On(n.oldValues[e.bindingIndex+t],l))}function yr(n,e,t,l){return!!gr(n,e,t,l)&&(n.oldValues[e.bindingIndex+t]=l,!0)}function vr(n,e,t,l){var r=n.oldValues[e.bindingIndex+t];if(1&n.state||!Xn(r,l)){var i=e.bindings[t].name;throw ir(rr.createDebugContext(n,e.nodeIndex),i+": "+r,i+": "+l,0!=(1&n.state))}}function br(n){for(var e=n;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function _r(n,e){for(var t=n;t&&t!==e;)t.state|=64,t=t.viewContainerParent||t.parent}function wr(n,e,t,l){try{return br(33554432&n.def.nodes[e].flags?nr(n,e).componentView:n),rr.handleEvent(n,e,t,l)}catch(r){n.root.errorHandler.handleError(r)}}function Cr(n){return n.parent?nr(n.parent,n.parentNodeDef.nodeIndex):null}function Er(n){return n.parent?n.parentNodeDef.parent:null}function Sr(n,e){switch(201347067&e.flags){case 1:return nr(n,e.nodeIndex).renderElement;case 2:return Jl(n,e.nodeIndex).renderText}}function Tr(n){return!!n.parent&&!!(32768&n.parentNodeDef.flags)}function Ir(n){return!(!n.parent||32768&n.parentNodeDef.flags)}function kr(n){return 1<<n%32}function Ar(n){var e={},t=0,r={};return n&&n.forEach(function(n){var i=Object(l.__read)(n,2),o=i[0],u=i[1];"number"==typeof o?(e[o]=u,t|=kr(o)):r[o]=u}),{matchedQueries:e,references:r,matchedQueryIds:t}}function Dr(n,e){return n.map(function(n){var t,r,i;return Array.isArray(n)?(i=(t=Object(l.__read)(n,2))[0],r=t[1]):(i=0,r=n),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,ee,{value:e,configurable:!0}),{flags:i,token:r,tokenKey:cr(r)}})}function xr(n,e,t){var l=t.renderParent;return l?0==(1&l.flags)||0==(33554432&l.flags)||l.element.componentRendererType&&l.element.componentRendererType.encapsulation===Un.Native?nr(n,t.renderParent.nodeIndex).renderElement:void 0:e}var Nr=new WeakMap;function Or(n){var e=Nr.get(n);return e||((e=n(function(){return ar})).factory=n,Nr.set(n,e)),e}function Rr(n,e,t,l,r){3===e&&(t=n.renderer.parentNode(Sr(n,n.def.lastRenderRootNode))),Pr(n,e,0,n.def.nodes.length-1,t,l,r)}function Pr(n,e,t,l,r,i,o){for(var u=t;u<=l;u++){var a=n.def.nodes[u];11&a.flags&&Lr(n,a,e,r,i,o),u+=a.childCount}}function Mr(n,e,t,l,r,i){for(var o=n;o&&!Tr(o);)o=o.parent;for(var u=o.parent,a=Er(o),s=a.nodeIndex+a.childCount,c=a.nodeIndex+1;c<=s;c++){var h=u.def.nodes[c];h.ngContentIndex===e&&Lr(u,h,t,l,r,i),c+=h.childCount}if(!u.parent){var d=n.root.projectableNodes[e];if(d)for(c=0;c<d.length;c++)Vr(n,d[c],t,l,r,i)}}function Lr(n,e,t,l,r,i){if(8&e.flags)Mr(n,e.ngContent.index,t,l,r,i);else{var o=Sr(n,e);if(3===t&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Vr(n,o,t,l,r,i),32&e.bindingFlags&&Vr(nr(n,e.nodeIndex).componentView,o,t,l,r,i)):Vr(n,o,t,l,r,i),16777216&e.flags)for(var u=nr(n,e.nodeIndex).viewContainer._embeddedViews,a=0;a<u.length;a++)Rr(u[a],t,l,r,i);1&e.flags&&!e.element.name&&Pr(n,t,e.nodeIndex+1,e.nodeIndex+e.childCount,l,r,i)}}function Vr(n,e,t,l,r,i){var o=n.renderer;switch(t){case 1:o.appendChild(l,e);break;case 2:o.insertBefore(l,e,r);break;case 3:o.removeChild(l,e);break;case 0:i.push(e)}}var Ur=/^:([^:]+):(.+)$/;function qr(n){if(":"===n[0]){var e=n.match(Ur);return[e[1],e[2]]}return["",n]}function Fr(n){for(var e=0,t=0;t<n.length;t++)e|=n[t].flags;return e}function jr(n,e,t,l,r,i){n|=1;var o=Ar(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:n,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o.matchedQueries,matchedQueryIds:o.matchedQueryIds,references:o.references,ngContentIndex:t,childCount:l,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Or(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ar},provider:null,text:null,query:null,ngContent:null}}function Br(n,e,t,r,i,o,u,a,s,c,h,d){var p;void 0===u&&(u=[]),c||(c=ar);var f=Ar(t),m=f.matchedQueries,g=f.references,y=f.matchedQueryIds,v=null,b=null;o&&(v=(p=Object(l.__read)(qr(o),2))[0],b=p[1]),a=a||[];for(var _=new Array(a.length),w=0;w<a.length;w++){var C=Object(l.__read)(a[w],3),E=C[0],S=C[1],T=C[2],I=Object(l.__read)(qr(S),2),k=I[0],A=I[1],D=void 0,x=void 0;switch(15&E){case 4:x=T;break;case 1:case 8:D=T}_[w]={flags:E,ns:k,name:A,nonMinifiedName:A,securityContext:D,suffix:x}}s=s||[];var N=new Array(s.length);for(w=0;w<s.length;w++){var O=Object(l.__read)(s[w],2);N[w]={type:0,target:O[0],eventName:O[1],propName:null}}var R=(u=u||[]).map(function(n){var e=Object(l.__read)(n,2),t=e[0],r=e[1],i=Object(l.__read)(qr(t),2);return[i[0],i[1],r]});return d=function(n){if(n&&n.id===dr){var e=null!=n.encapsulation&&n.encapsulation!==Un.None||n.styles.length||Object.keys(n.data).length;n.id=e?"c"+mr++:pr}return n&&n.id===pr&&(n=null),n||null}(d),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Fr(_),outputs:N,element:{ns:v,name:b,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||ar},provider:null,text:null,query:null,ngContent:null}}function Kr(n,e,t){var r,i=t.element,o=n.root.selectorOrNode,u=n.renderer;if(n.parent||!o){r=i.name?u.createElement(i.name,i.ns):u.createComment("");var a=xr(n,e,t);a&&u.appendChild(a,r)}else r=u.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Un.ShadowDom);if(i.attrs)for(var s=0;s<i.attrs.length;s++){var c=Object(l.__read)(i.attrs[s],3);u.setAttribute(r,c[1],c[2],c[0])}return r}function zr(n,e,t,l){for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=Hr(n,t.nodeIndex,(h=i.eventName,(c=i.target)?c+":"+h:h)),u=i.target,a=n;"component"===i.target&&(u=null,a=e);var s=a.renderer.listen(u||l,i.eventName,o);n.disposables[t.outputIndex+r]=s}var c,h}function Hr(n,e,t){return function(l){return wr(n,e,t,l)}}function Wr(n,e,t,l){if(!yr(n,e,t,l))return!1;var r=e.bindings[t],i=nr(n,e.nodeIndex),o=i.renderElement,u=r.name;switch(15&r.flags){case 1:!function(n,e,t,l,r,i){var o=e.securityContext,u=o?n.root.sanitizer.sanitize(o,i):i;u=null!=u?u.toString():null;var a=n.renderer;null!=i?a.setAttribute(t,r,u,l):a.removeAttribute(t,r,l)}(n,r,o,r.ns,u,l);break;case 2:!function(n,e,t,l){var r=n.renderer;l?r.addClass(e,t):r.removeClass(e,t)}(n,o,u,l);break;case 4:!function(n,e,t,l,r){var i=n.root.sanitizer.sanitize(Ve.STYLE,r);if(null!=i){i=i.toString();var o=e.suffix;null!=o&&(i+=o)}else i=null;var u=n.renderer;null!=i?u.setStyle(t,l,i):u.removeStyle(t,l)}(n,r,o,u,l);break;case 8:!function(n,e,t,l,r){var i=e.securityContext,o=i?n.root.sanitizer.sanitize(i,r):r;n.renderer.setProperty(t,l,o)}(33554432&e.flags&&32&r.flags?i.componentView:n,r,o,u,l)}return!0}var Gr=new Object,Qr=cr(ie),Xr=cr(le),Yr=cr(Ae);function $r(n,e,t,l){return t=Ln(t),{index:-1,deps:Dr(l,Rn(e)),flags:n,token:e,value:t}}function Zr(n,e,t){void 0===t&&(t=ie.THROW_IF_NOT_FOUND);var l,r,i=Hn(n);try{if(8&e.flags)return e.token;if(2&e.flags&&(t=null),1&e.flags)return n._parent.get(e.token,t);var o=e.tokenKey;switch(o){case Qr:case Xr:case Yr:return n}var u,a=n._def.providersByKey[o];if(a){var s=n._providers[a.index];return void 0===s&&(s=n._providers[a.index]=Jr(n,a)),s===Gr?void 0:s}if((u=yn(e.token))&&(l=n,null!=(r=u).providedIn&&(function(n,e){return n._def.modules.indexOf(r.providedIn)>-1}(l)||"root"===r.providedIn&&l._def.isRoot))){var c=n._providers.length;return n._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:c,token:e.token},n._providers[c]=Gr,n._providers[c]=Jr(n,n._def.providersByKey[e.tokenKey])}return 4&e.flags?t:n._parent.get(e.token,t)}finally{Hn(i)}}function Jr(n,e){var t;switch(201347067&e.flags){case 512:t=function(n,e,t){var r=t.length;switch(r){case 0:return new e;case 1:return new e(Zr(n,t[0]));case 2:return new e(Zr(n,t[0]),Zr(n,t[1]));case 3:return new e(Zr(n,t[0]),Zr(n,t[1]),Zr(n,t[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Zr(n,t[o]);return new(e.bind.apply(e,Object(l.__spread)([void 0],i)))}}(n,e.value,e.deps);break;case 1024:t=function(n,e,t){var r=t.length;switch(r){case 0:return e();case 1:return e(Zr(n,t[0]));case 2:return e(Zr(n,t[0]),Zr(n,t[1]));case 3:return e(Zr(n,t[0]),Zr(n,t[1]),Zr(n,t[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Zr(n,t[o]);return e.apply(void 0,Object(l.__spread)(i))}}(n,e.value,e.deps);break;case 2048:t=Zr(n,e.deps[0]);break;case 256:t=e.value}return t===Gr||null==t||"object"!=typeof t||131072&e.flags||"function"!=typeof t.ngOnDestroy||(e.flags|=131072),void 0===t?Gr:t}function ni(n,e){var t=n.viewContainer._embeddedViews;if((null==e||e>=t.length)&&(e=t.length-1),e<0)return null;var l=t[e];return l.viewContainerParent=null,ri(t,e),rr.dirtyParentQueries(l),ti(l),l}function ei(n,e,t){var l=e?Sr(e,e.def.lastRenderRootNode):n.renderElement,r=t.renderer.parentNode(l),i=t.renderer.nextSibling(l);Rr(t,2,r,i,void 0)}function ti(n){Rr(n,3,null,null,void 0)}function li(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ri(n,e){e>=n.length-1?n.pop():n.splice(e,1)}var ii=new Object;function oi(n,e,t,l,r,i){return new ui(n,e,t,l,r,i)}var ui=function(n){function e(e,t,l,r,i,o){var u=n.call(this)||this;return u.selector=e,u.componentType=t,u._inputs=r,u._outputs=i,u.ngContentSelectors=o,u.viewDefFactory=l,u}return Object(l.__extends)(e,n),Object.defineProperty(e.prototype,"inputs",{get:function(){var n=[],e=this._inputs;for(var t in e)n.push({propName:t,templateName:e[t]});return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var n=[];for(var e in this._outputs)n.push({propName:e,templateName:this._outputs[e]});return n},enumerable:!0,configurable:!0}),e.prototype.create=function(n,e,t,l){if(!l)throw new Error("ngModule should be provided");var r=Or(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,o=rr.createRootView(n,e||[],t,r,l,ii),u=er(o,i).instance;return t&&o.renderer.setAttribute(nr(o,0).renderElement,"ng-version",qe.full),new ai(o,new di(o),u)},e}(we),ai=function(n){function e(e,t,l){var r=n.call(this)||this;return r._view=e,r._viewRef=t,r._component=l,r._elDef=r._view.def.nodes[0],r.hostView=t,r.changeDetectorRef=t,r.instance=l,r}return Object(l.__extends)(e,n),Object.defineProperty(e.prototype,"location",{get:function(){return new xe(nr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new gi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(n){this._viewRef.onDestroy(n)},e}(_e);function si(n,e,t){return new ci(n,e,t)}var ci=function(){function n(n,e,t){this._view=n,this._elDef=e,this._data=t,this._embeddedViews=[]}return Object.defineProperty(n.prototype,"element",{get:function(){return new xe(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new gi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){for(var n=this._view,e=this._elDef.parent;!e&&n;)e=Er(n),n=n.parent;return n?new gi(n,e):new gi(this._view,null)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(var n=this._embeddedViews.length-1;n>=0;n--){var e=ni(this._data,n);rr.destroyView(e)}},n.prototype.get=function(n){var e=this._embeddedViews[n];if(e){var t=new di(e);return t.attachToViewContainerRef(this),t}return null},Object.defineProperty(n.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(n,e,t){var l=n.createEmbeddedView(e||{});return this.insert(l,t),l},n.prototype.createComponent=function(n,e,t,l,r){var i=t||this.parentInjector;r||n instanceof ke||(r=i.get(Ae));var o=n.create(i,l,void 0,r);return this.insert(o.hostView,e),o},n.prototype.insert=function(n,e){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var t,l,r,i,o=n;return i=(t=this._data).viewContainer._embeddedViews,null==(l=e)&&(l=i.length),(r=o._view).viewContainerParent=this._view,li(i,l,r),function(n,e){var t=Cr(e);if(t&&t!==n&&!(16&e.state)){e.state|=16;var l=t.template._projectedViews;l||(l=t.template._projectedViews=[]),l.push(e),function(n,t){if(!(4&t.flags)){e.parent.def.nodeFlags|=4,t.flags|=4;for(var l=t.parent;l;)l.childFlags|=4,l=l.parent}}(0,e.parentNodeDef)}}(t,r),rr.dirtyParentQueries(r),ei(t,l>0?i[l-1]:null,r),o.attachToViewContainerRef(this),n},n.prototype.move=function(n,e){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var t,l,r,i,o,u=this._embeddedViews.indexOf(n._view);return r=e,o=(i=(t=this._data).viewContainer._embeddedViews)[l=u],ri(i,l),null==r&&(r=i.length),li(i,r,o),rr.dirtyParentQueries(o),ti(o),ei(t,r>0?i[r-1]:null,o),n},n.prototype.indexOf=function(n){return this._embeddedViews.indexOf(n._view)},n.prototype.remove=function(n){var e=ni(this._data,n);e&&rr.destroyView(e)},n.prototype.detach=function(n){var e=ni(this._data,n);return e?new di(e):null},n}();function hi(n){return new di(n)}var di=function(){function n(n){this._view=n,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(n.prototype,"rootNodes",{get:function(){return Rr(this._view,0,void 0,void 0,n=[]),n;var n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),n.prototype.markForCheck=function(){br(this._view)},n.prototype.detach=function(){this._view.state&=-5},n.prototype.detectChanges=function(){var n=this._view.root.rendererFactory;n.begin&&n.begin();try{rr.checkAndUpdateView(this._view)}finally{n.end&&n.end()}},n.prototype.checkNoChanges=function(){rr.checkNoChangesView(this._view)},n.prototype.reattach=function(){this._view.state|=4},n.prototype.onDestroy=function(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)},n.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),rr.destroyView(this._view)},n.prototype.detachFromAppRef=function(){this._appRef=null,ti(this._view),rr.dirtyParentQueries(this._view)},n.prototype.attachToAppRef=function(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n},n.prototype.attachToViewContainerRef=function(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n},n}();function pi(n,e){return new fi(n,e)}var fi=function(n){function e(e,t){var l=n.call(this)||this;return l._parentView=e,l._def=t,l}return Object(l.__extends)(e,n),e.prototype.createEmbeddedView=function(n){return new di(rr.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new xe(nr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(ht);function mi(n,e){return new gi(n,e)}var gi=function(){function n(n,e){this.view=n,this.elDef=e}return n.prototype.get=function(n,e){return void 0===e&&(e=ie.THROW_IF_NOT_FOUND),rr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:cr(n)},e)},n}();function yi(n,e){var t=n.def.nodes[e];if(1&t.flags){var l=nr(n,t.nodeIndex);return t.element.template?l.template:l.renderElement}if(2&t.flags)return Jl(n,t.nodeIndex).renderText;if(20240&t.flags)return er(n,t.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function vi(n){return new bi(n.renderer)}var bi=function(){function n(n){this.delegate=n}return n.prototype.selectRootElement=function(n){return this.delegate.selectRootElement(n)},n.prototype.createElement=function(n,e){var t=Object(l.__read)(qr(e),2),r=this.delegate.createElement(t[1],t[0]);return n&&this.delegate.appendChild(n,r),r},n.prototype.createViewRoot=function(n){return n},n.prototype.createTemplateAnchor=function(n){var e=this.delegate.createComment("");return n&&this.delegate.appendChild(n,e),e},n.prototype.createText=function(n,e){var t=this.delegate.createText(e);return n&&this.delegate.appendChild(n,t),t},n.prototype.projectNodes=function(n,e){for(var t=0;t<e.length;t++)this.delegate.appendChild(n,e[t])},n.prototype.attachViewAfter=function(n,e){for(var t=this.delegate.parentNode(n),l=this.delegate.nextSibling(n),r=0;r<e.length;r++)this.delegate.insertBefore(t,e[r],l)},n.prototype.detachView=function(n){for(var e=0;e<n.length;e++){var t=n[e],l=this.delegate.parentNode(t);this.delegate.removeChild(l,t)}},n.prototype.destroyView=function(n,e){for(var t=0;t<e.length;t++)this.delegate.destroyNode(e[t])},n.prototype.listen=function(n,e,t){return this.delegate.listen(n,e,t)},n.prototype.listenGlobal=function(n,e,t){return this.delegate.listen(n,e,t)},n.prototype.setElementProperty=function(n,e,t){this.delegate.setProperty(n,e,t)},n.prototype.setElementAttribute=function(n,e,t){var r=Object(l.__read)(qr(e),2),i=r[0],o=r[1];null!=t?this.delegate.setAttribute(n,o,t,i):this.delegate.removeAttribute(n,o,i)},n.prototype.setBindingDebugInfo=function(n,e,t){},n.prototype.setElementClass=function(n,e,t){t?this.delegate.addClass(n,e):this.delegate.removeClass(n,e)},n.prototype.setElementStyle=function(n,e,t){null!=t?this.delegate.setStyle(n,e,t):this.delegate.removeStyle(n,e)},n.prototype.invokeElementMethod=function(n,e,t){n[e].apply(n,t)},n.prototype.setText=function(n,e){this.delegate.setValue(n,e)},n.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},n}();function _i(n,e,t,l){return new wi(n,e,t,l)}var wi=function(){function n(n,e,t,l){this._moduleType=n,this._parent=e,this._bootstrapComponents=t,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(n){for(var e=n._def,t=n._providers=new Array(e.providers.length),l=0;l<e.providers.length;l++){var r=e.providers[l];4096&r.flags||void 0===t[l]&&(t[l]=Jr(n,r))}}(this)}return n.prototype.get=function(n,e,t){void 0===e&&(e=ie.THROW_IF_NOT_FOUND),void 0===t&&(t=Kn.Default);var l=0;return t&Kn.SkipSelf?l|=1:t&Kn.Self&&(l|=4),Zr(this,{token:n,tokenKey:cr(n),flags:l},e)},Object.defineProperty(n.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentFactoryResolver",{get:function(){return this.get(Te)},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Rn(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(n,e){for(var t=n._def,l=new Set,r=0;r<t.providers.length;r++)if(131072&t.providers[r].flags){var i=n._providers[r];if(i&&i!==Gr){var o=i.ngOnDestroy;"function"!=typeof o||l.has(i)||(o.apply(i),l.add(i))}}}(this),this._destroyListeners.forEach(function(n){return n()})},n.prototype.onDestroy=function(n){this._destroyListeners.push(n)},n}(),Ci=cr(Oe),Ei=cr(Me),Si=cr(xe),Ti=cr(_l),Ii=cr(ht),ki=cr(Cl),Ai=cr(ie),Di=cr(le);function xi(n,e,t,r,i,o,u,a){var s=[];if(u)for(var c in u){var h=Object(l.__read)(u[c],2);s[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var p in a)d.push({type:1,propName:p,target:null,eventName:a[p]});return Ri(n,e|=16384,t,r,i,i,o,s,d)}function Ni(n,e,t){return Ri(-1,n|=16,null,0,e,e,t)}function Oi(n,e,t,l,r){return Ri(-1,n,e,0,t,l,r)}function Ri(n,e,t,l,r,i,o,u,a){var s=Ar(t),c=s.matchedQueries,h=s.references,d=s.matchedQueryIds;a||(a=[]),u||(u=[]),i=Ln(i);var p=Dr(o,Rn(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:l,bindings:u,bindingFlags:Fr(u),outputs:a,element:null,provider:{token:r,value:i,deps:p},text:null,query:null,ngContent:null}}function Pi(n,e){return Ui(n,e)}function Mi(n,e){for(var t=n;t.parent&&!Tr(t);)t=t.parent;return qi(t.parent,Er(t),!0,e.provider.value,e.provider.deps)}function Li(n,e){var t=qi(n,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var l=0;l<e.outputs.length;l++){var r=e.outputs[l],i=t[r.propName];if(!It(i))throw new Error("@Output "+r.propName+" not initialized in '"+t.constructor.name+"'.");var o=i.subscribe(Vi(n,e.parent.nodeIndex,r.eventName));n.disposables[e.outputIndex+l]=o.unsubscribe.bind(o)}return t}function Vi(n,e,t){return function(l){return wr(n,e,t,l)}}function Ui(n,e){var t=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return qi(n,e.parent,t,r.value,r.deps);case 1024:return function(n,e,t,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ji(n,e,t,i[0]));case 2:return r(ji(n,e,t,i[0]),ji(n,e,t,i[1]));case 3:return r(ji(n,e,t,i[0]),ji(n,e,t,i[1]),ji(n,e,t,i[2]));default:for(var u=Array(o),a=0;a<o;a++)u[a]=ji(n,e,t,i[a]);return r.apply(void 0,Object(l.__spread)(u))}}(n,e.parent,t,r.value,r.deps);case 2048:return ji(n,e.parent,t,r.deps[0]);case 256:return r.value}}function qi(n,e,t,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ji(n,e,t,i[0]));case 2:return new r(ji(n,e,t,i[0]),ji(n,e,t,i[1]));case 3:return new r(ji(n,e,t,i[0]),ji(n,e,t,i[1]),ji(n,e,t,i[2]));default:for(var u=new Array(o),a=0;a<o;a++)u[a]=ji(n,e,t,i[a]);return new(r.bind.apply(r,Object(l.__spread)([void 0],u)))}}var Fi={};function ji(n,e,t,l,r){if(void 0===r&&(r=ie.THROW_IF_NOT_FOUND),8&l.flags)return l.token;var i=n;2&l.flags&&(r=null);var o=l.tokenKey;o===ki&&(t=!(!e||!e.element.componentView)),e&&1&l.flags&&(t=!1,e=e.parent);for(var u=n;u;){if(e)switch(o){case Ci:return vi(Bi(u,e,t));case Ei:return Bi(u,e,t).renderer;case Si:return new xe(nr(u,e.nodeIndex).renderElement);case Ti:return nr(u,e.nodeIndex).viewContainer;case Ii:if(e.element.template)return nr(u,e.nodeIndex).template;break;case ki:return hi(Bi(u,e,t));case Ai:case Di:return mi(u,e);default:var a=(t?e.element.allProviders:e.element.publicProviders)[o];if(a){var s=er(u,a.nodeIndex);return s||(s={instance:Ui(u,a)},u.nodes[a.nodeIndex]=s),s.instance}}t=Tr(u),e=Er(u),u=u.parent,4&l.flags&&(u=null)}var c=i.root.injector.get(l.token,Fi);return c!==Fi||r===Fi?c:i.root.ngModule.injector.get(l.token,r)}function Bi(n,e,t){var l;if(t)l=nr(n,e.nodeIndex).componentView;else for(l=n;l.parent&&!Tr(l);)l=l.parent;return l}function Ki(n,e,t,l,r,i){if(32768&t.flags){var o=nr(n,t.parent.nodeIndex).componentView;2&o.def.flags&&(o.state|=8)}if(e.instance[t.bindings[l].name]=r,524288&t.flags){i=i||{};var u=Yn.unwrap(n.oldValues[t.bindingIndex+l]);i[t.bindings[l].nonMinifiedName]=new $n(u,r,0!=(2&n.state))}return n.oldValues[t.bindingIndex+l]=r,i}function zi(n,e){if(n.def.nodeFlags&e)for(var t=n.def.nodes,l=0,r=0;r<t.length;r++){var i=t[r],o=i.parent;for(!o&&i.flags&e&&Wi(n,r,i.flags&e,l++),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(l=Hi(n,o,e,l)),o=o.parent}}function Hi(n,e,t,l){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=n.def.nodes[r];i.flags&t&&Wi(n,r,i.flags&t,l++),r+=i.childCount}return l}function Wi(n,e,t,l){var r=er(n,e);if(r){var i=r.instance;i&&(rr.setCurrentNode(n,e),1048576&t&&Zl(n,512,l)&&i.ngAfterContentInit(),2097152&t&&i.ngAfterContentChecked(),4194304&t&&Zl(n,768,l)&&i.ngAfterViewInit(),8388608&t&&i.ngAfterViewChecked(),131072&t&&i.ngOnDestroy())}}function Gi(n,e,t){var l=[];for(var r in t)l.push({propName:r,bindingType:t[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:kr(e),bindings:l},ngContent:null}}function Qi(n){for(var e=n.def.nodeMatchedQueries;n.parent&&Ir(n);){var t=n.parentNodeDef;n=n.parent;for(var l=t.nodeIndex+t.childCount,r=0;r<=l;r++)67108864&(i=n.def.nodes[r]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&lr(n,r).setDirty(),!(1&i.flags&&r+i.childCount<t.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}if(134217728&n.def.nodeFlags)for(r=0;r<n.def.nodes.length;r++){var i;134217728&(i=n.def.nodes[r]).flags&&536870912&i.flags&&lr(n,r).setDirty(),r+=i.childCount}}function Xi(n,e){var t=lr(n,e.nodeIndex);if(t.dirty){var l,r=void 0;if(67108864&e.flags){var i=e.parent.parent;r=Yi(n,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),l=er(n,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Yi(n,0,n.def.nodes.length-1,e.query,[]),l=n.component);t.reset(r);for(var o=e.query.bindings,u=!1,a=0;a<o.length;a++){var s=o[a],c=void 0;switch(s.bindingType){case 0:c=t.first;break;case 1:c=t,u=!0}l[s.propName]=c}u&&t.notifyOnChanges()}}function Yi(n,e,t,l,r){for(var i=e;i<=t;i++){var o=n.def.nodes[i],u=o.matchedQueries[l.id];if(null!=u&&r.push($i(n,o,u)),1&o.flags&&o.element.template&&(o.element.template.nodeMatchedQueries&l.filterId)===l.filterId){var a=nr(n,i);if((o.childMatchedQueries&l.filterId)===l.filterId&&(Yi(n,i+1,i+o.childCount,l,r),i+=o.childCount),16777216&o.flags)for(var s=a.viewContainer._embeddedViews,c=0;c<s.length;c++){var h=s[c],d=Cr(h);d&&d===a&&Yi(h,0,h.def.nodes.length-1,l,r)}var p=a.template._projectedViews;if(p)for(c=0;c<p.length;c++){var f=p[c];Yi(f,0,f.def.nodes.length-1,l,r)}}(o.childMatchedQueries&l.filterId)!==l.filterId&&(i+=o.childCount)}return r}function $i(n,e,t){if(null!=t)switch(t){case 1:return nr(n,e.nodeIndex).renderElement;case 0:return new xe(nr(n,e.nodeIndex).renderElement);case 2:return nr(n,e.nodeIndex).template;case 3:return nr(n,e.nodeIndex).viewContainer;case 4:return er(n,e.nodeIndex).instance}}function Zi(n,e,t){var l=xr(n,e,t);l&&Mr(n,t.ngContent.index,1,l,null,void 0)}function Ji(n,e){return eo(32,n,new Array(e))}function no(n,e){for(var t=Object.keys(e),l=t.length,r=new Array(l),i=0;i<l;i++){var o=t[i];r[e[o]]=o}return eo(64,n,r)}function eo(n,e,t){for(var l=new Array(t.length),r=0;r<t.length;r++){var i=t[r];l[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:l,bindingFlags:Fr(l),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function to(n,e,t){for(var l=new Array(t.length-1),r=1;r<t.length;r++)l[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:t[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:l,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:t[0]},query:null,ngContent:null}}function lo(n,e,t){var l,r=n.renderer;l=r.createText(t.text.prefix);var i=xr(n,e,t);return i&&r.appendChild(i,l),{renderText:l}}function ro(n,e){return(null!=n?n.toString():"")+e.suffix}function io(n,e,t,l){for(var r=0,i=0,o=0,u=0,a=0,s=null,c=null,h=!1,d=!1,p=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=s,m.bindingIndex=r,m.outputIndex=i,m.renderParent=c,o|=m.flags,a|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=s?s.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,m.element.template&&(a|=m.element.template.nodeMatchedQueries)}if(uo(s,m,e.length),r+=m.bindings.length,i+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?s.element.publicProviders[cr(m.provider.token)]=m:(d||(d=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[cr(m.provider.token)]=m),y&&(s.element.componentProvider=m)}if(s?(s.childFlags|=m.flags,s.directChildFlags|=m.flags,s.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(s.childMatchedQueries|=m.element.template.nodeMatchedQueries)):u|=m.flags,m.childCount>0)s=m,oo(m)||(c=m);else for(;s&&f===s.nodeIndex+s.childCount;){var v=s.parent;v&&(v.childFlags|=s.childFlags,v.childMatchedQueries|=s.childMatchedQueries),c=(s=v)&&oo(s)?s.renderParent:s}}return{factory:null,nodeFlags:o,rootNodeFlags:u,nodeMatchedQueries:a,flags:n,nodes:e,updateDirectives:t||ar,updateRenderer:l||ar,handleEvent:function(n,t,l,r){return e[t].element.handleEvent(n,l,r)},bindingCount:r,outputCount:i,lastRenderRootNode:p}}function oo(n){return 0!=(1&n.flags)&&null===n.element.name}function uo(n,e,t){var l=e.element&&e.element.template;if(l){if(!l.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(l.lastRenderRootNode&&16777216&l.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(n?n.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!n||0==(16384&n.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&n)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=n?n.nodeIndex+n.childCount:t-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function ao(n,e,t,l){var r=ho(n.root,n.renderer,n,e,t);return po(r,n.component,l),fo(r),r}function so(n,e,t){var l=ho(n,n.renderer,null,null,e);return po(l,t,t),fo(l),l}function co(n,e,t,l){var r,i=e.element.componentRendererType;return r=i?n.root.rendererFactory.createRenderer(l,i):n.root.renderer,ho(n.root,r,n,e.element.componentProvider,t)}function ho(n,e,t,l,r){var i=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:t,viewContainerParent:null,parentNodeDef:l,context:null,component:null,nodes:i,state:13,root:n,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function po(n,e,t){n.component=e,n.context=t}function fo(n){var e;Tr(n)&&(e=nr(n.parent,n.parentNodeDef.parent.nodeIndex).renderElement);for(var t=n.def,l=n.nodes,r=0;r<t.nodes.length;r++){var i=t.nodes[r];rr.setCurrentNode(n,r);var o=void 0;switch(201347067&i.flags){case 1:var u=Kr(n,e,i),a=void 0;if(33554432&i.flags){var s=Or(i.element.componentView);a=rr.createComponentView(n,i,s,u)}zr(n,a,i,u),o={renderElement:u,componentView:a,viewContainer:null,template:i.element.template?pi(n,i):void 0},16777216&i.flags&&(o.viewContainer=si(n,i,o));break;case 2:o=lo(n,e,i);break;case 512:case 1024:case 2048:case 256:(o=l[r])||4096&i.flags||(o={instance:Pi(n,i)});break;case 16:o={instance:Mi(n,i)};break;case 16384:(o=l[r])||(o={instance:Li(n,i)}),32768&i.flags&&po(nr(n,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ml;break;case 8:Zi(n,e,i),o=void 0}l[r]=o}Eo(n,Co.CreateViewNodes),ko(n,201326592,268435456,0)}function mo(n){vo(n),rr.updateDirectives(n,1),So(n,Co.CheckNoChanges),rr.updateRenderer(n,1),Eo(n,Co.CheckNoChanges),n.state&=-97}function go(n){1&n.state?(n.state&=-2,n.state|=2):n.state&=-3,$l(n,0,256),vo(n),rr.updateDirectives(n,0),So(n,Co.CheckAndUpdate),ko(n,67108864,536870912,0);var e=$l(n,256,512);zi(n,2097152|(e?1048576:0)),rr.updateRenderer(n,0),Eo(n,Co.CheckAndUpdate),ko(n,134217728,536870912,0),zi(n,8388608|((e=$l(n,512,768))?4194304:0)),2&n.def.flags&&(n.state&=-9),n.state&=-97,$l(n,768,1024)}function yo(n,e,t,r,i,o,u,a,s,c,h,d,p){return 0===t?function(n,e,t,l,r,i,o,u,a,s,c,h){switch(201347067&e.flags){case 1:return function(n,e,t,l,r,i,o,u,a,s,c,h){var d=e.bindings.length,p=!1;return d>0&&Wr(n,e,0,t)&&(p=!0),d>1&&Wr(n,e,1,l)&&(p=!0),d>2&&Wr(n,e,2,r)&&(p=!0),d>3&&Wr(n,e,3,i)&&(p=!0),d>4&&Wr(n,e,4,o)&&(p=!0),d>5&&Wr(n,e,5,u)&&(p=!0),d>6&&Wr(n,e,6,a)&&(p=!0),d>7&&Wr(n,e,7,s)&&(p=!0),d>8&&Wr(n,e,8,c)&&(p=!0),d>9&&Wr(n,e,9,h)&&(p=!0),p}(n,e,t,l,r,i,o,u,a,s,c,h);case 2:return function(n,e,t,l,r,i,o,u,a,s,c,h){var d=!1,p=e.bindings,f=p.length;if(f>0&&yr(n,e,0,t)&&(d=!0),f>1&&yr(n,e,1,l)&&(d=!0),f>2&&yr(n,e,2,r)&&(d=!0),f>3&&yr(n,e,3,i)&&(d=!0),f>4&&yr(n,e,4,o)&&(d=!0),f>5&&yr(n,e,5,u)&&(d=!0),f>6&&yr(n,e,6,a)&&(d=!0),f>7&&yr(n,e,7,s)&&(d=!0),f>8&&yr(n,e,8,c)&&(d=!0),f>9&&yr(n,e,9,h)&&(d=!0),d){var m=e.text.prefix;f>0&&(m+=ro(t,p[0])),f>1&&(m+=ro(l,p[1])),f>2&&(m+=ro(r,p[2])),f>3&&(m+=ro(i,p[3])),f>4&&(m+=ro(o,p[4])),f>5&&(m+=ro(u,p[5])),f>6&&(m+=ro(a,p[6])),f>7&&(m+=ro(s,p[7])),f>8&&(m+=ro(c,p[8])),f>9&&(m+=ro(h,p[9]));var g=Jl(n,e.nodeIndex).renderText;n.renderer.setValue(g,m)}return d}(n,e,t,l,r,i,o,u,a,s,c,h);case 16384:return function(n,e,t,l,r,i,o,u,a,s,c,h){var d=er(n,e.nodeIndex),p=d.instance,f=!1,m=void 0,g=e.bindings.length;return g>0&&gr(n,e,0,t)&&(f=!0,m=Ki(n,d,e,0,t,m)),g>1&&gr(n,e,1,l)&&(f=!0,m=Ki(n,d,e,1,l,m)),g>2&&gr(n,e,2,r)&&(f=!0,m=Ki(n,d,e,2,r,m)),g>3&&gr(n,e,3,i)&&(f=!0,m=Ki(n,d,e,3,i,m)),g>4&&gr(n,e,4,o)&&(f=!0,m=Ki(n,d,e,4,o,m)),g>5&&gr(n,e,5,u)&&(f=!0,m=Ki(n,d,e,5,u,m)),g>6&&gr(n,e,6,a)&&(f=!0,m=Ki(n,d,e,6,a,m)),g>7&&gr(n,e,7,s)&&(f=!0,m=Ki(n,d,e,7,s,m)),g>8&&gr(n,e,8,c)&&(f=!0,m=Ki(n,d,e,8,c,m)),g>9&&gr(n,e,9,h)&&(f=!0,m=Ki(n,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&Zl(n,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(n,e,t,l,r,i,o,u,a,s,c,h);case 32:case 64:case 128:return function(n,e,t,l,r,i,o,u,a,s,c,h){var d=e.bindings,p=!1,f=d.length;if(f>0&&yr(n,e,0,t)&&(p=!0),f>1&&yr(n,e,1,l)&&(p=!0),f>2&&yr(n,e,2,r)&&(p=!0),f>3&&yr(n,e,3,i)&&(p=!0),f>4&&yr(n,e,4,o)&&(p=!0),f>5&&yr(n,e,5,u)&&(p=!0),f>6&&yr(n,e,6,a)&&(p=!0),f>7&&yr(n,e,7,s)&&(p=!0),f>8&&yr(n,e,8,c)&&(p=!0),f>9&&yr(n,e,9,h)&&(p=!0),p){var m=tr(n,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=t),f>1&&(g[1]=l),f>2&&(g[2]=r),f>3&&(g[3]=i),f>4&&(g[4]=o),f>5&&(g[5]=u),f>6&&(g[6]=a),f>7&&(g[7]=s),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=t),f>1&&(g[d[1].name]=l),f>2&&(g[d[2].name]=r),f>3&&(g[d[3].name]=i),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=u),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=s),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:var y=t;switch(f){case 1:g=y.transform(t);break;case 2:g=y.transform(l);break;case 3:g=y.transform(l,r);break;case 4:g=y.transform(l,r,i);break;case 5:g=y.transform(l,r,i,o);break;case 6:g=y.transform(l,r,i,o,u);break;case 7:g=y.transform(l,r,i,o,u,a);break;case 8:g=y.transform(l,r,i,o,u,a,s);break;case 9:g=y.transform(l,r,i,o,u,a,s,c);break;case 10:g=y.transform(l,r,i,o,u,a,s,c,h)}}m.value=g}return p}(n,e,t,l,r,i,o,u,a,s,c,h);default:throw"unreachable"}}(n,e,r,i,o,u,a,s,c,h,d,p):function(n,e,t){switch(201347067&e.flags){case 1:return function(n,e,t){for(var l=!1,r=0;r<t.length;r++)Wr(n,e,r,t[r])&&(l=!0);return l}(n,e,t);case 2:return function(n,e,t){for(var l=e.bindings,r=!1,i=0;i<t.length;i++)yr(n,e,i,t[i])&&(r=!0);if(r){var o="";for(i=0;i<t.length;i++)o+=ro(t[i],l[i]);o=e.text.prefix+o;var u=Jl(n,e.nodeIndex).renderText;n.renderer.setValue(u,o)}return r}(n,e,t);case 16384:return function(n,e,t){for(var l=er(n,e.nodeIndex),r=l.instance,i=!1,o=void 0,u=0;u<t.length;u++)gr(n,e,u,t[u])&&(i=!0,o=Ki(n,l,e,u,t[u],o));return o&&r.ngOnChanges(o),65536&e.flags&&Zl(n,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),i}(n,e,t);case 32:case 64:case 128:return function(n,e,t){for(var r=e.bindings,i=!1,o=0;o<t.length;o++)yr(n,e,o,t[o])&&(i=!0);if(i){var u=tr(n,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=t;break;case 64:for(a={},o=0;o<t.length;o++)a[r[o].name]=t[o];break;case 128:var s=t[0],c=t.slice(1);a=s.transform.apply(s,Object(l.__spread)(c))}u.value=a}return i}(n,e,t);default:throw"unreachable"}}(n,e,r)}function vo(n){var e=n.def;if(4&e.nodeFlags)for(var t=0;t<e.nodes.length;t++){var l=e.nodes[t];if(4&l.flags){var r=nr(n,t).template._projectedViews;if(r)for(var i=0;i<r.length;i++){var o=r[i];o.state|=32,_r(o,n)}}else 0==(4&l.childFlags)&&(t+=l.childCount)}}function bo(n,e,t,l,r,i,o,u,a,s,c,h,d){return 0===t?function(n,e,t,l,r,i,o,u,a,s,c,h){var d=e.bindings.length;d>0&&vr(n,e,0,t),d>1&&vr(n,e,1,l),d>2&&vr(n,e,2,r),d>3&&vr(n,e,3,i),d>4&&vr(n,e,4,o),d>5&&vr(n,e,5,u),d>6&&vr(n,e,6,a),d>7&&vr(n,e,7,s),d>8&&vr(n,e,8,c),d>9&&vr(n,e,9,h)}(n,e,l,r,i,o,u,a,s,c,h,d):function(n,e,t){for(var l=0;l<t.length;l++)vr(n,e,l,t[l])}(n,e,l),!1}function _o(n,e){if(lr(n,e.nodeIndex).dirty)throw ir(rr.createDebugContext(n,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&n.state))}function wo(n){if(!(128&n.state)){if(So(n,Co.Destroy),Eo(n,Co.Destroy),zi(n,131072),n.disposables)for(var e=0;e<n.disposables.length;e++)n.disposables[e]();!function(n){if(16&n.state){var e=Cr(n);if(e){var t=e.template._projectedViews;t&&(ri(t,t.indexOf(n)),rr.dirtyParentQueries(n))}}}(n),n.renderer.destroyNode&&function(n){for(var e=n.def.nodes.length,t=0;t<e;t++){var l=n.def.nodes[t];1&l.flags?n.renderer.destroyNode(nr(n,t).renderElement):2&l.flags?n.renderer.destroyNode(Jl(n,t).renderText):(67108864&l.flags||134217728&l.flags)&&lr(n,t).destroy()}}(n),Tr(n)&&n.renderer.destroy(),n.state|=128}}var Co=function(n){return n[n.CreateViewNodes=0]="CreateViewNodes",n[n.CheckNoChanges=1]="CheckNoChanges",n[n.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",n[n.CheckAndUpdate=3]="CheckAndUpdate",n[n.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",n[n.Destroy=5]="Destroy",n}({});function Eo(n,e){var t=n.def;if(33554432&t.nodeFlags)for(var l=0;l<t.nodes.length;l++){var r=t.nodes[l];33554432&r.flags?To(nr(n,l).componentView,e):0==(33554432&r.childFlags)&&(l+=r.childCount)}}function So(n,e){var t=n.def;if(16777216&t.nodeFlags)for(var l=0;l<t.nodes.length;l++){var r=t.nodes[l];if(16777216&r.flags)for(var i=nr(n,l).viewContainer._embeddedViews,o=0;o<i.length;o++)To(i[o],e);else 0==(16777216&r.childFlags)&&(l+=r.childCount)}}function To(n,e){var t=n.state;switch(e){case Co.CheckNoChanges:0==(128&t)&&(12==(12&t)?mo(n):64&t&&Io(n,Co.CheckNoChangesProjectedViews));break;case Co.CheckNoChangesProjectedViews:0==(128&t)&&(32&t?mo(n):64&t&&Io(n,e));break;case Co.CheckAndUpdate:0==(128&t)&&(12==(12&t)?go(n):64&t&&Io(n,Co.CheckAndUpdateProjectedViews));break;case Co.CheckAndUpdateProjectedViews:0==(128&t)&&(32&t?go(n):64&t&&Io(n,e));break;case Co.Destroy:wo(n);break;case Co.CreateViewNodes:fo(n)}}function Io(n,e){So(n,e),Eo(n,e)}function ko(n,e,t,l){if(n.def.nodeFlags&e&&n.def.nodeFlags&t)for(var r=n.def.nodes.length,i=0;i<r;i++){var o=n.def.nodes[i];if(o.flags&e&&o.flags&t)switch(rr.setCurrentNode(n,o.nodeIndex),l){case 0:Xi(n,o);break;case 1:_o(n,o)}o.childFlags&e&&o.childFlags&t||(i+=o.childCount)}}var Ao=!1;function Do(n,e,t,l,r,i){var o=r.injector.get(Re);return so(No(n,r,o,e,t),l,i)}function xo(n,e,t,l,r,i){var o=r.injector.get(Re),u=No(n,r,new su(o),e,t),a=jo(l);return uu(Yo.create,so,null,[u,a,i])}function No(n,e,t,l,r){var i=e.injector.get(Ue),o=e.injector.get(St),u=t.createRenderer(null,null);return{ngModule:e,injector:n,projectableNodes:l,selectorOrNode:r,sanitizer:i,rendererFactory:t,renderer:u,errorHandler:o}}function Oo(n,e,t,l){var r=jo(t);return uu(Yo.create,ao,null,[n,e,r,l])}function Ro(n,e,t,l){return t=Vo.get(e.element.componentProvider.provider.token)||jo(t),uu(Yo.create,co,null,[n,e,t,l])}function Po(n,e,t,l){return _i(n,e,t,function(n){var e=function(n){var e=!1,t=!1;return 0===Mo.size?{hasOverrides:e,hasDeprecatedOverrides:t}:(n.providers.forEach(function(n){var l=Mo.get(n.token);3840&n.flags&&l&&(e=!0,t=t||l.deprecatedBehavior)}),n.modules.forEach(function(n){Lo.forEach(function(l,r){yn(r).providedIn===n&&(e=!0,t=t||l.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:t})}(n),t=e.hasDeprecatedOverrides;return e.hasOverrides?(function(n){for(var e=0;e<n.providers.length;e++){var l=n.providers[e];t&&(l.flags|=4096);var r=Mo.get(l.token);r&&(l.flags=-3841&l.flags|r.flags,l.deps=Dr(r.deps),l.value=r.value)}if(Lo.size>0){var i=new Set(n.modules);Lo.forEach(function(e,l){if(i.has(yn(l).providedIn)){var r={token:l,flags:e.flags|(t?4096:0),deps:Dr(e.deps),value:e.value,index:n.providers.length};n.providers.push(r),n.providersByKey[cr(l)]=r}})}}(n=n.factory(function(){return ar})),n):n}(l))}var Mo=new Map,Lo=new Map,Vo=new Map;function Uo(n){var e;Mo.set(n.token,n),"function"==typeof n.token&&(e=yn(n.token))&&"function"==typeof e.providedIn&&Lo.set(n.token,n)}function qo(n,e){var t=Or(e.viewDefFactory),l=Or(t.nodes[0].element.componentView);Vo.set(n,l)}function Fo(){Mo.clear(),Lo.clear(),Vo.clear()}function jo(n){if(0===Mo.size)return n;var e=function(n){for(var e=[],t=null,l=0;l<n.nodes.length;l++){var r=n.nodes[l];1&r.flags&&(t=r),t&&3840&r.flags&&Mo.has(r.provider.token)&&(e.push(t.nodeIndex),t=null)}return e}(n);if(0===e.length)return n;n=n.factory(function(){return ar});for(var t=0;t<e.length;t++)l(n,e[t]);return n;function l(n,e){for(var t=e+1;t<n.nodes.length;t++){var l=n.nodes[t];if(1&l.flags)return;if(3840&l.flags){var r=l.provider,i=Mo.get(r.token);i&&(l.flags=-3841&l.flags|i.flags,r.deps=Dr(i.deps),r.value=i.value)}}}}function Bo(n,e,t,l,r,i,o,u,a,s,c,h,d){var p=n.def.nodes[e];return yo(n,p,t,l,r,i,o,u,a,s,c,h,d),224&p.flags?tr(n,e).value:void 0}function Ko(n,e,t,l,r,i,o,u,a,s,c,h,d){var p=n.def.nodes[e];return bo(n,p,t,l,r,i,o,u,a,s,c,h,d),224&p.flags?tr(n,e).value:void 0}function zo(n){return uu(Yo.detectChanges,go,null,[n])}function Ho(n){return uu(Yo.checkNoChanges,mo,null,[n])}function Wo(n){return uu(Yo.destroy,wo,null,[n])}var Go,Qo,Xo,Yo=function(n){return n[n.create=0]="create",n[n.detectChanges=1]="detectChanges",n[n.checkNoChanges=2]="checkNoChanges",n[n.destroy=3]="destroy",n[n.handleEvent=4]="handleEvent",n}({});function $o(n,e){Qo=n,Xo=e}function Zo(n,e,t,l){return $o(n,e),uu(Yo.handleEvent,n.def.handleEvent,null,[n,e,t,l])}function Jo(n,e){if(128&n.state)throw ur(Yo[Go]);return $o(n,lu(n,0)),n.def.updateDirectives(function(n,t,l){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=n.def.nodes[t];return 0===e?eu(n,o,l,r):tu(n,o,l,r),16384&o.flags&&$o(n,lu(n,t)),224&o.flags?tr(n,o.nodeIndex).value:void 0},n)}function nu(n,e){if(128&n.state)throw ur(Yo[Go]);return $o(n,ru(n,0)),n.def.updateRenderer(function(n,t,l){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=n.def.nodes[t];return 0===e?eu(n,o,l,r):tu(n,o,l,r),3&o.flags&&$o(n,ru(n,t)),224&o.flags?tr(n,o.nodeIndex).value:void 0},n)}function eu(n,e,t,r){if(yo.apply(void 0,Object(l.__spread)([n,e,t],r))){var i=1===t?r[0]:r;if(16384&e.flags){for(var o={},u=0;u<e.bindings.length;u++){var a=e.bindings[u],s=i[u];8&a.flags&&(o[(p=a.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(Gn,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"-"+n[1].toLowerCase()}))]=Qn(s))}var c=e.parent,h=nr(n,c.nodeIndex).renderElement;if(c.element.name)for(var d in o)null!=(s=o[d])?n.renderer.setAttribute(h,d,s):n.renderer.removeAttribute(h,d);else n.renderer.setValue(h,"bindings="+JSON.stringify(o,null,2))}}var p}function tu(n,e,t,r){bo.apply(void 0,Object(l.__spread)([n,e,t],r))}function lu(n,e){for(var t=e;t<n.def.nodes.length;t++){var l=n.def.nodes[t];if(16384&l.flags&&l.bindings&&l.bindings.length)return t}return null}function ru(n,e){for(var t=e;t<n.def.nodes.length;t++){var l=n.def.nodes[t];if(3&l.flags&&l.bindings&&l.bindings.length)return t}return null}var iu=function(){function n(n,e){this.view=n,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=n.def.nodes[e];for(var t=this.nodeDef,l=n;t&&0==(1&t.flags);)t=t.parent;if(!t)for(;!t&&l;)t=Er(l),l=l.parent;this.elDef=t,this.elView=l}return Object.defineProperty(n.prototype,"elOrCompView",{get:function(){return nr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return mi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"providerTokens",{get:function(){var n=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var t=this.elView.def.nodes[e];20224&t.flags&&n.push(t.provider.token),e+=t.childCount}return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"references",{get:function(){var n={};if(this.elDef){ou(this.elView,this.elDef,n);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var t=this.elView.def.nodes[e];20224&t.flags&&ou(this.elView,t,n),e+=t.childCount}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"componentRenderElement",{get:function(){var n=function(n){for(;n&&!Tr(n);)n=n.parent;return n.parent?nr(n.parent,Er(n).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Sr(this.view,this.nodeDef):Sr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),n.prototype.logError=function(n){for(var e,t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,t=this.nodeDef.nodeIndex):(e=this.elView.def,t=this.elDef.nodeIndex);var o=function(n,e){for(var t=-1,l=0;l<=e;l++)3&n.nodes[l].flags&&t++;return t}(e,t),u=-1;e.factory(function(){var e;return++u===o?(e=n.error).bind.apply(e,Object(l.__spread)([n],r)):ar}),u<o&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error.apply(n,Object(l.__spread)(r)))},n}();function ou(n,e,t){for(var l in e.references)t[l]=$i(n,e,e.references[l])}function uu(n,e,t,l){var r=Go,i=Qo,o=Xo;try{Go=n;var u=e.apply(t,l);return Qo=i,Xo=o,Go=r,u}catch(a){if(wt(a)||!Qo)throw a;throw function(n,e){return n instanceof Error||(n=new Error(n.toString())),or(n,e),n}(a,au())}}function au(){return Qo?new iu(Qo,Xo):null}var su=function(){function n(n){this.delegate=n}return n.prototype.createRenderer=function(n,e){return new cu(this.delegate.createRenderer(n,e))},n.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},n.prototype.end=function(){this.delegate.end&&this.delegate.end()},n.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},n}(),cu=function(){function n(n){this.delegate=n,this.debugContextFactory=au,this.data=this.delegate.data}return n.prototype.createDebugContext=function(n){return this.debugContextFactory(n)},n.prototype.destroyNode=function(n){!function(n){kl.delete(n.nativeNode)}(Al(n)),this.delegate.destroyNode&&this.delegate.destroyNode(n)},n.prototype.destroy=function(){this.delegate.destroy()},n.prototype.createElement=function(n,e){var t=this.delegate.createElement(n,e),l=this.createDebugContext(t);if(l){var r=new Il(t,null,l);r.name=n,Dl(r)}return t},n.prototype.createComment=function(n){var e=this.delegate.createComment(n),t=this.createDebugContext(e);return t&&Dl(new Tl(e,null,t)),e},n.prototype.createText=function(n){var e=this.delegate.createText(n),t=this.createDebugContext(e);return t&&Dl(new Tl(e,null,t)),e},n.prototype.appendChild=function(n,e){var t=Al(n),l=Al(e);t&&l&&t instanceof Il&&t.addChild(l),this.delegate.appendChild(n,e)},n.prototype.insertBefore=function(n,e,t){var l=Al(n),r=Al(e),i=Al(t);l&&r&&l instanceof Il&&l.insertBefore(i,r),this.delegate.insertBefore(n,e,t)},n.prototype.removeChild=function(n,e){var t=Al(n),l=Al(e);t&&l&&t instanceof Il&&t.removeChild(l),this.delegate.removeChild(n,e)},n.prototype.selectRootElement=function(n,e){var t=this.delegate.selectRootElement(n,e),l=au();return l&&Dl(new Il(t,null,l)),t},n.prototype.setAttribute=function(n,e,t,l){var r=Al(n);r&&r instanceof Il&&(r.attributes[l?l+":"+e:e]=t),this.delegate.setAttribute(n,e,t,l)},n.prototype.removeAttribute=function(n,e,t){var l=Al(n);l&&l instanceof Il&&(l.attributes[t?t+":"+e:e]=null),this.delegate.removeAttribute(n,e,t)},n.prototype.addClass=function(n,e){var t=Al(n);t&&t instanceof Il&&(t.classes[e]=!0),this.delegate.addClass(n,e)},n.prototype.removeClass=function(n,e){var t=Al(n);t&&t instanceof Il&&(t.classes[e]=!1),this.delegate.removeClass(n,e)},n.prototype.setStyle=function(n,e,t,l){var r=Al(n);r&&r instanceof Il&&(r.styles[e]=t),this.delegate.setStyle(n,e,t,l)},n.prototype.removeStyle=function(n,e,t){var l=Al(n);l&&l instanceof Il&&(l.styles[e]=null),this.delegate.removeStyle(n,e,t)},n.prototype.setProperty=function(n,e,t){var l=Al(n);l&&l instanceof Il&&(l.properties[e]=t),this.delegate.setProperty(n,e,t)},n.prototype.listen=function(n,e,t){if("string"!=typeof n){var l=Al(n);l&&l.listeners.push(new Sl(e,t))}return this.delegate.listen(n,e,t)},n.prototype.parentNode=function(n){return this.delegate.parentNode(n)},n.prototype.nextSibling=function(n){return this.delegate.nextSibling(n)},n.prototype.setValue=function(n,e){return this.delegate.setValue(n,e)},n}();function hu(n,e,t){return new du(n,e,t)}var du=function(n){function e(e,t,l){var r=n.call(this)||this;return r.moduleType=e,r._bootstrapComponents=t,r._ngModuleDefFactory=l,r}return Object(l.__extends)(e,n),e.prototype.create=function(n){!function(){if(!Ao){Ao=!0;var n=Be()?{setCurrentNode:$o,createRootView:xo,createEmbeddedView:Oo,createComponentView:Ro,createNgModuleRef:Po,overrideProvider:Uo,overrideComponentView:qo,clearOverrides:Fo,checkAndUpdateView:zo,checkNoChangesView:Ho,destroyView:Wo,createDebugContext:function(n,e){return new iu(n,e)},handleEvent:Zo,updateDirectives:Jo,updateRenderer:nu}:{setCurrentNode:function(){},createRootView:Do,createEmbeddedView:ao,createComponentView:co,createNgModuleRef:_i,overrideProvider:ar,overrideComponentView:ar,clearOverrides:ar,checkAndUpdateView:go,checkNoChangesView:mo,destroyView:wo,createDebugContext:function(n,e){return new iu(n,e)},handleEvent:function(n,e,t,l){return n.def.handleEvent(n,e,t,l)},updateDirectives:function(n,e){return n.def.updateDirectives(0===e?Bo:Ko,n)},updateRenderer:function(n,e){return n.def.updateRenderer(0===e?Bo:Ko,n)}};rr.setCurrentNode=n.setCurrentNode,rr.createRootView=n.createRootView,rr.createEmbeddedView=n.createEmbeddedView,rr.createComponentView=n.createComponentView,rr.createNgModuleRef=n.createNgModuleRef,rr.overrideProvider=n.overrideProvider,rr.overrideComponentView=n.overrideComponentView,rr.clearOverrides=n.clearOverrides,rr.checkAndUpdateView=n.checkAndUpdateView,rr.checkNoChangesView=n.checkNoChangesView,rr.destroyView=n.destroyView,rr.resolveDep=ji,rr.createDebugContext=n.createDebugContext,rr.handleEvent=n.handleEvent,rr.updateDirectives=n.updateDirectives,rr.updateRenderer=n.updateRenderer,rr.dirtyParentQueries=Qi}}();var e=function(n){var e=Array.from(n.providers),t=Array.from(n.modules),l={};for(var r in n.providersByKey)l[r]=n.providersByKey[r];return{factory:n.factory,isRoot:n.isRoot,providers:e,modules:t,providersByKey:l}}(Or(this._ngModuleDefFactory));return rr.createNgModuleRef(this.moduleType,n||ie.NULL,this._bootstrapComponents,e)},e}(De),pu=function(){return function(){}}(),fu=function(){return function(n){this.title="dokaSistema"}}(),mu=function(){return function(){}}(),gu=new vn("Location Initialized"),yu=function(){return function(){}}(),vu=new vn("appBaseHref"),bu=function(){function n(n){var t=this;this._subject=new ct,this._platformStrategy=n;var l=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(_u(l)),this._platformStrategy.onPopState(function(n){t._subject.emit({url:t.path(!0),pop:!0,state:n.state,type:n.type})})}var e;return e=n,n.prototype.path=function(n){return void 0===n&&(n=!1),this.normalize(this._platformStrategy.path(n))},n.prototype.isCurrentPathEqualTo=function(n,t){return void 0===t&&(t=""),this.path()==this.normalize(n+e.normalizeQueryParams(t))},n.prototype.normalize=function(n){return e.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_u(n)))},n.prototype.prepareExternalUrl=function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)},n.prototype.go=function(n,e,t){void 0===e&&(e=""),void 0===t&&(t=null),this._platformStrategy.pushState(t,"",n,e)},n.prototype.replaceState=function(n,e,t){void 0===e&&(e=""),void 0===t&&(t=null),this._platformStrategy.replaceState(t,"",n,e)},n.prototype.forward=function(){this._platformStrategy.forward()},n.prototype.back=function(){this._platformStrategy.back()},n.prototype.subscribe=function(n,e,t){return this._subject.subscribe({next:n,error:e,complete:t})},n.normalizeQueryParams=function(n){return n&&"?"!==n[0]?"?"+n:n},n.joinWithSlash=function(n,e){if(0==n.length)return e;if(0==e.length)return n;var t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e},n.stripTrailingSlash=function(n){var e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)},n}();function _u(n){return n.replace(/\/index.html$/,"")}var wu=function(n){function e(e,t){var l=n.call(this)||this;return l._platformLocation=e,l._baseHref="",null!=t&&(l._baseHref=t),l}return Object(l.__extends)(e,n),e.prototype.onPopState=function(n){this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(n){void 0===n&&(n=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(n){var e=bu.joinWithSlash(this._baseHref,n);return e.length>0?"#"+e:e},e.prototype.pushState=function(n,e,t,l){var r=this.prepareExternalUrl(t+bu.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(n,e,r)},e.prototype.replaceState=function(n,e,t,l){var r=this.prepareExternalUrl(t+bu.normalizeQueryParams(l));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(n,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(yu),Cu=function(n){function e(e,t){var l=n.call(this)||this;if(l._platformLocation=e,null==t&&(t=l._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return l._baseHref=t,l}return Object(l.__extends)(e,n),e.prototype.onPopState=function(n){this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(n){return bu.joinWithSlash(this._baseHref,n)},e.prototype.path=function(n){void 0===n&&(n=!1);var e=this._platformLocation.pathname+bu.normalizeQueryParams(this._platformLocation.search),t=this._platformLocation.hash;return t&&n?""+e+t:e},e.prototype.pushState=function(n,e,t,l){var r=this.prepareExternalUrl(t+bu.normalizeQueryParams(l));this._platformLocation.pushState(n,e,r)},e.prototype.replaceState=function(n,e,t,l){var r=this.prepareExternalUrl(t+bu.normalizeQueryParams(l));this._platformLocation.replaceState(n,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(yu),Eu=void 0,Su=["en",[["a","p"],["AM","PM"],Eu],[["AM","PM"],Eu,Eu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eu,"{1} 'at' {0}",Eu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(n){var e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}],Tu={},Iu=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}({}),ku=new vn("UseV4Plurals"),Au=function(){return function(){}}(),Du=function(n){function e(e,t){var l=n.call(this)||this;return l.locale=e,l.deprecatedPluralFn=t,l}return Object(l.__extends)(e,n),e.prototype.getPluralCategory=function(n,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,n):function(n){return function(n){var e=n.toLowerCase().replace(/_/g,"-"),t=Tu[e];if(t)return t;var l=e.split("-")[0];if(t=Tu[l])return t;if("en"===l)return Su;throw new Error('Missing locale data for the locale "'+n+'".')}(n)[18]}(e||this.locale)(n)){case Iu.Zero:return"zero";case Iu.One:return"one";case Iu.Two:return"two";case Iu.Few:return"few";case Iu.Many:return"many";default:return"other"}},e}(Au),xu=function(){function n(n,e,t,l){this._iterableDiffers=n,this._keyValueDiffers=e,this._ngEl=t,this._renderer=l,this._initialClasses=[]}return Object.defineProperty(n.prototype,"klass",{set:function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClass",{set:function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Zn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},n.prototype._applyKeyValueChanges=function(n){var e=this;n.forEachAddedItem(function(n){return e._toggleClass(n.key,n.currentValue)}),n.forEachChangedItem(function(n){return e._toggleClass(n.key,n.currentValue)}),n.forEachRemovedItem(function(n){n.previousValue&&e._toggleClass(n.key,!1)})},n.prototype._applyIterableChanges=function(n){var e=this;n.forEachAddedItem(function(n){if("string"!=typeof n.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Rn(n.item));e._toggleClass(n.item,!0)}),n.forEachRemovedItem(function(n){return e._toggleClass(n.item,!1)})},n.prototype._applyClasses=function(n){var e=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(n){return e._toggleClass(n,!0)}):Object.keys(n).forEach(function(t){return e._toggleClass(t,!!n[t])}))},n.prototype._removeClasses=function(n){var e=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(n){return e._toggleClass(n,!1)}):Object.keys(n).forEach(function(n){return e._toggleClass(n,!1)}))},n.prototype._toggleClass=function(n,e){var t=this;(n=n.trim())&&n.split(/\s+/g).forEach(function(n){e?t._renderer.addClass(t._ngEl.nativeElement,n):t._renderer.removeClass(t._ngEl.nativeElement,n)})},n}(),Nu=function(){function n(n,e,t,l){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=l}return Object.defineProperty(n.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),n}(),Ou=function(){function n(n,e,t){this._viewContainer=n,this._template=e,this._differs=t,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(n.prototype,"ngForOf",{set:function(n){this._ngForOf=n,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(n){Be()&&null!=n&&"function"!=typeof n&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(n)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngForTemplate",{set:function(n){n&&(this._template=n)},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(l){throw new Error("Cannot find a differ supporting object '"+n+"' of type '"+((e=n).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}},n.prototype._applyChanges=function(n){var e=this,t=[];n.forEachOperation(function(n,l,r){if(null==n.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new Nu(null,e._ngForOf,-1,-1),r),o=new Ru(n,i);t.push(o)}else null==r?e._viewContainer.remove(l):(i=e._viewContainer.get(l),e._viewContainer.move(i,r),o=new Ru(n,i),t.push(o))});for(var l=0;l<t.length;l++)this._perViewChange(t[l].view,t[l].record);l=0;for(var r=this._viewContainer.length;l<r;l++){var i=this._viewContainer.get(l);i.context.index=l,i.context.count=r,i.context.ngForOf=this._ngForOf}n.forEachIdentityChange(function(n){e._viewContainer.get(n.currentIndex).context.$implicit=n.item})},n.prototype._perViewChange=function(n,e){n.context.$implicit=e.item},n.ngTemplateContextGuard=function(n,e){return!0},n}(),Ru=function(){return function(n,e){this.record=n,this.view=e}}(),Pu=function(){function n(n,e){this._viewContainer=n,this._context=new Mu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(n.prototype,"ngIf",{set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfThen",{set:function(n){Lu("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngIfElse",{set:function(n){Lu("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),n.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},n.ngTemplateGuard_ngIf=function(n,e){return!0},n}(),Mu=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Lu(n,e){if(e&&!e.createEmbeddedView)throw new Error(n+" must be a TemplateRef, but received '"+Rn(e)+"'.")}var Vu=function(){function n(n,e,t){this._differs=n,this._ngEl=e,this._renderer=t}return Object.defineProperty(n.prototype,"ngStyle",{set:function(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(this._differ){var n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}},n.prototype._applyChanges=function(n){var e=this;n.forEachRemovedItem(function(n){return e._setStyle(n.key,null)}),n.forEachAddedItem(function(n){return e._setStyle(n.key,n.currentValue)}),n.forEachChangedItem(function(n){return e._setStyle(n.key,n.currentValue)})},n.prototype._setStyle=function(n,e){var t=Object(l.__read)(n.split("."),2),r=t[0],i=t[1];null!=(e=null!=e&&i?""+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},n}(),Uu=function(){function n(){}return n.prototype.createSubscription=function(n,e){return n.subscribe({next:e,error:function(n){throw n}})},n.prototype.dispose=function(n){n.unsubscribe()},n.prototype.onDestroy=function(n){n.unsubscribe()},n}(),qu=new(function(){function n(){}return n.prototype.createSubscription=function(n,e){return n.then(e,function(n){throw n})},n.prototype.dispose=function(n){},n.prototype.onDestroy=function(n){},n}()),Fu=new Uu,ju=function(){function n(n){this._ref=n,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=n,n.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},n.prototype.transform=function(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Yn.wrap(this._latestValue)):(n&&this._subscribe(n),this._latestReturnedValue=this._latestValue,this._latestValue)},n.prototype._subscribe=function(n){var e=this;this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,function(t){return e._updateLatestValue(n,t)})},n.prototype._selectStrategy=function(n){if(Tt(n))return qu;if(It(n))return Fu;throw Error("InvalidPipeArgument: '"+n+"' for pipe '"+Rn(e)+"'")},n.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},n.prototype._updateLatestValue=function(n,e){n===this._obj&&(this._latestValue=e,this._ref.markForCheck())},n}(),Bu=function(){return function(){}}(),Ku=new vn("DocumentToken"),zu="server";function Hu(n){return n===zu}var Wu=function(){function n(){}return n.ngInjectableDef=gn({providedIn:"root",factory:function(){return new Gu(Wn(Ku),window,Wn(St))}}),n}(),Gu=function(){function n(n,e,t){this.document=n,this.window=e,this.errorHandler=t,this.offset=function(){return[0,0]}}return n.prototype.setOffset=function(n){this.offset=Array.isArray(n)?function(){return n}:n},n.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},n.prototype.scrollToPosition=function(n){this.supportScrollRestoration()&&this.window.scrollTo(n[0],n[1])},n.prototype.scrollToAnchor=function(n){if(this.supportScrollRestoration()){n=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(n):n.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+n);if(e)return void this.scrollToElement(e);var t=this.document.querySelector("[name='"+n+"']");if(t)return void this.scrollToElement(t)}catch(l){this.errorHandler.handleError(l)}}},n.prototype.setHistoryScrollRestoration=function(n){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}},n.prototype.scrollToElement=function(n){var e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(t-r[0],l-r[1])},n.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(n){return!1}},n}(),Qu=new I(function(n){return n.complete()});function Xu(n){return n?function(n){return new I(function(e){return n.schedule(function(){return e.complete()})})}(n):Qu}function Yu(n){var e=new I(function(e){e.next(n),e.complete()});return e._isScalar=!0,e.value=n,e}function $u(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n[n.length-1];switch(P(t)?n.pop():t=void 0,n.length){case 0:return Xu(t);case 1:return t?Y(n,t):Yu(n[0]);default:return Y(n,t)}}var Zu=function(n){function e(e){var t=n.call(this)||this;return t._value=e,t}return l.__extends(e,n),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var t=n.prototype._subscribe.call(this,e);return t&&!t.closed&&e.next(this._value),t},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D;return this._value},e.prototype.next=function(e){n.prototype.next.call(this,this._value=e)},e}(O);function Ju(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ju.prototype=Object.create(Error.prototype);var na=Ju,ea={},ta=function(){function n(n){this.resultSelector=n}return n.prototype.call=function(n,e){return e.subscribe(new la(n,this.resultSelector))},n}(),la=function(n){function e(e,t){var l=n.call(this,e)||this;return l.resultSelector=t,l.active=0,l.values=[],l.observables=[],l}return l.__extends(e,n),e.prototype._next=function(n){this.values.push(ea),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,e=n.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var t=0;t<e;t++){var l=n[t];this.add(H(this,l,l,t))}}},e.prototype.notifyComplete=function(n){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(n,e,t,l,r){var i=this.values,o=this.toRespond?i[t]===ea?--this.toRespond:this.toRespond:0;i[t]=e,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(n){var e;try{e=this.resultSelector.apply(this,n)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(W);function ra(n){return new I(function(e){var t;try{t=n()}catch(l){return void e.error(l)}return(t?$(t):Xu()).subscribe(e)})}function ia(){return tn(1)}function oa(n,e){return function(t){return t.lift(new ua(n,e))}}var ua=function(){function n(n,e){this.predicate=n,this.thisArg=e}return n.prototype.call=function(n,e){return e.subscribe(new aa(n,this.predicate,this.thisArg))},n}(),aa=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.predicate=t,r.thisArg=l,r.count=0,r}return l.__extends(e,n),e.prototype._next=function(n){var e;try{e=this.predicate.call(this.thisArg,n,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(n)},e}(_);function sa(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}sa.prototype=Object.create(Error.prototype);var ca=sa;function ha(n){return function(e){return 0===n?Xu():e.lift(new da(n))}}var da=function(){function n(n){if(this.total=n,this.total<0)throw new ca}return n.prototype.call=function(n,e){return e.subscribe(new pa(n,this.total))},n}(),pa=function(n){function e(e,t){var l=n.call(this,e)||this;return l.total=t,l.ring=new Array,l.count=0,l}return l.__extends(e,n),e.prototype._next=function(n){var e=this.ring,t=this.total,l=this.count++;e.length<t?e.push(n):e[l%t]=n},e.prototype._complete=function(){var n=this.destination,e=this.count;if(e>0)for(var t=this.count>=this.total?this.total:this.count,l=this.ring,r=0;r<t;r++){var i=e++%t;n.next(l[i])}n.complete()},e}(_);function fa(n,e,t){return function(l){return l.lift(new ma(n,e,t))}}var ma=function(){function n(n,e,t){this.nextOrObserver=n,this.error=e,this.complete=t}return n.prototype.call=function(n,e){return e.subscribe(new ga(n,this.nextOrObserver,this.error,this.complete))},n}(),ga=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i._tapNext=E,i._tapError=E,i._tapComplete=E,i._tapError=l||E,i._tapComplete=r||E,o(t)?(i._context=i,i._tapNext=t):t&&(i._context=t,i._tapNext=t.next||E,i._tapError=t.error||E,i._tapComplete=t.complete||E),i}return l.__extends(e,n),e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(e){return void this.destination.error(e)}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(n){return void this.destination.error(n)}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()},e}(_),ya=function(n){return void 0===n&&(n=va),fa({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw n()}})};function va(){return new na}function ba(n){return void 0===n&&(n=null),function(e){return e.lift(new _a(n))}}var _a=function(){function n(n){this.defaultValue=n}return n.prototype.call=function(n,e){return e.subscribe(new wa(n,this.defaultValue))},n}(),wa=function(n){function e(e,t){var l=n.call(this,e)||this;return l.defaultValue=t,l.isEmpty=!0,l}return l.__extends(e,n),e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(_);function Ca(n,e){var t=arguments.length>=2;return function(l){return l.pipe(n?oa(function(e,t){return n(e,t,l)}):en,ha(1),t?ba(e):ya(function(){return new na}))}}function Ea(n){return function(e){var t=new Sa(n),l=e.lift(t);return t.caught=l}}var Sa=function(){function n(n){this.selector=n}return n.prototype.call=function(n,e){return e.subscribe(new Ta(n,this.selector,this.caught))},n}(),Ta=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.selector=t,r.caught=l,r}return l.__extends(e,n),e.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(r){return void n.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var l=new M(this,void 0,void 0);this.add(l),H(this,t,void 0,void 0,l)}},e}(W);function Ia(n){return function(e){return 0===n?Xu():e.lift(new ka(n))}}var ka=function(){function n(n){if(this.total=n,this.total<0)throw new ca}return n.prototype.call=function(n,e){return e.subscribe(new Aa(n,this.total))},n}(),Aa=function(n){function e(e,t){var l=n.call(this,e)||this;return l.total=t,l.count=0,l}return l.__extends(e,n),e.prototype._next=function(n){var e=this.total,t=++this.count;t<=e&&(this.destination.next(n),t===e&&(this.destination.complete(),this.unsubscribe()))},e}(_);function Da(n,e){var t=arguments.length>=2;return function(l){return l.pipe(n?oa(function(e,t){return n(e,t,l)}):en,Ia(1),t?ba(e):ya(function(){return new na}))}}var xa=function(){function n(n,e,t){this.predicate=n,this.thisArg=e,this.source=t}return n.prototype.call=function(n,e){return e.subscribe(new Na(n,this.predicate,this.thisArg,this.source))},n}(),Na=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i.predicate=t,i.thisArg=l,i.source=r,i.index=0,i.thisArg=l||i,i}return l.__extends(e,n),e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var e=!1;try{e=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(_);function Oa(n,e){return"function"==typeof e?function(t){return t.pipe(Oa(function(t,l){return $(n(t,l)).pipe(G(function(n,r){return e(t,n,l,r)}))}))}:function(e){return e.lift(new Ra(n))}}var Ra=function(){function n(n){this.project=n}return n.prototype.call=function(n,e){return e.subscribe(new Pa(n,this.project))},n}(),Pa=function(n){function e(e,t){var l=n.call(this,e)||this;return l.project=t,l.index=0,l}return l.__extends(e,n),e.prototype._next=function(n){var e,t=this.index++;try{e=this.project(n,t)}catch(l){return void this.destination.error(l)}this._innerSub(e,n,t)},e.prototype._innerSub=function(n,e,t){var l=this.innerSubscription;l&&l.unsubscribe();var r=new M(this,void 0,void 0);this.destination.add(r),this.innerSubscription=H(this,n,e,t,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||n.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&n.prototype._complete.call(this)},e.prototype.notifyNext=function(n,e,t,l,r){this.destination.next(e)},e}(W);function Ma(n,e){var t=!1;return arguments.length>=2&&(t=!0),function(l){return l.lift(new La(n,e,t))}}var La=function(){function n(n,e,t){void 0===t&&(t=!1),this.accumulator=n,this.seed=e,this.hasSeed=t}return n.prototype.call=function(n,e){return e.subscribe(new Va(n,this.accumulator,this.seed,this.hasSeed))},n}(),Va=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i.accumulator=t,i._seed=l,i.hasSeed=r,i.index=0,i}return l.__extends(e,n),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},e.prototype._tryNext=function(n){var e,t=this.index++;try{e=this.accumulator(this.seed,n,t)}catch(l){this.destination.error(l)}this.seed=e,this.destination.next(e)},e}(_);function Ua(n,e){return Z(n,e,1)}function qa(n){return function(e){return e.lift(new Fa(n))}}var Fa=function(){function n(n){this.callback=n}return n.prototype.call=function(n,e){return e.subscribe(new ja(n,this.callback))},n}(),ja=function(n){function e(e,t){var l=n.call(this,e)||this;return l.add(new p(t)),l}return l.__extends(e,n),e}(_),Ba=null;function Ka(){return Ba}var za,Ha={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ga={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};kn.Node&&(za=kn.Node.prototype.contains||function(n){return!!(16&this.compareDocumentPosition(n))});var Qa,Xa=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.parse=function(n){throw new Error("parse not implemented")},e.makeCurrent=function(){var n;n=new e,Ba||(Ba=n)},e.prototype.hasProperty=function(n,e){return e in n},e.prototype.setProperty=function(n,e,t){n[e]=t},e.prototype.getProperty=function(n,e){return n[e]},e.prototype.invoke=function(n,e,t){var r;(r=n)[e].apply(r,Object(l.__spread)(t))},e.prototype.logError=function(n){window.console&&(console.error?console.error(n):console.log(n))},e.prototype.log=function(n){window.console&&window.console.log&&window.console.log(n)},e.prototype.logGroup=function(n){window.console&&window.console.group&&window.console.group(n)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Ha},enumerable:!0,configurable:!0}),e.prototype.contains=function(n,e){return za.call(n,e)},e.prototype.querySelector=function(n,e){return n.querySelector(e)},e.prototype.querySelectorAll=function(n,e){return n.querySelectorAll(e)},e.prototype.on=function(n,e,t){n.addEventListener(e,t,!1)},e.prototype.onAndCancel=function(n,e,t){return n.addEventListener(e,t,!1),function(){n.removeEventListener(e,t,!1)}},e.prototype.dispatchEvent=function(n,e){n.dispatchEvent(e)},e.prototype.createMouseEvent=function(n){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(n,!0,!0),e},e.prototype.createEvent=function(n){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(n,!0,!0),e},e.prototype.preventDefault=function(n){n.preventDefault(),n.returnValue=!1},e.prototype.isPrevented=function(n){return n.defaultPrevented||null!=n.returnValue&&!n.returnValue},e.prototype.getInnerHTML=function(n){return n.innerHTML},e.prototype.getTemplateContent=function(n){return"content"in n&&this.isTemplateElement(n)?n.content:null},e.prototype.getOuterHTML=function(n){return n.outerHTML},e.prototype.nodeName=function(n){return n.nodeName},e.prototype.nodeValue=function(n){return n.nodeValue},e.prototype.type=function(n){return n.type},e.prototype.content=function(n){return this.hasProperty(n,"content")?n.content:n},e.prototype.firstChild=function(n){return n.firstChild},e.prototype.nextSibling=function(n){return n.nextSibling},e.prototype.parentElement=function(n){return n.parentNode},e.prototype.childNodes=function(n){return n.childNodes},e.prototype.childNodesAsList=function(n){for(var e=n.childNodes,t=new Array(e.length),l=0;l<e.length;l++)t[l]=e[l];return t},e.prototype.clearNodes=function(n){for(;n.firstChild;)n.removeChild(n.firstChild)},e.prototype.appendChild=function(n,e){n.appendChild(e)},e.prototype.removeChild=function(n,e){n.removeChild(e)},e.prototype.replaceChild=function(n,e,t){n.replaceChild(e,t)},e.prototype.remove=function(n){return n.parentNode&&n.parentNode.removeChild(n),n},e.prototype.insertBefore=function(n,e,t){n.insertBefore(t,e)},e.prototype.insertAllBefore=function(n,e,t){t.forEach(function(t){return n.insertBefore(t,e)})},e.prototype.insertAfter=function(n,e,t){n.insertBefore(t,e.nextSibling)},e.prototype.setInnerHTML=function(n,e){n.innerHTML=e},e.prototype.getText=function(n){return n.textContent},e.prototype.setText=function(n,e){n.textContent=e},e.prototype.getValue=function(n){return n.value},e.prototype.setValue=function(n,e){n.value=e},e.prototype.getChecked=function(n){return n.checked},e.prototype.setChecked=function(n,e){n.checked=e},e.prototype.createComment=function(n){return this.getDefaultDocument().createComment(n)},e.prototype.createTemplate=function(n){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=n,e},e.prototype.createElement=function(n,e){return(e=e||this.getDefaultDocument()).createElement(n)},e.prototype.createElementNS=function(n,e,t){return(t=t||this.getDefaultDocument()).createElementNS(n,e)},e.prototype.createTextNode=function(n,e){return(e=e||this.getDefaultDocument()).createTextNode(n)},e.prototype.createScriptTag=function(n,e,t){var l=(t=t||this.getDefaultDocument()).createElement("SCRIPT");return l.setAttribute(n,e),l},e.prototype.createStyleElement=function(n,e){var t=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(t,this.createTextNode(n,e)),t},e.prototype.createShadowRoot=function(n){return n.createShadowRoot()},e.prototype.getShadowRoot=function(n){return n.shadowRoot},e.prototype.getHost=function(n){return n.host},e.prototype.clone=function(n){return n.cloneNode(!0)},e.prototype.getElementsByClassName=function(n,e){return n.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(n,e){return n.getElementsByTagName(e)},e.prototype.classList=function(n){return Array.prototype.slice.call(n.classList,0)},e.prototype.addClass=function(n,e){n.classList.add(e)},e.prototype.removeClass=function(n,e){n.classList.remove(e)},e.prototype.hasClass=function(n,e){return n.classList.contains(e)},e.prototype.setStyle=function(n,e,t){n.style[e]=t},e.prototype.removeStyle=function(n,e){n.style[e]=""},e.prototype.getStyle=function(n,e){return n.style[e]},e.prototype.hasStyle=function(n,e,t){var l=this.getStyle(n,e)||"";return t?l==t:l.length>0},e.prototype.tagName=function(n){return n.tagName},e.prototype.attributeMap=function(n){for(var e=new Map,t=n.attributes,l=0;l<t.length;l++){var r=t.item(l);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(n,e){return n.hasAttribute(e)},e.prototype.hasAttributeNS=function(n,e,t){return n.hasAttributeNS(e,t)},e.prototype.getAttribute=function(n,e){return n.getAttribute(e)},e.prototype.getAttributeNS=function(n,e,t){return n.getAttributeNS(e,t)},e.prototype.setAttribute=function(n,e,t){n.setAttribute(e,t)},e.prototype.setAttributeNS=function(n,e,t,l){n.setAttributeNS(e,t,l)},e.prototype.removeAttribute=function(n,e){n.removeAttribute(e)},e.prototype.removeAttributeNS=function(n,e,t){n.removeAttributeNS(e,t)},e.prototype.templateAwareRoot=function(n){return this.isTemplateElement(n)?this.content(n):n},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(n){try{return n.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(n){return n.title},e.prototype.setTitle=function(n,e){n.title=e||""},e.prototype.elementMatches=function(n,e){return!!this.isElementNode(n)&&(n.matches&&n.matches(e)||n.msMatchesSelector&&n.msMatchesSelector(e)||n.webkitMatchesSelector&&n.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(n){return this.isElementNode(n)&&"TEMPLATE"===n.nodeName},e.prototype.isTextNode=function(n){return n.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(n){return n.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(n){return n.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(n){return null!=n.shadowRoot&&n instanceof HTMLElement},e.prototype.isShadowRoot=function(n){return n instanceof DocumentFragment},e.prototype.importIntoDoc=function(n){return document.importNode(this.templateAwareRoot(n),!0)},e.prototype.adoptNode=function(n){return document.adoptNode(n)},e.prototype.getHref=function(n){return n.getAttribute("href")},e.prototype.getEventKey=function(n){var e=n.key;if(null==e){if(null==(e=n.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ga.hasOwnProperty(e)&&(e=Ga[e]))}return Wa[e]||e},e.prototype.getGlobalEventTarget=function(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(n){var e,t=Ya||(Ya=document.querySelector("base"))?Ya.getAttribute("href"):null;return null==t?null:(e=t,Qa||(Qa=document.createElement("a")),Qa.setAttribute("href",e),"/"===Qa.pathname.charAt(0)?Qa.pathname:"/"+Qa.pathname)},e.prototype.resetBaseElement=function(){Ya=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(n,e,t){this.setAttribute(n,"data-"+e,t)},e.prototype.getData=function(n,e){return this.getAttribute(n,"data-"+e)},e.prototype.getComputedStyle=function(n){return getComputedStyle(n)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(n){return function(n,e){var t,r;e=encodeURIComponent(e);try{for(var i=Object(l.__values)(n.split(";")),o=i.next();!o.done;o=i.next()){var u=o.value,a=u.indexOf("="),s=Object(l.__read)(-1==a?[u,""]:[u.slice(0,a),u.slice(a+1)],2),c=s[1];if(s[0].trim()===e)return decodeURIComponent(c)}}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null}(document.cookie,n)},e.prototype.setCookie=function(n,e){document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)},e}(function(n){function e(){var e=n.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var t=e.createElement("div",document);if(null!=e.getStyle(t,"animationName"))e._animationPrefix="";else for(var l=["Webkit","Moz","O","ms"],r=0;r<l.length;r++)if(null!=e.getStyle(t,l[r]+"AnimationName")){e._animationPrefix="-"+l[r].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(n){null!=e.getStyle(t,n)&&(e._transitionEnd=i[n])})}catch(o){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(l.__extends)(e,n),e.prototype.getDistributedNodes=function(n){return n.getDistributedNodes()},e.prototype.resolveAndSetHref=function(n,e,t){n.href=null==t?e:e+"/../"+t},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function n(){this.resourceLoaderType=null}return Object.defineProperty(n.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(n){this._attrToPropMap=n},enumerable:!0,configurable:!0}),n}())),Ya=null,$a=Ku;function Za(){return!!window.history.pushState}var Ja=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t._init(),t}return Object(l.__extends)(e,n),e.prototype._init=function(){this.location=Ka().getLocation(),this._history=Ka().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Ka().getBaseHref(this._doc)},e.prototype.onPopState=function(n){Ka().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",n,!1)},e.prototype.onHashChange=function(n){Ka().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",n,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(n){this.location.pathname=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(n,e,t){Za()?this._history.pushState(n,e,t):this.location.hash=t},e.prototype.replaceState=function(n,e,t){Za()?this._history.replaceState(n,e,t):this.location.hash=t},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(l.__decorate)([Object(l.__param)(0,qn($a)),Object(l.__metadata)("design:paramtypes",[Object])],e)}(mu),ns=new vn("TRANSITION_ID"),es=[{provide:kt,useFactory:function(n,e,t){return function(){t.get(At).donePromise.then(function(){var t=Ka();Array.prototype.slice.apply(t.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return t.getAttribute(e,"ng-transition")===n}).forEach(function(n){return t.remove(n)})})}},deps:[ns,$a,ie],multi:!0}],ts=function(){function n(){}return n.init=function(){var e;e=new n,ol=e},n.prototype.addToWindow=function(n){kn.getAngularTestability=function(e,t){void 0===t&&(t=!0);var l=n.findTestabilityInTree(e,t);if(null==l)throw new Error("Could not find testability for element.");return l},kn.getAllAngularTestabilities=function(){return n.getAllTestabilities()},kn.getAllAngularRootElements=function(){return n.getAllRootElements()},kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(function(n){var e=kn.getAllAngularTestabilities(),t=e.length,l=!1,r=function(e){l=l||e,0==--t&&n(l)};e.forEach(function(n){n.whenStable(r)})})},n.prototype.findTestabilityInTree=function(n,e,t){if(null==e)return null;var l=n.getTestability(e);return null!=l?l:t?Ka().isShadowRoot(e)?this.findTestabilityInTree(n,Ka().getHost(e),!0):this.findTestabilityInTree(n,Ka().parentElement(e),!0):null},n}();function ls(n,e){"undefined"!=typeof COMPILED&&COMPILED||((kn.ng=kn.ng||{})[n]=e)}var rs={ApplicationRef:pl,NgZone:Yt};function is(n){return Al(n)}var os=new vn("EventManagerPlugins"),us=function(){function n(n,e){var t=this;this._zone=e,this._eventNameToPlugin=new Map,n.forEach(function(n){return n.manager=t}),this._plugins=n.slice().reverse()}return n.prototype.addEventListener=function(n,e,t){return this._findPluginFor(e).addEventListener(n,e,t)},n.prototype.addGlobalEventListener=function(n,e,t){return this._findPluginFor(e).addGlobalEventListener(n,e,t)},n.prototype.getZone=function(){return this._zone},n.prototype._findPluginFor=function(n){var e=this._eventNameToPlugin.get(n);if(e)return e;for(var t=this._plugins,l=0;l<t.length;l++){var r=t[l];if(r.supports(n))return this._eventNameToPlugin.set(n,r),r}throw new Error("No event manager plugin found for event "+n)},n}(),as=function(){function n(n){this._doc=n}return n.prototype.addGlobalEventListener=function(n,e,t){var l=Ka().getGlobalEventTarget(this._doc,n);if(!l)throw new Error("Unsupported event target "+l+" for event "+e);return this.addEventListener(l,e,t)},n}(),ss=function(){function n(){this._stylesSet=new Set}return n.prototype.addStyles=function(n){var e=this,t=new Set;n.forEach(function(n){e._stylesSet.has(n)||(e._stylesSet.add(n),t.add(n))}),this.onStylesAdded(t)},n.prototype.onStylesAdded=function(n){},n.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},n}(),cs=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t._hostNodes=new Set,t._styleNodes=new Set,t._hostNodes.add(e.head),t}return Object(l.__extends)(e,n),e.prototype._addStylesToHost=function(n,e){var t=this;n.forEach(function(n){var l=t._doc.createElement("style");l.textContent=n,t._styleNodes.add(e.appendChild(l))})},e.prototype.addHost=function(n){this._addStylesToHost(this._stylesSet,n),this._hostNodes.add(n)},e.prototype.removeHost=function(n){this._hostNodes.delete(n)},e.prototype.onStylesAdded=function(n){var e=this;this._hostNodes.forEach(function(t){return e._addStylesToHost(n,t)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(n){return Ka().remove(n)})},e}(ss),hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ds=/%COMP%/g,ps="_nghost-%COMP%",fs="_ngcontent-%COMP%";function ms(n,e,t){for(var l=0;l<e.length;l++){var r=e[l];Array.isArray(r)?ms(n,r,t):(r=r.replace(ds,n),t.push(r))}return t}function gs(n){return function(e){!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}var ys=function(){function n(n,e,t){this.eventManager=n,this.sharedStylesHost=e,this.appId=t,this.rendererByCompId=new Map,this.defaultRenderer=new vs(n)}return n.prototype.createRenderer=function(n,e){if(!n||!e)return this.defaultRenderer;switch(e.encapsulation){case Un.Emulated:var t=this.rendererByCompId.get(e.id);return t||(t=new Cs(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,t)),t.applyToHost(n),t;case Un.Native:case Un.ShadowDom:return new Es(this.eventManager,this.sharedStylesHost,n,e);default:if(!this.rendererByCompId.has(e.id)){var l=ms(e.id,e.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},n.prototype.begin=function(){},n.prototype.end=function(){},n}(),vs=function(){function n(n){this.eventManager=n,this.data=Object.create(null)}return n.prototype.destroy=function(){},n.prototype.createElement=function(n,e){return e?document.createElementNS(hs[e],n):document.createElement(n)},n.prototype.createComment=function(n){return document.createComment(n)},n.prototype.createText=function(n){return document.createTextNode(n)},n.prototype.appendChild=function(n,e){n.appendChild(e)},n.prototype.insertBefore=function(n,e,t){n&&n.insertBefore(e,t)},n.prototype.removeChild=function(n,e){n&&n.removeChild(e)},n.prototype.selectRootElement=function(n,e){var t="string"==typeof n?document.querySelector(n):n;if(!t)throw new Error('The selector "'+n+'" did not match any elements');return e||(t.textContent=""),t},n.prototype.parentNode=function(n){return n.parentNode},n.prototype.nextSibling=function(n){return n.nextSibling},n.prototype.setAttribute=function(n,e,t,l){if(l){e=l+":"+e;var r=hs[l];r?n.setAttributeNS(r,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)},n.prototype.removeAttribute=function(n,e,t){if(t){var l=hs[t];l?n.removeAttributeNS(l,e):n.removeAttribute(t+":"+e)}else n.removeAttribute(e)},n.prototype.addClass=function(n,e){n.classList.add(e)},n.prototype.removeClass=function(n,e){n.classList.remove(e)},n.prototype.setStyle=function(n,e,t,l){l&Pe.DashCase?n.style.setProperty(e,t,l&Pe.Important?"important":""):n.style[e]=t},n.prototype.removeStyle=function(n,e,t){t&Pe.DashCase?n.style.removeProperty(e):n.style[e]=""},n.prototype.setProperty=function(n,e,t){_s(e,"property"),n[e]=t},n.prototype.setValue=function(n,e){n.nodeValue=e},n.prototype.listen=function(n,e,t){return _s(e,"listener"),"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,gs(t)):this.eventManager.addEventListener(n,e,gs(t))},n}(),bs="@".charCodeAt(0);function _s(n,e){if(n.charCodeAt(0)===bs)throw new Error("Found the synthetic "+e+" "+n+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var ws,Cs=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;i.component=l;var o=ms(r+"-"+l.id,l.styles,[]);return t.addStyles(o),i.contentAttr=fs.replace(ds,r+"-"+l.id),i.hostAttr=ps.replace(ds,r+"-"+l.id),i}return Object(l.__extends)(e,n),e.prototype.applyToHost=function(e){n.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,t){var l=n.prototype.createElement.call(this,e,t);return n.prototype.setAttribute.call(this,l,this.contentAttr,""),l},e}(vs),Es=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;i.sharedStylesHost=t,i.hostEl=l,i.component=r,i.shadowRoot=r.encapsulation===Un.ShadowDom?l.attachShadow({mode:"open"}):l.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var o=ms(r.id,r.styles,[]),u=0;u<o.length;u++){var a=document.createElement("style");a.textContent=o[u],i.shadowRoot.appendChild(a)}return i}return Object(l.__extends)(e,n),e.prototype.nodeOrShadowRoot=function(n){return n===this.hostEl?this.shadowRoot:n},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,t){return n.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),t)},e.prototype.insertBefore=function(e,t,l){return n.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),t,l)},e.prototype.removeChild=function(e,t){return n.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),t)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(n.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(vs),Ss="undefined"!=typeof Zone&&Zone.__symbol__||function(n){return"__zone_symbol__"+n},Ts=Ss("addEventListener"),Is=Ss("removeEventListener"),ks={},As="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Ss("BLACK_LISTED_EVENTS")]&&(ws={});var Ds=function(n){return!!ws&&ws.hasOwnProperty(n)},xs=function(n){var e=ks[n.type];if(e){var t=this[e];if(t){var l=[n];if(1===t.length)return(o=t[0]).zone!==Zone.current?o.zone.run(o.handler,this,l):o.handler.apply(this,l);for(var r=t.slice(),i=0;i<r.length&&!0!==n[As];i++){var o;(o=r[i]).zone!==Zone.current?o.zone.run(o.handler,this,l):o.handler.apply(this,l)}}}},Ns=function(n){function e(e,t,l){var r=n.call(this,e)||this;return r.ngZone=t,l&&Hu(l)||r.patchEvent(),r}return Object(l.__extends)(e,n),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var n=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[As]=!0),n&&n.apply(this,arguments)}}},e.prototype.supports=function(n){return!0},e.prototype.addEventListener=function(n,e,t){var l=this,r=t;if(!n[Ts]||Yt.isInAngularZone()&&!Ds(e))n.addEventListener(e,r,!1);else{var i=ks[e];i||(i=ks[e]=Ss("ANGULAR"+e+"FALSE"));var o=n[i],u=o&&o.length>0;o||(o=n[i]=[]);var a=Ds(e)?Zone.root:Zone.current;if(0===o.length)o.push({zone:a,handler:r});else{for(var s=!1,c=0;c<o.length;c++)if(o[c].handler===r){s=!0;break}s||o.push({zone:a,handler:r})}u||n[Ts](e,xs,!1)}return function(){return l.removeEventListener(n,e,r)}},e.prototype.removeEventListener=function(n,e,t){var l=n[Is];if(!l)return n.removeEventListener.apply(n,[e,t,!1]);var r=ks[e],i=r&&n[r];if(!i)return n.removeEventListener.apply(n,[e,t,!1]);for(var o=!1,u=0;u<i.length;u++)if(i[u].handler===t){o=!0,i.splice(u,1);break}o?0===i.length&&l.apply(n,[e,xs,!1]):n.removeEventListener.apply(n,[e,t,!1])},e}(as),Os={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Rs=new vn("HammerGestureConfig"),Ps=new vn("HammerLoader"),Ms=function(){function n(){this.events=[],this.overrides={}}return n.prototype.buildHammer=function(n){var e=new Hammer(n,this.options);for(var t in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(t).set(this.overrides[t]);return e},n}(),Ls=function(n){function e(e,t,l,r){var i=n.call(this,e)||this;return i._config=t,i.console=l,i.loader=r,i}return Object(l.__extends)(e,n),e.prototype.supports=function(n){return!(!Os.hasOwnProperty(n.toLowerCase())&&!this.isCustomEvent(n)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+n+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(n,e,t){var l=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,o=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return l.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});i||(o=l.addEventListener(n,e,t))}).catch(function(){l.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),o=function(){}}),function(){o()}}return r.runOutsideAngular(function(){var i=l._config.buildHammer(n),o=function(n){r.runGuarded(function(){t(n)})};return i.on(e,o),function(){i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})},e.prototype.isCustomEvent=function(n){return this._config.events.indexOf(n)>-1},e}(as),Vs=["alt","control","meta","shift"],Us={alt:function(n){return n.altKey},control:function(n){return n.ctrlKey},meta:function(n){return n.metaKey},shift:function(n){return n.shiftKey}},qs=function(n){function e(e){return n.call(this,e)||this}var t;return Object(l.__extends)(e,n),t=e,e.prototype.supports=function(n){return null!=t.parseEventName(n)},e.prototype.addEventListener=function(n,e,l){var r=t.parseEventName(e),i=t.eventCallback(r.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Ka().onAndCancel(n,r.domEventName,i)})},e.parseEventName=function(n){var e=n.toLowerCase().split("."),l=e.shift();if(0===e.length||"keydown"!==l&&"keyup"!==l)return null;var r=t._normalizeKey(e.pop()),i="";if(Vs.forEach(function(n){var t=e.indexOf(n);t>-1&&(e.splice(t,1),i+=n+".")}),i+=r,0!=e.length||0===r.length)return null;var o={};return o.domEventName=l,o.fullKey=i,o},e.getEventFullKey=function(n){var e="",t=Ka().getEventKey(n);return" "===(t=t.toLowerCase())?t="space":"."===t&&(t="dot"),Vs.forEach(function(l){l!=t&&(0,Us[l])(n)&&(e+=l+".")}),e+=t},e.eventCallback=function(n,e,l){return function(r){t.getEventFullKey(r)===n&&l.runGuarded(function(){return e(r)})}},e._normalizeKey=function(n){switch(n){case"esc":return"escape";default:return n}},e}(as),Fs=function(){return function(){}}(),js=function(n){function e(e){var t=n.call(this)||this;return t._doc=e,t}return Object(l.__extends)(e,n),e.prototype.sanitize=function(n,e){if(null==e)return null;switch(n){case Ve.NONE:return e;case Ve.HTML:return e instanceof Ks?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(n,e){var t=null;try{Xe=Xe||new Ke(n);var l=e?String(e):"";t=Xe.getInertBodyElement(l);var r=5,i=l;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,l=i,i=t.innerHTML,t=Xe.getInertBodyElement(l)}while(l!==i);var o=new it,u=o.sanitizeChildren(st(t)||t);return Be()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(t)for(var a=st(t)||t;a.firstChild;)a.removeChild(a.firstChild)}}(this._doc,String(e)));case Ve.STYLE:return e instanceof zs?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(n){if(!(n=String(n).trim()))return"";var e=n.match(ft);return e&&We(e[1])===e[1]||n.match(pt)&&function(n){for(var e=!0,t=!0,l=0;l<n.length;l++){var r=n.charAt(l);"'"===r&&t?e=!e:'"'===r&&e&&(t=!t)}return e&&t}(n)?n:(Be()&&console.warn("WARNING: sanitizing unsafe style value "+n+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Ve.SCRIPT:if(e instanceof Hs)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ve.URL:return e instanceof Gs||e instanceof Ws?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),We(String(e)));case Ve.RESOURCE_URL:if(e instanceof Gs)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+n+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(n,e){if(n instanceof Bs)throw new Error("Required a safe "+e+", got a "+n.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(n){return new Ks(n)},e.prototype.bypassSecurityTrustStyle=function(n){return new zs(n)},e.prototype.bypassSecurityTrustScript=function(n){return new Hs(n)},e.prototype.bypassSecurityTrustUrl=function(n){return new Ws(n)},e.prototype.bypassSecurityTrustResourceUrl=function(n){return new Gs(n)},e}(Fs),Bs=function(){function n(n){this.changingThisBreaksApplicationSecurity=n}return n.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},n}(),Ks=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.getTypeName=function(){return"HTML"},e}(Bs),zs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.getTypeName=function(){return"Style"},e}(Bs),Hs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.getTypeName=function(){return"Script"},e}(Bs),Ws=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.getTypeName=function(){return"URL"},e}(Bs),Gs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Bs),Qs=sl(Hl,"browser",[{provide:Rt,useValue:"browser"},{provide:Ot,useValue:function(){Xa.makeCurrent(),ts.init()},multi:!0},{provide:mu,useClass:Ja,deps:[$a]},{provide:$a,useFactory:function(){return document},deps:[]}]);function Xs(){return new St}var Ys=function(){function n(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=n,n.withServerTransition=function(n){return{ngModule:e,providers:[{provide:Dt,useValue:n.appId},{provide:ns,useExisting:Dt},es]}},n}();"undefined"!=typeof window&&window;var $s=function(){return function(n,e){this.id=n,this.url=e}}(),Zs=function(n){function e(e,t,l,r){void 0===l&&(l="imperative"),void 0===r&&(r=null);var i=n.call(this,e,t)||this;return i.navigationTrigger=l,i.restoredState=r,i}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}($s),Js=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.urlAfterRedirects=l,r}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}($s),nc=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.reason=l,r}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}($s),ec=function(n){function e(e,t,l){var r=n.call(this,e,t)||this;return r.error=l,r}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}($s),tc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}($s),lc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}($s),rc=function(n){function e(e,t,l,r,i){var o=n.call(this,e,t)||this;return o.urlAfterRedirects=l,o.state=r,o.shouldActivate=i,o}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}($s),ic=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}($s),oc=function(n){function e(e,t,l,r){var i=n.call(this,e,t)||this;return i.urlAfterRedirects=l,i.state=r,i}return Object(l.__extends)(e,n),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}($s),uc=function(){function n(n){this.route=n}return n.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},n}(),ac=function(){function n(n){this.route=n}return n.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},n}(),sc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),cc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),hc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),dc=function(){function n(n){this.snapshot=n}return n.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},n}(),pc=function(){function n(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t}return n.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},n}(),fc=function(){return function(){}}(),mc="primary",gc=function(){function n(n){this.params=n||{}}return n.prototype.has=function(n){return this.params.hasOwnProperty(n)},n.prototype.get=function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e[0]:e}return null},n.prototype.getAll=function(n){if(this.has(n)){var e=this.params[n];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(n.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),n}();function yc(n){return new gc(n)}var vc="ngNavigationCancelingError";function bc(n){var e=Error("NavigationCancelingError: "+n);return e[vc]=!0,e}function _c(n,e,t){var l=t.path.split("/");if(l.length>n.length)return null;if("full"===t.pathMatch&&(e.hasChildren()||l.length<n.length))return null;for(var r={},i=0;i<l.length;i++){var o=l[i],u=n[i];if(o.startsWith(":"))r[o.substring(1)]=u;else if(o!==u.path)return null}return{consumed:n.slice(0,l.length),posParams:r}}var wc=function(){return function(n,e){this.routes=n,this.module=e}}();function Cc(n,e){void 0===e&&(e="");for(var t=0;t<n.length;t++){var l=n[t];Ec(l,Sc(e,l))}}function Ec(n,e){if(!n)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(n))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!n.component&&!n.children&&!n.loadChildren&&n.outlet&&n.outlet!==mc)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(n.redirectTo&&n.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(n.redirectTo&&n.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(n.children&&n.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(n.redirectTo&&n.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(n.path&&n.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===n.redirectTo&&!n.component&&!n.children&&!n.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===n.path&&void 0===n.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof n.path&&"/"===n.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===n.path&&void 0!==n.redirectTo&&void 0===n.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+n.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==n.pathMatch&&"full"!==n.pathMatch&&"prefix"!==n.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");n.children&&Cc(n.children,e)}function Sc(n,e){return e?n||e.path?n&&!e.path?n+"/":!n&&e.path?e.path:n+"/"+e.path:"":n}function Tc(n){var e=n.children&&n.children.map(Tc),t=e?Object(l.__assign)({},n,{children:e}):Object(l.__assign)({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mc&&(t.component=fc),t}function Ic(n,e){var t,l=Object.keys(n),r=Object.keys(e);if(l.length!=r.length)return!1;for(var i=0;i<l.length;i++)if(n[t=l[i]]!==e[t])return!1;return!0}function kc(n){return Array.prototype.concat.apply([],n)}function Ac(n){return n.length>0?n[n.length-1]:null}function Dc(n,e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xc(n){return It(n)?n:Tt(n)?$(Promise.resolve(n)):$u(n)}function Nc(n,e,t){return t?function(n,e){return Ic(n,e)}(n.queryParams,e.queryParams)&&function n(e,t){if(!Mc(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var l in t.children){if(!e.children[l])return!1;if(!n(e.children[l],t.children[l]))return!1}return!0}(n.root,e.root):function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(function(t){return e[t]===n[t]})}(n.queryParams,e.queryParams)&&function n(e,t){return function e(t,l,r){if(t.segments.length>r.length)return!!Mc(o=t.segments.slice(0,r.length),r)&&!l.hasChildren();if(t.segments.length===r.length){if(!Mc(t.segments,r))return!1;for(var i in l.children){if(!t.children[i])return!1;if(!n(t.children[i],l.children[i]))return!1}return!0}var o=r.slice(0,t.segments.length),u=r.slice(t.segments.length);return!!Mc(t.segments,o)&&!!t.children[mc]&&e(t.children[mc],l,u)}(e,t,t.segments)}(n.root,e.root)}var Oc=function(){function n(n,e,t){this.root=n,this.queryParams=e,this.fragment=t}return Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return qc.serialize(this)},n}(),Rc=function(){function n(n,e){var t=this;this.segments=n,this.children=e,this.parent=null,Dc(e,function(n,e){return n.parent=t})}return n.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(n.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return Fc(this)},n}(),Pc=function(){function n(n,e){this.path=n,this.parameters=e}return Object.defineProperty(n.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=yc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return Wc(this)},n}();function Mc(n,e){return n.length===e.length&&n.every(function(n,t){return n.path===e[t].path})}function Lc(n,e){var t=[];return Dc(n.children,function(n,l){l===mc&&(t=t.concat(e(n,l)))}),Dc(n.children,function(n,l){l!==mc&&(t=t.concat(e(n,l)))}),t}var Vc=function(){return function(){}}(),Uc=function(){function n(){}return n.prototype.parse=function(n){var e=new $c(n);return new Oc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},n.prototype.serialize=function(n){var e,t;return"/"+function n(e,t){if(!e.hasChildren())return Fc(e);if(t){var l=e.children[mc]?n(e.children[mc],!1):"",r=[];return Dc(e.children,function(e,t){t!==mc&&r.push(t+":"+n(e,!1))}),r.length>0?l+"("+r.join("//")+")":l}var i=Lc(e,function(t,l){return l===mc?[n(e.children[mc],!1)]:[l+":"+n(t,!1)]});return Fc(e)+"/("+i.join("//")+")"}(n.root,!0)+(e=n.queryParams,(t=Object.keys(e).map(function(n){var t=e[n];return Array.isArray(t)?t.map(function(e){return Bc(n)+"="+Bc(e)}).join("&"):Bc(n)+"="+Bc(t)})).length?"?"+t.join("&"):"")+("string"==typeof n.fragment?"#"+encodeURI(n.fragment):"")},n}(),qc=new Uc;function Fc(n){return n.segments.map(function(n){return Wc(n)}).join("/")}function jc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bc(n){return jc(n).replace(/%3B/gi,";")}function Kc(n){return jc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(n){return decodeURIComponent(n)}function Hc(n){return zc(n.replace(/\+/g,"%20"))}function Wc(n){return""+Kc(n.path)+(e=n.parameters,Object.keys(e).map(function(n){return";"+Kc(n)+"="+Kc(e[n])}).join(""));var e}var Gc=/^[^\/()?;=#]+/;function Qc(n){var e=n.match(Gc);return e?e[0]:""}var Xc=/^[^=?&#]+/,Yc=/^[^?&#]+/,$c=function(){function n(n){this.url=n,this.remaining=n}return n.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rc([],{}):new Rc([],this.parseChildren())},n.prototype.parseQueryParams=function(){var n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n},n.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},n.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[mc]=new Rc(n,e)),t},n.prototype.parseSegment=function(){var n=Qc(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(n),new Pc(zc(n),this.parseMatrixParams())},n.prototype.parseMatrixParams=function(){for(var n={};this.consumeOptional(";");)this.parseParam(n);return n},n.prototype.parseParam=function(n){var e=Qc(this.remaining);if(e){this.capture(e);var t="";if(this.consumeOptional("=")){var l=Qc(this.remaining);l&&this.capture(t=l)}n[zc(e)]=zc(t)}},n.prototype.parseQueryParam=function(n){var e,t=(e=this.remaining.match(Xc))?e[0]:"";if(t){this.capture(t);var l="";if(this.consumeOptional("=")){var r=function(n){var e=n.match(Yc);return e?e[0]:""}(this.remaining);r&&this.capture(l=r)}var i=Hc(t),o=Hc(l);if(n.hasOwnProperty(i)){var u=n[i];Array.isArray(u)||(n[i]=u=[u]),u.push(o)}else n[i]=o}},n.prototype.parseParens=function(n){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var t=Qc(this.remaining),l=this.remaining[t.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;t.indexOf(":")>-1?(r=t.substr(0,t.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=mc);var i=this.parseChildren();e[r]=1===Object.keys(i).length?i[mc]:new Rc([],i),this.consumeOptional("//")}return e},n.prototype.peekStartsWith=function(n){return this.remaining.startsWith(n)},n.prototype.consumeOptional=function(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)},n.prototype.capture=function(n){if(!this.consumeOptional(n))throw new Error('Expected "'+n+'".')},n}(),Zc=function(){function n(n){this._root=n}return Object.defineProperty(n.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),n.prototype.parent=function(n){var e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null},n.prototype.children=function(n){var e=Jc(n,this._root);return e?e.children.map(function(n){return n.value}):[]},n.prototype.firstChild=function(n){var e=Jc(n,this._root);return e&&e.children.length>0?e.children[0].value:null},n.prototype.siblings=function(n){var e=nh(n,this._root);return e.length<2?[]:e[e.length-2].children.map(function(n){return n.value}).filter(function(e){return e!==n})},n.prototype.pathFromRoot=function(n){return nh(n,this._root).map(function(n){return n.value})},n}();function Jc(n,e){var t,r;if(n===e.value)return e;try{for(var i=Object(l.__values)(e.children),o=i.next();!o.done;o=i.next()){var u=Jc(n,o.value);if(u)return u}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null}function nh(n,e){var t,r;if(n===e.value)return[e];try{for(var i=Object(l.__values)(e.children),o=i.next();!o.done;o=i.next()){var u=nh(n,o.value);if(u.length)return u.unshift(e),u}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return[]}var eh=function(){function n(n,e){this.value=n,this.children=e}return n.prototype.toString=function(){return"TreeNode("+this.value+")"},n}();function th(n){var e={};return n&&n.children.forEach(function(n){return e[n.value.outlet]=n}),e}var lh=function(n){function e(e,t){var l=n.call(this,e)||this;return l.snapshot=t,sh(l,e),l}return Object(l.__extends)(e,n),e.prototype.toString=function(){return this.snapshot.toString()},e}(Zc);function rh(n,e){var t=function(n,e){var t=new uh([],{},{},"",{},mc,e,null,n.root,-1,{});return new ah("",new eh(t,[]))}(n,e),l=new Zu([new Pc("",{})]),r=new Zu({}),i=new Zu({}),o=new Zu({}),u=new Zu(""),a=new ih(l,r,o,u,i,mc,e,t.root);return a.snapshot=t.root,new lh(new eh(a,[]),t)}var ih=function(){function n(n,e,t,l,r,i,o,u){this.url=n,this.params=e,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=o,this._futureSnapshot=u}return Object.defineProperty(n.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G(function(n){return yc(n)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(function(n){return yc(n)}))),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},n}();function oh(n,e){void 0===e&&(e="emptyOnly");var t=n.pathFromRoot,r=0;if("always"!==e)for(r=t.length-1;r>=1;){var i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(n){return n.reduce(function(n,e){return{params:Object(l.__assign)({},n.params,e.params),data:Object(l.__assign)({},n.data,e.data),resolve:Object(l.__assign)({},n.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}var uh=function(){function n(n,e,t,l,r,i,o,u,a,s,c){this.url=n,this.params=e,this.queryParams=t,this.fragment=l,this.data=r,this.outlet=i,this.component=o,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=s,this._resolve=c}return Object.defineProperty(n.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=yc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=yc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return"Route(url:'"+this.url.map(function(n){return n.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},n}(),ah=function(n){function e(e,t){var l=n.call(this,t)||this;return l.url=e,sh(l,t),l}return Object(l.__extends)(e,n),e.prototype.toString=function(){return ch(this._root)},e}(Zc);function sh(n,e){e.value._routerState=n,e.children.forEach(function(e){return sh(n,e)})}function ch(n){var e=n.children.length>0?" { "+n.children.map(ch).join(", ")+" } ":"";return""+n.value+e}function hh(n){if(n.snapshot){var e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ic(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ic(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;++t)if(!Ic(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ic(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function dh(n,e){var t,l;return Ic(n.params,e.params)&&Mc(t=n.url,l=e.url)&&t.every(function(n,e){return Ic(n.parameters,l[e].parameters)})&&!(!n.parent!=!e.parent)&&(!n.parent||dh(n.parent,e.parent))}function ph(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fh(n,e,t,l,r){var i={};return l&&Dc(l,function(n,e){i[e]=Array.isArray(n)?n.map(function(n){return""+n}):""+n}),new Oc(t.root===n?e:function n(e,t,l){var r={};return Dc(e.children,function(e,i){r[i]=e===t?l:n(e,t,l)}),new Rc(e.segments,r)}(t.root,n,e),i,r)}var mh=function(){function n(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&ph(t[0]))throw new Error("Root segment cannot have matrix parameters");var l=t.find(function(n){return"object"==typeof n&&null!=n&&n.outlets});if(l&&l!==Ac(t))throw new Error("{outlets:{}} has to be the last command")}return n.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},n}(),gh=function(){return function(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}();function yh(n){return"object"==typeof n&&null!=n&&n.outlets?n.outlets[mc]:""+n}function vh(n,e,t){if(n||(n=new Rc([],{})),0===n.segments.length&&n.hasChildren())return bh(n,e,t);var l=function(n,e,t){for(var l=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};r<n.segments.length;){if(l>=t.length)return i;var o=n.segments[r],u=yh(t[l]),a=l<t.length-1?t[l+1]:null;if(r>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Eh(u,a,o))return i;l+=2}else{if(!Eh(u,{},o))return i;l++}r++}return{match:!0,pathIndex:r,commandIndex:l}}(n,e,t),r=t.slice(l.commandIndex);if(l.match&&l.pathIndex<n.segments.length){var i=new Rc(n.segments.slice(0,l.pathIndex),{});return i.children[mc]=new Rc(n.segments.slice(l.pathIndex),n.children),bh(i,0,r)}return l.match&&0===r.length?new Rc(n.segments,{}):l.match&&!n.hasChildren()?_h(n,e,t):l.match?bh(n,0,r):_h(n,e,t)}function bh(n,e,t){if(0===t.length)return new Rc(n.segments,{});var l=function(n){var e,t;return"object"!=typeof n[0]?((e={})[mc]=n,e):void 0===n[0].outlets?((t={})[mc]=n,t):n[0].outlets}(t),r={};return Dc(l,function(t,l){null!==t&&(r[l]=vh(n.children[l],e,t))}),Dc(n.children,function(n,e){void 0===l[e]&&(r[e]=n)}),new Rc(n.segments,r)}function _h(n,e,t){for(var l=n.segments.slice(0,e),r=0;r<t.length;){if("object"==typeof t[r]&&void 0!==t[r].outlets){var i=wh(t[r].outlets);return new Rc(l,i)}if(0===r&&ph(t[0]))l.push(new Pc(n.segments[e].path,t[0])),r++;else{var o=yh(t[r]),u=r<t.length-1?t[r+1]:null;o&&u&&ph(u)?(l.push(new Pc(o,Ch(u))),r+=2):(l.push(new Pc(o,{})),r++)}}return new Rc(l,{})}function wh(n){var e={};return Dc(n,function(n,t){null!==n&&(e[t]=_h(new Rc([],{}),0,n))}),e}function Ch(n){var e={};return Dc(n,function(n,t){return e[t]=""+n}),e}function Eh(n,e,t){return n==t.path&&Ic(e,t.parameters)}var Sh=function(){function n(n,e,t,l){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=l}return n.prototype.activate=function(n){var e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),hh(this.futureState.root),this.activateChildRoutes(e,t,n)},n.prototype.deactivateChildRoutes=function(n,e,t){var l=this,r=th(e);n.children.forEach(function(n){var e=n.value.outlet;l.deactivateRoutes(n,r[e],t),delete r[e]}),Dc(r,function(n,e){l.deactivateRouteAndItsChildren(n,t)})},n.prototype.deactivateRoutes=function(n,e,t){var l=n.value,r=e?e.value:null;if(l===r)if(l.component){var i=t.getContext(l.outlet);i&&this.deactivateChildRoutes(n,e,i.children)}else this.deactivateChildRoutes(n,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)},n.prototype.deactivateRouteAndItsChildren=function(n,e){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)},n.prototype.detachAndStoreRouteSubtree=function(n,e){var t=e.getContext(n.value.outlet);if(t&&t.outlet){var l=t.outlet.detach(),r=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:r})}},n.prototype.deactivateRouteAndOutlet=function(n,e){var t=this,l=e.getContext(n.value.outlet);if(l){var r=th(n),i=n.value.component?l.children:e;Dc(r,function(n,e){return t.deactivateRouteAndItsChildren(n,i)}),l.outlet&&(l.outlet.deactivate(),l.children.onOutletDeactivated())}},n.prototype.activateChildRoutes=function(n,e,t){var l=this,r=th(e);n.children.forEach(function(n){l.activateRoutes(n,r[n.value.outlet],t),l.forwardEvent(new dc(n.value.snapshot))}),n.children.length&&this.forwardEvent(new cc(n.value.snapshot))},n.prototype.activateRoutes=function(n,e,t){var l=n.value,r=e?e.value:null;if(hh(l),l===r)if(l.component){var i=t.getOrCreateContext(l.outlet);this.activateChildRoutes(n,e,i.children)}else this.activateChildRoutes(n,e,t);else if(l.component)if(i=t.getOrCreateContext(l.outlet),this.routeReuseStrategy.shouldAttach(l.snapshot)){var o=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),i.children.onOutletReAttached(o.contexts),i.attachRef=o.componentRef,i.route=o.route.value,i.outlet&&i.outlet.attach(o.componentRef,o.route.value),Th(o.route)}else{var u=function(n){for(var e=l.snapshot.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),a=u?u.module.componentFactoryResolver:null;i.attachRef=null,i.route=l,i.resolver=a,i.outlet&&i.outlet.activateWith(l,a),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,t)},n}();function Th(n){hh(n.value),n.children.forEach(Th)}function Ih(n){return"function"==typeof n}function kh(n){return n instanceof Oc}var Ah=function(){return function(n){this.segmentGroup=n||null}}(),Dh=function(){return function(n){this.urlTree=n}}();function xh(n){return new I(function(e){return e.error(new Ah(n))})}function Nh(n){return new I(function(e){return e.error(new Dh(n))})}function Oh(n){return new I(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+n+"'"))})}var Rh=function(){function n(n,e,t,l,r){this.configLoader=e,this.urlSerializer=t,this.urlTree=l,this.config=r,this.allowRedirects=!0,this.ngModule=n.get(Ae)}return n.prototype.apply=function(){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,mc).pipe(G(function(e){return n.createUrlTree(e,n.urlTree.queryParams,n.urlTree.fragment)})).pipe(Ea(function(e){if(e instanceof Dh)return n.allowRedirects=!1,n.match(e.urlTree);if(e instanceof Ah)throw n.noMatchError(e);throw e}))},n.prototype.match=function(n){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,n.root,mc).pipe(G(function(t){return e.createUrlTree(t,n.queryParams,n.fragment)})).pipe(Ea(function(n){if(n instanceof Ah)throw e.noMatchError(n);throw n}))},n.prototype.noMatchError=function(n){return new Error("Cannot match any routes. URL Segment: '"+n.segmentGroup+"'")},n.prototype.createUrlTree=function(n,e,t){var l,r=n.segments.length>0?new Rc([],((l={})[mc]=n,l)):n;return new Oc(r,e,t)},n.prototype.expandSegmentGroup=function(n,e,t,l){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(n,e,t).pipe(G(function(n){return new Rc([],n)})):this.expandSegment(n,t,e,t.segments,l,!0)},n.prototype.expandChildren=function(n,e,t){var l=this;return function(t,r){if(0===Object.keys(t).length)return $u({});var i=[],o=[],u={};return Dc(t,function(t,r){var a,s,c=(a=r,s=t,l.expandSegmentGroup(n,e,s,a)).pipe(G(function(n){return u[r]=n}));r===mc?i.push(c):o.push(c)}),$u.apply(null,i.concat(o)).pipe(ia(),Ca(),G(function(){return u}))}(t.children)},n.prototype.expandSegment=function(n,e,t,r,i,o){var u=this;return $u.apply(void 0,Object(l.__spread)(t)).pipe(G(function(l){return u.expandSegmentAgainstRoute(n,e,t,l,r,i,o).pipe(Ea(function(n){if(n instanceof Ah)return $u(null);throw n}))}),ia(),Da(function(n){return!!n}),Ea(function(n,t){if(n instanceof na||"EmptyError"===n.name){if(u.noLeftoversInUrl(e,r,i))return $u(new Rc([],{}));throw new Ah(e)}throw n}))},n.prototype.noLeftoversInUrl=function(n,e,t){return 0===e.length&&!n.children[t]},n.prototype.expandSegmentAgainstRoute=function(n,e,t,l,r,i,o){return Vh(l)!==i?xh(e):void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,e,l,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,t,l,r,i):xh(e)},n.prototype.expandSegmentAgainstRouteUsingRedirect=function(n,e,t,l,r,i){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,l,i):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,l,r,i)},n.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(n,e,t,l){var r=this,i=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?Nh(i):this.lineralizeSegments(t,i).pipe(Z(function(t){var i=new Rc(t,{});return r.expandSegment(n,i,e,t,l,!1)}))},n.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(n,e,t,l,r,i){var o=this,u=Ph(e,l,r),a=u.consumedSegments,s=u.lastChild,c=u.positionalParamSegments;if(!u.matched)return xh(e);var h=this.applyRedirectCommands(a,l.redirectTo,c);return l.redirectTo.startsWith("/")?Nh(h):this.lineralizeSegments(l,h).pipe(Z(function(l){return o.expandSegment(n,e,t,l.concat(r.slice(s)),i,!1)}))},n.prototype.matchSegmentAgainstRoute=function(n,e,t,r){var i=this;if("**"===t.path)return t.loadChildren?this.configLoader.load(n.injector,t).pipe(G(function(n){return t._loadedConfig=n,new Rc(r,{})})):$u(new Rc(r,{}));var o=Ph(e,t,r),u=o.consumedSegments,a=o.lastChild;if(!o.matched)return xh(e);var s=r.slice(a);return this.getChildConfig(n,t,r).pipe(Z(function(n){var t=n.module,r=n.routes,o=function(n,e,t,r){return t.length>0&&function(n,e,t){return r.some(function(t){return Lh(n,e,t)&&Vh(t)!==mc})}(n,t)?{segmentGroup:Mh(new Rc(e,function(n,e){var t,r,i={};i[mc]=e;try{for(var o=Object(l.__values)(n),u=o.next();!u.done;u=o.next()){var a=u.value;""===a.path&&Vh(a)!==mc&&(i[Vh(a)]=new Rc([],{}))}}catch(s){t={error:s}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}(r,new Rc(t,n.children)))),slicedSegments:[]}:0===t.length&&function(n,e,t){return r.some(function(t){return Lh(n,e,t)})}(n,t)?{segmentGroup:Mh(new Rc(n.segments,function(n,e,t,r){var i,o,u={};try{for(var a=Object(l.__values)(t),s=a.next();!s.done;s=a.next()){var c=s.value;Lh(n,e,c)&&!r[Vh(c)]&&(u[Vh(c)]=new Rc([],{}))}}catch(h){i={error:h}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return Object(l.__assign)({},r,u)}(n,t,r,n.children))),slicedSegments:t}:{segmentGroup:n,slicedSegments:t}}(e,u,s,r),a=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&a.hasChildren()?i.expandChildren(t,r,a).pipe(G(function(n){return new Rc(u,n)})):0===r.length&&0===c.length?$u(new Rc(u,{})):i.expandSegment(t,a,r,c,mc,!0).pipe(G(function(n){return new Rc(u.concat(n.segments),n.children)}))}))},n.prototype.getChildConfig=function(n,e,t){var l=this;return e.children?$u(new wc(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?$u(e._loadedConfig):function(n,e,t){var l,r=e.canLoad;return r&&0!==r.length?$(r).pipe(G(function(l){var r,i=n.get(l);if(function(n){return n&&Ih(n.canLoad)}(i))r=i.canLoad(e,t);else{if(!Ih(i))throw new Error("Invalid CanLoad guard");r=i(e,t)}return xc(r)})).pipe(ia(),(l=function(n){return!0===n},function(n){return n.lift(new xa(l,void 0,n))})):$u(!0)}(n.injector,e,t).pipe(Z(function(t){return t?l.configLoader.load(n.injector,e).pipe(G(function(n){return e._loadedConfig=n,n})):function(n){return new I(function(e){return e.error(bc("Cannot load children because the guard of the route \"path: '"+n.path+"'\" returned false"))})}(e)})):$u(new wc([],n))},n.prototype.lineralizeSegments=function(n,e){for(var t=[],l=e.root;;){if(t=t.concat(l.segments),0===l.numberOfChildren)return $u(t);if(l.numberOfChildren>1||!l.children[mc])return Oh(n.redirectTo);l=l.children[mc]}},n.prototype.applyRedirectCommands=function(n,e,t){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,t)},n.prototype.applyRedirectCreatreUrlTree=function(n,e,t,l){var r=this.createSegmentGroup(n,e.root,t,l);return new Oc(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},n.prototype.createQueryParams=function(n,e){var t={};return Dc(n,function(n,l){if("string"==typeof n&&n.startsWith(":")){var r=n.substring(1);t[l]=e[r]}else t[l]=n}),t},n.prototype.createSegmentGroup=function(n,e,t,l){var r=this,i=this.createSegments(n,e.segments,t,l),o={};return Dc(e.children,function(e,i){o[i]=r.createSegmentGroup(n,e,t,l)}),new Rc(i,o)},n.prototype.createSegments=function(n,e,t,l){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(n,e,l):r.findOrReturn(e,t)})},n.prototype.findPosParam=function(n,e,t){var l=t[e.path.substring(1)];if(!l)throw new Error("Cannot redirect to '"+n+"'. Cannot find '"+e.path+"'.");return l},n.prototype.findOrReturn=function(n,e){var t,r,i=0;try{for(var o=Object(l.__values)(e),u=o.next();!u.done;u=o.next()){var a=u.value;if(a.path===n.path)return e.splice(i),a;i++}}catch(s){t={error:s}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},n}();function Ph(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var l=(e.matcher||_c)(t,n,e);return l?{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,positionalParamSegments:l.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Mh(n){if(1===n.numberOfChildren&&n.children[mc]){var e=n.children[mc];return new Rc(n.segments.concat(e.segments),e.children)}return n}function Lh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0!==t.redirectTo}function Vh(n){return n.outlet||mc}var Uh=function(){return function(n){this.path=n,this.route=this.path[this.path.length-1]}}(),qh=function(){return function(n,e){this.component=n,this.route=e}}();function Fh(n,e,t){var l=function(n){if(!n)return null;for(var e=n.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(l?l.module.injector:t).get(n)}function jh(n,e,t,l,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=th(e);return n.children.forEach(function(n){!function(n,e,t,l,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=n.value,o=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var a=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mc(n.url,e.url)||!Ic(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dh(n,e)||!Ic(n.queryParams,e.queryParams);case"paramsChange":default:return!dh(n,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new Uh(l)):(i.data=o.data,i._resolvedData=o._resolvedData),jh(n,e,i.component?u?u.children:null:t,l,r),a&&r.canDeactivateChecks.push(new qh(u&&u.outlet&&u.outlet.component||null,o))}else o&&Bh(e,u,r),r.canActivateChecks.push(new Uh(l)),jh(n,null,i.component?u?u.children:null:t,l,r)}(n,i[n.value.outlet],t,l.concat([n.value]),r),delete i[n.value.outlet]}),Dc(i,function(n,e){return Bh(n,t.getContext(e),r)}),r}function Bh(n,e,t){var l=th(n),r=n.value;Dc(l,function(n,l){Bh(n,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new qh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Kh=Symbol("INITIAL_VALUE");function zh(){return Oa(function(n){return(function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=null,l=null;return P(n[n.length-1])&&(l=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&r(n[0])&&(n=n[0]),Y(n,l).lift(new ta(t))}).apply(void 0,Object(l.__spread)(n.map(function(n){return n.pipe(Ia(1),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){var t=n[n.length-1];P(t)?n.pop():t=null;var l=n.length;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return 1===n.length||2===n.length&&P(n[1])?$(n[0]):ia()($u.apply(void 0,n))}(1!==l||t?l>0?Y(n,t):Xu(t):Yu(n[0]),e)}}(Kh))}))).pipe(Ma(function(n,e){var t=!1;return e.reduce(function(n,l,r){if(n!==Kh)return n;if(l===Kh&&(t=!0),!t){if(!1===l)return l;if(r===e.length-1||kh(l))return l}return n},n)},Kh),oa(function(n){return n!==Kh}),G(function(n){return kh(n)?n:!0===n}),Ia(1))})}function Hh(n,e){return null!==n&&e&&e(new hc(n)),$u(!0)}function Wh(n,e){return null!==n&&e&&e(new sc(n)),$u(!0)}function Gh(n,e,t){var l=e.routeConfig?e.routeConfig.canActivate:null;return l&&0!==l.length?$u(l.map(function(l){return ra(function(){var r,i=Fh(l,e,t);if(function(n){return n&&Ih(n.canActivate)}(i))r=xc(i.canActivate(e,n));else{if(!Ih(i))throw new Error("Invalid CanActivate guard");r=xc(i(e,n))}return r.pipe(Da())})})).pipe(zh()):$u(!0)}function Qh(n,e,t){var l=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(n){return function(n){var e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(n)}).filter(function(n){return null!==n}).map(function(e){return ra(function(){return $u(e.guards.map(function(r){var i,o=Fh(r,e.node,t);if(function(n){return n&&Ih(n.canActivateChild)}(o))i=xc(o.canActivateChild(l,n));else{if(!Ih(o))throw new Error("Invalid CanActivateChild guard");i=xc(o(l,n))}return i.pipe(Da())})).pipe(zh())})});return $u(r).pipe(zh())}var Xh=function(){return function(){}}(),Yh=function(){function n(n,e,t,l,r,i){this.rootComponentType=n,this.config=e,this.urlTree=t,this.url=l,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}return n.prototype.recognize=function(){try{var n=Jh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,mc),t=new uh([],Object.freeze({}),Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},mc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new eh(t,e),i=new ah(this.url,r);return this.inheritParamsAndData(i._root),$u(i)}catch(o){return new I(function(n){return n.error(o)})}},n.prototype.inheritParamsAndData=function(n){var e=this,t=n.value,l=oh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(l.params),t.data=Object.freeze(l.data),n.children.forEach(function(n){return e.inheritParamsAndData(n)})},n.prototype.processSegmentGroup=function(n,e,t){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,t)},n.prototype.processChildren=function(n,e){var t,l=this,r=Lc(e,function(e,t){return l.processSegmentGroup(n,e,t)});return t={},r.forEach(function(n){var e=t[n.value.outlet];if(e){var l=e.url.map(function(n){return n.toString()}).join("/"),r=n.value.url.map(function(n){return n.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+l+"' and '"+r+"'.")}t[n.value.outlet]=n.value}),r.sort(function(n,e){return n.value.outlet===mc?-1:e.value.outlet===mc?1:n.value.outlet.localeCompare(e.value.outlet)}),r},n.prototype.processSegment=function(n,e,t,r){var i,o;try{for(var u=Object(l.__values)(n),a=u.next();!a.done;a=u.next()){var s=a.value;try{return this.processSegmentAgainstRoute(s,e,t,r)}catch(c){if(!(c instanceof Xh))throw c}}}catch(h){i={error:h}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,t,r))return[];throw new Xh},n.prototype.noLeftoversInUrl=function(n,e,t){return 0===e.length&&!n.children[t]},n.prototype.processSegmentAgainstRoute=function(n,e,t,r){if(n.redirectTo)throw new Xh;if((n.outlet||mc)!==r)throw new Xh;var i,o=[],u=[];if("**"===n.path){var a=t.length>0?Ac(t).parameters:{};i=new uh(t,a,Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,td(n),r,n.component,n,$h(e),Zh(e)+t.length,ld(n))}else{var s=function(n,e,t){if(""===e.path){if("full"===e.pathMatch&&(n.hasChildren()||t.length>0))throw new Xh;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||_c)(t,n,e);if(!r)throw new Xh;var i={};Dc(r.posParams,function(n,e){i[e]=n.path});var o=r.consumed.length>0?Object(l.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,n,t);o=s.consumedSegments,u=t.slice(s.lastChild),i=new uh(o,s.parameters,Object.freeze(Object(l.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,td(n),r,n.component,n,$h(e),Zh(e)+o.length,ld(n))}var c=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(n),h=Jh(e,o,u,c,this.relativeLinkResolution),d=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&d.hasChildren()){var f=this.processChildren(c,d);return[new eh(i,f)]}if(0===c.length&&0===p.length)return[new eh(i,[])];var m=this.processSegment(c,d,p,mc);return[new eh(i,m)]},n}();function $h(n){for(var e=n;e._sourceSegment;)e=e._sourceSegment;return e}function Zh(n){for(var e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)t+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Jh(n,e,t,r,i){if(t.length>0&&function(n,e,t){return r.some(function(t){return nd(n,e,t)&&ed(t)!==mc})}(n,t)){var o=new Rc(e,function(n,e,t,r){var i,o,u={};u[mc]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;try{for(var a=Object(l.__values)(t),s=a.next();!s.done;s=a.next()){var c=s.value;if(""===c.path&&ed(c)!==mc){var h=new Rc([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,u[ed(c)]=h}}}catch(d){i={error:d}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return u}(n,e,r,new Rc(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return r.some(function(t){return nd(n,e,t)})}(n,t)){var u=new Rc(n.segments,function(n,e,t,r,i,o){var u,a,s={};try{for(var c=Object(l.__values)(r),h=c.next();!h.done;h=c.next()){var d=h.value;if(nd(n,t,d)&&!i[ed(d)]){var p=new Rc([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[ed(d)]=p}}}catch(f){u={error:f}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}return Object(l.__assign)({},i,s)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}var a=new Rc(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function nd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path&&void 0===t.redirectTo}function ed(n){return n.outlet||mc}function td(n){return n.data||{}}function ld(n){return n.resolve||{}}function rd(n,e,t,l){var r=Fh(n,e,l);return xc(r.resolve?r.resolve(e,t):r(e,t))}function id(n){return function(e){return e.pipe(Oa(function(e){var t=n(e);return t?$(t).pipe(G(function(){return e})):$([e])}))}}var od=function(){return function(){}}(),ud=function(){function n(){}return n.prototype.shouldDetach=function(n){return!1},n.prototype.store=function(n,e){},n.prototype.shouldAttach=function(n){return!1},n.prototype.retrieve=function(n){return null},n.prototype.shouldReuseRoute=function(n,e){return n.routeConfig===e.routeConfig},n}(),ad=new vn("ROUTES"),sd=function(){function n(n,e,t,l){this.loader=n,this.compiler=e,this.onLoadStartListener=t,this.onLoadEndListener=l}return n.prototype.load=function(n,e){var t=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(G(function(l){t.onLoadEndListener&&t.onLoadEndListener(e);var r=l.create(n);return new wc(kc(r.injector.get(ad)).map(Tc),r)}))},n.prototype.loadModuleFactory=function(n){var e=this;return"string"==typeof n?$(this.loader.load(n)):xc(n()).pipe(Z(function(n){return n instanceof De?$u(n):$(e.compiler.compileModuleAsync(n))}))},n}(),cd=function(){return function(){}}(),hd=function(){function n(){}return n.prototype.shouldProcessUrl=function(n){return!0},n.prototype.extract=function(n){return n},n.prototype.merge=function(n,e){return n},n}();function dd(n){throw n}function pd(n,e,t){return e.parse("/")}function fd(n,e){return $u(null)}var md=function(){function n(n,e,t,l,r,i,o,u){var a=this;this.rootComponentType=n,this.urlSerializer=e,this.rootContexts=t,this.location=l,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=dd,this.malformedUriErrorHandler=pd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fd,afterPreactivation:fd},this.urlHandlingStrategy=new hd,this.routeReuseStrategy=new ud,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ae),this.console=r.get(Mt);var s=r.get(Yt);this.isNgZoneEnabled=s instanceof Yt,this.resetConfig(u),this.currentUrlTree=new Oc(new Rc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sd(i,o,function(n){return a.triggerEvent(new uc(n))},function(n){return a.triggerEvent(new ac(n))}),this.routerState=rh(this.currentUrlTree,this.rootComponentType),this.transitions=new Zu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return n.prototype.setupNavigations=function(n){var e=this,t=this.events;return n.pipe(oa(function(n){return 0!==n.id}),G(function(n){return Object(l.__assign)({},n,{extractedUrl:e.urlHandlingStrategy.extract(n.rawUrl)})}),Oa(function(n){var r,i,o,u=!1,a=!1;return $u(n).pipe(fa(function(n){e.currentNavigation={id:n.id,initialUrl:n.currentRawUrl,extractedUrl:n.extractedUrl,trigger:n.source,extras:n.extras,previousNavigation:e.lastSuccessfulNavigation?Object(l.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Oa(function(n){var r,i,o,u,a=!e.navigated||n.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(n.rawUrl))return $u(n).pipe(Oa(function(n){var l=e.transitions.getValue();return t.next(new Zs(n.id,e.serializeUrl(n.extractedUrl),n.source,n.restoredState)),l!==e.transitions.getValue()?Qu:[n]}),Oa(function(n){return Promise.resolve(n)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,u=e.config,function(n){return n.pipe(Oa(function(n){return function(e,t,l,r,i){return new Rh(e,t,l,n.extractedUrl,i).apply()}(r,i,o,0,u).pipe(G(function(e){return Object(l.__assign)({},n,{urlAfterRedirects:e})}))}))}),fa(function(n){e.currentNavigation=Object(l.__assign)({},e.currentNavigation,{finalUrl:n.urlAfterRedirects})}),function(n,t,r,i,o){return function(r){return r.pipe(Z(function(r){return function(n,e,t,l,r,i){return void 0===r&&(r="emptyOnly"),void 0===i&&(i="legacy"),new Yh(n,e,t,l,r,i).recognize()}(n,t,r.urlAfterRedirects,(u=r.urlAfterRedirects,e.serializeUrl(u)),i,o).pipe(G(function(n){return Object(l.__assign)({},r,{targetSnapshot:n})}));var u}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),fa(function(n){"eager"===e.urlUpdateStrategy&&(n.extras.skipLocationChange||e.setBrowserUrl(n.urlAfterRedirects,!!n.extras.replaceUrl,n.id),e.browserUrlTree=n.urlAfterRedirects)}),fa(function(n){var l=new tc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);t.next(l)}));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var s=n.extractedUrl,c=n.source,h=n.restoredState,d=n.extras,p=new Zs(n.id,e.serializeUrl(s),c,h);t.next(p);var f=rh(s,e.rootComponentType).snapshot;return $u(Object(l.__assign)({},n,{targetSnapshot:f,urlAfterRedirects:s,extras:Object(l.__assign)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=n.rawUrl,n.resolve(null),Qu}),id(function(n){var t=n.extras;return e.hooks.beforePreactivation(n.targetSnapshot,{navigationId:n.id,appliedUrlTree:n.extractedUrl,rawUrlTree:n.rawUrl,skipLocationChange:!!t.skipLocationChange,replaceUrl:!!t.replaceUrl})}),fa(function(n){var t=new lc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)}),G(function(n){return Object(l.__assign)({},n,{guards:(t=n.targetSnapshot,r=n.currentSnapshot,i=e.rootContexts,o=t._root,jh(o,r?r._root:null,i,[o.value]))});var t,r,i,o}),function(n,e){return function(t){return t.pipe(Z(function(t){var r=t.targetSnapshot,i=t.currentSnapshot,o=t.guards,u=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===u.length?$u(Object(l.__assign)({},t,{guardsResult:!0})):function(n,e,t,l){return $(a).pipe(Z(function(n){return function(n,e,t,l,r){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?$u(i.map(function(i){var o,u=Fh(i,e,r);if(function(n){return n&&Ih(n.canDeactivate)}(u))o=xc(u.canDeactivate(n,e,t,l));else{if(!Ih(u))throw new Error("Invalid CanDeactivate guard");o=xc(u(n,e,t,l))}return o.pipe(Da())})).pipe(zh()):$u(!0)}(n.component,n.route,t,e,l)}),Da(function(n){return!0!==n},!0))}(0,r,i,n).pipe(Z(function(t){return t&&"boolean"==typeof t?function(n,e,t,l){return $(u).pipe(Ua(function(e){return $([Wh(e.route.parent,l),Hh(e.route,l),Qh(n,e.path,t),Gh(n,e.route,t)]).pipe(ia(),Da(function(n){return!0!==n},!0))}),Da(function(n){return!0!==n},!0))}(r,0,n,e):$u(t)}),G(function(n){return Object(l.__assign)({},t,{guardsResult:n})}))}))}}(e.ngModule.injector,function(n){return e.triggerEvent(n)}),fa(function(n){if(kh(n.guardsResult)){var t=bc('Redirecting to "'+e.serializeUrl(n.guardsResult)+'"');throw t.url=n.guardsResult,t}}),fa(function(n){var t=new rc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot,!!n.guardsResult);e.triggerEvent(t)}),oa(function(n){if(!n.guardsResult){e.resetUrlToCurrentUrlTree();var l=new nc(n.id,e.serializeUrl(n.extractedUrl),"");return t.next(l),n.resolve(!1),!1}return!0}),id(function(n){if(n.guards.canActivateChecks.length)return $u(n).pipe(fa(function(n){var t=new ic(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)}),(t=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(n){return n.pipe(Z(function(n){var e=n.targetSnapshot,i=n.guards.canActivateChecks;return i.length?$(i).pipe(Ua(function(n){return function(n,t,r,i){return function(n,e,t,l){var r=Object.keys(n);if(0===r.length)return $u({});if(1===r.length){var i=r[0];return rd(n[i],e,t,l).pipe(G(function(n){var e;return(e={})[i]=n,e}))}var o={};return $(r).pipe(Z(function(r){return rd(n[r],e,t,l).pipe(G(function(n){return o[r]=n,n}))})).pipe(Ca(),G(function(){return o}))}(n._resolve,n,e,i).pipe(G(function(e){return n._resolvedData=e,n.data=Object(l.__assign)({},n.data,oh(n,r).resolve),null}))}(n.route,0,t,r)}),function(n,e){return arguments.length>=2?function(e){return S(Ma(n,void 0),ha(1),ba(void 0))(e)}:function(e){return S(Ma(function(e,t,l){return n(e)}),ha(1))(e)}}(function(n,e){return n}),G(function(e){return n})):$u(n)}))}),fa(function(n){var t=new oc(n.id,e.serializeUrl(n.extractedUrl),e.serializeUrl(n.urlAfterRedirects),n.targetSnapshot);e.triggerEvent(t)}));var t,r}),id(function(n){var t=n.extras;return e.hooks.afterPreactivation(n.targetSnapshot,{navigationId:n.id,appliedUrlTree:n.extractedUrl,rawUrlTree:n.rawUrl,skipLocationChange:!!t.skipLocationChange,replaceUrl:!!t.replaceUrl})}),G(function(n){var t,r,i,o=(i=function n(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){(s=r.value)._futureSnapshot=t.value;var i=function(e,t,r){return t.children.map(function(t){var i,o;try{for(var u=Object(l.__values)(r.children),a=u.next();!a.done;a=u.next()){var s=a.value;if(e.shouldReuseRoute(s.value.snapshot,t.value))return n(e,t,s)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return n(e,t)})}(e,t,r);return new eh(s,i)}var o=e.retrieve(t.value);if(o){var u=o.route;return function n(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var l=0;l<e.children.length;++l)n(e.children[l],t.children[l])}(t,u),u}var a,s=new ih(new Zu((a=t.value).url),new Zu(a.params),new Zu(a.queryParams),new Zu(a.fragment),new Zu(a.data),a.outlet,a.component,a);return i=t.children.map(function(t){return n(e,t)}),new eh(s,i)}(e.routeReuseStrategy,(t=n.targetSnapshot)._root,(r=n.currentRouterState)?r._root:void 0),new lh(i,t));return Object(l.__assign)({},n,{targetRouterState:o})}),fa(function(n){e.currentUrlTree=n.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,n.rawUrl),e.routerState=n.targetRouterState,"deferred"===e.urlUpdateStrategy&&(n.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!n.extras.replaceUrl,n.id,n.extras.state),e.browserUrlTree=n.urlAfterRedirects)}),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(n){return e.triggerEvent(n)},G(function(n){return new Sh(i,n.targetRouterState,n.currentRouterState,o).activate(r),n})),fa({next:function(){u=!0},complete:function(){u=!0}}),qa(function(){if(!u&&!a){e.resetUrlToCurrentUrlTree();var l=new nc(n.id,e.serializeUrl(n.extractedUrl),"Navigation ID "+n.id+" is not equal to the current navigation id "+e.navigationId);t.next(l),n.resolve(!1)}e.currentNavigation=null}),Ea(function(l){if(a=!0,(u=l)&&u[vc]){var r=kh(l.url);r||(e.navigated=!0,e.resetStateAndUrl(n.currentRouterState,n.currentUrlTree,n.rawUrl));var i=new nc(n.id,e.serializeUrl(n.extractedUrl),l.message);t.next(i),n.resolve(!1),r&&e.navigateByUrl(l.url)}else{e.resetStateAndUrl(n.currentRouterState,n.currentUrlTree,n.rawUrl);var o=new ec(n.id,e.serializeUrl(n.extractedUrl),l);t.next(o);try{n.resolve(e.errorHandler(l))}catch(s){n.reject(s)}}var u;return Qu}))}))},n.prototype.resetRootComponentType=function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType},n.prototype.getTransition=function(){return this.transitions.value},n.prototype.setTransition=function(n){this.transitions.next(Object(l.__assign)({},this.getTransition(),n))},n.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},n.prototype.setUpLocationChangeListener=function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var t=n.parseUrl(e.url),l="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){n.scheduleNavigation(t,l,r,{replaceUrl:!0})},0)}))},Object.defineProperty(n.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),n.prototype.getCurrentNavigation=function(){return this.currentNavigation},n.prototype.triggerEvent=function(n){this.events.next(n)},n.prototype.resetConfig=function(n){Cc(n),this.config=n.map(Tc),this.navigated=!1,this.lastSuccessfulId=-1},n.prototype.ngOnDestroy=function(){this.dispose()},n.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},n.prototype.createUrlTree=function(n,e){void 0===e&&(e={});var t=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,u=e.queryParamsHandling,a=e.preserveFragment;Be()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var s=t||this.routerState.root,c=a?this.currentUrlTree.fragment:i,h=null;if(u)switch(u){case"merge":h=Object(l.__assign)({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=o?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(n,e,t,r,i){if(0===t.length)return fh(e.root,e.root,e,r,i);var o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mh(!0,0,n);var e=0,t=!1,r=n.reduce(function(n,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Dc(r.outlets,function(n,e){o[e]="string"==typeof n?n.split("/"):n}),Object(l.__spread)(n,[{outlets:o}])}if(r.segmentPath)return Object(l.__spread)(n,[r.segmentPath])}return"string"!=typeof r?Object(l.__spread)(n,[r]):0===i?(r.split("/").forEach(function(l,r){0==r&&"."===l||(0==r&&""===l?t=!0:".."===l?e++:""!=l&&n.push(l))}),n):Object(l.__spread)(n,[r])},[]);return new mh(t,e,r)}(t);if(o.toRoot())return fh(e.root,new Rc([],{}),e,r,i);var u=function(n,t,l){if(n.isAbsolute)return new gh(e.root,!0,0);if(-1===l.snapshot._lastPathIndex)return new gh(l.snapshot._urlSegment,!0,0);var r=ph(n.commands[0])?0:1;return function(e,t,i){for(var o=l.snapshot._urlSegment,u=l.snapshot._lastPathIndex+r,a=n.numberOfDoubleDots;a>u;){if(a-=u,!(o=o.parent))throw new Error("Invalid number of '../'");u=o.segments.length}return new gh(o,!1,u-a)}()}(o,0,n),a=u.processChildren?bh(u.segmentGroup,u.index,o.commands):vh(u.segmentGroup,u.index,o.commands);return fh(u.segmentGroup,a,e,r,i)}(s,this.currentUrlTree,n,h,c)},n.prototype.navigateByUrl=function(n,e){void 0===e&&(e={skipLocationChange:!1}),Be()&&this.isNgZoneEnabled&&!Yt.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var t=kh(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,e)},n.prototype.navigate=function(n,e){return void 0===e&&(e={skipLocationChange:!1}),function(n){for(var e=0;e<n.length;e++){var t=n[e];if(null==t)throw new Error("The requested path contains "+t+" segment at index "+e)}}(n),this.navigateByUrl(this.createUrlTree(n,e),e)},n.prototype.serializeUrl=function(n){return this.urlSerializer.serialize(n)},n.prototype.parseUrl=function(n){var e;try{e=this.urlSerializer.parse(n)}catch(t){e=this.malformedUriErrorHandler(t,this.urlSerializer,n)}return e},n.prototype.isActive=function(n,e){if(kh(n))return Nc(this.currentUrlTree,n,e);var t=this.parseUrl(n);return Nc(this.currentUrlTree,t,e)},n.prototype.removeEmptyProps=function(n){return Object.keys(n).reduce(function(e,t){var l=n[t];return null!=l&&(e[t]=l),e},{})},n.prototype.processNavigations=function(){var n=this;this.navigations.subscribe(function(e){n.navigated=!0,n.lastSuccessfulId=e.id,n.events.next(new Js(e.id,n.serializeUrl(e.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,n.currentNavigation=null,e.resolve(!0)},function(e){n.console.warn("Unhandled Navigation Error: ")})},n.prototype.scheduleNavigation=function(n,e,t,l){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===n.toString())return Promise.resolve(!0);var i=null,o=null,u=new Promise(function(n,e){i=n,o=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:i,reject:o,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(function(n){return Promise.reject(n)})},n.prototype.setBrowserUrl=function(n,e,t,r){var i=this.urlSerializer.serialize(n);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(l.__assign)({},r,{navigationId:t})):this.location.go(i,"",Object(l.__assign)({},r,{navigationId:t}))},n.prototype.resetStateAndUrl=function(n,e,t){this.routerState=n,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t),this.resetUrlToCurrentUrlTree()},n.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},n}(),gd=function(){function n(n,e,t,l,r){this.router=n,this.route=e,this.commands=[],null==t&&l.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(n.prototype,"routerLink",{set:function(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveQueryParams",{set:function(n){Be()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=n},enumerable:!0,configurable:!0}),n.prototype.onClick=function(){var n={skipLocationChange:vd(this.skipLocationChange),replaceUrl:vd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,n),!0},Object.defineProperty(n.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vd(this.preserveFragment)})},enumerable:!0,configurable:!0}),n}(),yd=function(){function n(n,e,t){var l=this;this.router=n,this.route=e,this.locationStrategy=t,this.commands=[],this.subscription=n.events.subscribe(function(n){n instanceof Js&&l.updateTargetUrlAndHref()})}return Object.defineProperty(n.prototype,"routerLink",{set:function(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preserveQueryParams",{set:function(n){Be()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=n},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.updateTargetUrlAndHref()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.onClick=function(n,e,t,l){if(0!==n||e||t||l)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:vd(this.skipLocationChange),replaceUrl:vd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1},n.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(n.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vd(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(l.__decorate)([yt("attr.target"),gt(),Object(l.__metadata)("design:type",String)],n.prototype,"target",void 0),n}();function vd(n){return""===n||!!n}var bd=function(){function n(n,e,t,l){var r=this;this.router=n,this.element=e,this.renderer=t,this.cdr=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=n.events.subscribe(function(n){n instanceof Js&&r.update()})}return n.prototype.ngAfterContentInit=function(){var n=this;this.links.changes.subscribe(function(e){return n.update()}),this.linksWithHrefs.changes.subscribe(function(e){return n.update()}),this.update()},Object.defineProperty(n.prototype,"routerLinkActive",{set:function(n){var e=Array.isArray(n)?n:n.split(" ");this.classes=e.filter(function(n){return!!n})},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(n){this.update()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.update=function(){var n=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=n.hasActiveLinks();n.isActive!==e&&(n.isActive=e,n.classes.forEach(function(t){e?n.renderer.addClass(n.element.nativeElement,t):n.renderer.removeClass(n.element.nativeElement,t)}))})},n.prototype.isLinkActive=function(n){var e=this;return function(t){return n.isActive(t.urlTree,e.routerLinkActiveOptions.exact)}},n.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},n}(),_d=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wd,this.attachRef=null}}(),wd=function(){function n(){this.contexts=new Map}return n.prototype.onChildOutletCreated=function(n,e){var t=this.getOrCreateContext(n);t.outlet=e,this.contexts.set(n,t)},n.prototype.onChildOutletDestroyed=function(n){var e=this.getContext(n);e&&(e.outlet=null)},n.prototype.onOutletDeactivated=function(){var n=this.contexts;return this.contexts=new Map,n},n.prototype.onOutletReAttached=function(n){this.contexts=n},n.prototype.getOrCreateContext=function(n){var e=this.getContext(n);return e||(e=new _d,this.contexts.set(n,e)),e},n.prototype.getContext=function(n){return this.contexts.get(n)||null},n}(),Cd=function(){function n(n,e,t,l,r){this.parentContexts=n,this.location=e,this.resolver=t,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ct,this.deactivateEvents=new ct,this.name=l||mc,n.onChildOutletCreated(this.name,this)}return n.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},n.prototype.ngOnInit=function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}},Object.defineProperty(n.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),n.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,n},n.prototype.attach=function(n,e){this.activated=n,this._activatedRoute=e,this.location.insert(n.hostView)},n.prototype.deactivate=function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}},n.prototype.activateWith=function(n,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var t=(e=e||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,r=new Ed(n,l,this.location.injector);this.activated=this.location.createComponent(t,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},n}(),Ed=function(){function n(n,e,t){this.route=n,this.childContexts=e,this.parent=t}return n.prototype.get=function(n,e){return n===ih?this.route:n===wd?this.childContexts:this.parent.get(n,e)},n}(),Sd=function(){return function(){}}(),Td=function(){function n(){}return n.prototype.preload=function(n,e){return e().pipe(Ea(function(){return $u(null)}))},n}(),Id=function(){function n(){}return n.prototype.preload=function(n,e){return $u(null)},n}(),kd=function(){function n(n,e,t,l,r){this.router=n,this.injector=l,this.preloadingStrategy=r,this.loader=new sd(e,t,function(e){return n.triggerEvent(new uc(e))},function(e){return n.triggerEvent(new ac(e))})}return n.prototype.setUpPreloading=function(){var n=this;this.subscription=this.router.events.pipe(oa(function(n){return n instanceof Js}),Ua(function(){return n.preload()})).subscribe(function(){})},n.prototype.preload=function(){var n=this.injector.get(Ae);return this.processRoutes(n,this.router.config)},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.processRoutes=function(n,e){var t,r,i=[];try{for(var o=Object(l.__values)(e),u=o.next();!u.done;u=o.next()){var a=u.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(n,a)):a.children&&i.push(this.processRoutes(n,a.children))}}catch(c){t={error:c}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return $(i).pipe(tn(),G(function(n){}))},n.prototype.preloadConfig=function(n,e){var t=this;return this.preloadingStrategy.preload(e,function(){return t.loader.load(n.injector,e).pipe(Z(function(n){return e._loadedConfig=n,t.processRoutes(n.module,n.routes)}))})},n}(),Ad=function(){function n(n,e,t){void 0===t&&(t={}),this.router=n,this.viewportScroller=e,this.options=t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},t.scrollPositionRestoration=t.scrollPositionRestoration||"disabled",t.anchorScrolling=t.anchorScrolling||"disabled"}return n.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},n.prototype.createScrollEvents=function(){var n=this;return this.router.events.subscribe(function(e){e instanceof Zs?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=e.navigationTrigger,n.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Js&&(n.lastId=e.id,n.scheduleScrollEvent(e,n.router.parseUrl(e.urlAfterRedirects).fragment))})},n.prototype.consumeScrollEvents=function(){var n=this;return this.router.events.subscribe(function(e){e instanceof pc&&(e.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))})},n.prototype.scheduleScrollEvent=function(n,e){this.router.triggerEvent(new pc(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},n.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},n}(),Dd=new vn("ROUTER_CONFIGURATION"),xd=new vn("ROUTER_FORROOT_GUARD"),Nd=[bu,{provide:Vc,useClass:Uc},{provide:md,useFactory:Ud,deps:[pl,Vc,wd,bu,ie,mt,Kt,ad,Dd,[cd,new Fn],[od,new Fn]]},wd,{provide:ih,useFactory:qd,deps:[md]},{provide:mt,useClass:vl},kd,Id,Td,{provide:Dd,useValue:{enableTracing:!1}}];function Od(){return new al("Router",md)}var Rd=function(){function n(n,e){}var e;return e=n,n.forRoot=function(n,t){return{ngModule:e,providers:[Nd,Vd(n),{provide:xd,useFactory:Ld,deps:[[md,new Fn,new Bn]]},{provide:Dd,useValue:t||{}},{provide:yu,useFactory:Md,deps:[mu,[new qn(vu),new Fn],Dd]},{provide:Ad,useFactory:Pd,deps:[md,Wu,Dd]},{provide:Sd,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Id},{provide:al,multi:!0,useFactory:Od},[Fd,{provide:kt,multi:!0,useFactory:jd,deps:[Fd]},{provide:Kd,useFactory:Bd,deps:[Fd]},{provide:Pt,multi:!0,useExisting:Kd}]]}},n.forChild=function(n){return{ngModule:e,providers:[Vd(n)]}},n}();function Pd(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ad(n,e,t)}function Md(n,e,t){return void 0===t&&(t={}),t.useHash?new wu(n,e):new Cu(n,e)}function Ld(n){if(n)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vd(n){return[{provide:Sn,multi:!0,useValue:n},{provide:ad,multi:!0,useValue:n}]}function Ud(n,e,t,l,r,i,o,u,a,s,c){void 0===a&&(a={});var h=new md(null,e,t,l,r,i,o,kc(u));if(s&&(h.urlHandlingStrategy=s),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var d=Ka();h.events.subscribe(function(n){d.logGroup("Router Event: "+n.constructor.name),d.log(n.toString()),d.log(n),d.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function qd(n){return n.routerState.root}var Fd=function(){function n(n){this.injector=n,this.initNavigation=!1,this.resultOfPreactivationDone=new O}return n.prototype.appInitializer=function(){var n=this;return this.injector.get(gu,Promise.resolve(null)).then(function(){var e=null,t=new Promise(function(n){return e=n}),l=n.injector.get(md),r=n.injector.get(Dd);if(n.isLegacyDisabled(r)||n.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)l.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");l.hooks.afterPreactivation=function(){return n.initNavigation?$u(null):(n.initNavigation=!0,e(!0),n.resultOfPreactivationDone)},l.initialNavigation()}return t})},n.prototype.bootstrapListener=function(n){var e=this.injector.get(Dd),t=this.injector.get(kd),l=this.injector.get(Ad),r=this.injector.get(md),i=this.injector.get(pl);n===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),t.setUpPreloading(),l.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},n.prototype.isLegacyEnabled=function(n){return"legacy_enabled"===n.initialNavigation||!0===n.initialNavigation||void 0===n.initialNavigation},n.prototype.isLegacyDisabled=function(n){return"legacy_disabled"===n.initialNavigation||!1===n.initialNavigation},n}();function jd(n){return n.appInitializer.bind(n)}function Bd(n){return n.bootstrapListener.bind(n)}var Kd=new vn("Router Initializer"),zd=fr({encapsulation:2,styles:[],data:{}});function Hd(n){return io(0,[(n()(),Br(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),xi(1,212992,null,0,Cd,[wd,_l,Te,[8,null],Cl],null,null)],function(n,e){n(e,1,0)},null)}function Wd(n){return io(0,[(n()(),Br(0,0,null,null,1,"ng-component",[],null,null,null,Hd,zd)),xi(1,49152,null,0,fc,[],null,null)],null,null)}var Gd=oi("ng-component",fc,Wd,{},{},[]),Qd=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Xd=fr({encapsulation:0,styles:[[""]],data:{}});function Yd(n){return io(0,[(n()(),Br(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,[" inicio works!\n"]))],null,null)}function $d(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-inicio",[],null,null,null,Yd,Xd)),xi(1,114688,null,0,Qd,[],null,null)],function(n,e){n(e,1,0)},null)}var Zd=oi("app-inicio",Qd,$d,{},{},[]),Jd=function(){function n(n){this.afs=n,this.preguntaEliminar=!1,this.eliminado=!1,this.itemEliminar="",this.nombreClienteEliminar="",this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("users",function(n){return n.orderBy("nombre")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n.prototype.eliminarSeleccionado=function(n,e){this.itemEliminar=n,this.nombreClienteEliminar=e,this.preguntaEliminar=!0,window.scrollTo(0,0)},n.prototype.eliminar=function(){console.log(this.itemEliminar),this.preguntaEliminar=!1,this.afs.doc("users/"+this.itemEliminar).delete(),this.eliminado=!0},n}();function np(n){return function(n){return new I(function(e){return{unsubscribe:n.onSnapshot(e)}})}(n).pipe(hn())}function ep(n){return np(n).pipe(G(function(n){return{payload:n,type:"query"}}))}function tp(n){return ep(n).pipe(G(function(n){return n.payload.docChanges().map(function(n){return{type:n.type,payload:n}})}))}function lp(n,e){return ep(n).pipe(G(function(n){return n.payload.docChanges()}),Ma(function(n,t){return function(n,e,t){return e.forEach(function(e){t.indexOf(e.type)>-1&&(n=function(n,e){switch(e.type){case"added":n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)||n.splice(e.newIndex,0,e);break;case"modified":(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e)):n.splice(e.newIndex,1,e));break;case"removed":n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&n.splice(e.oldIndex,1)}return n}(n,e))}),n}(n,t,e)},[]),G(function(n){return n.map(function(n){return{type:n.type,payload:n}})}))}var rp=function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.scheduler=e,l.work=t,l}return l.__extends(e,n),e.prototype.schedule=function(e,t){return void 0===t&&(t=0),t>0?n.prototype.schedule.call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,t){return t>0||this.closed?n.prototype.execute.call(this,e,t):this._execute(e,t)},e.prototype.requestAsyncId=function(e,t,l){return void 0===l&&(l=0),null!==l&&l>0||null===l&&this.delay>0?n.prototype.requestAsyncId.call(this,e,t,l):e.flush(this)},e}(function(n){function e(e,t){var l=n.call(this,e,t)||this;return l.scheduler=e,l.work=t,l.pending=!1,l}return l.__extends(e,n),e.prototype.schedule=function(n,e){if(void 0===e&&(e=0),this.closed)return this;this.state=n;var t=this.id,l=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(l,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(l,this.id,e),this},e.prototype.requestAsyncId=function(n,e,t){return void 0===t&&(t=0),setInterval(n.flush.bind(n,this),t)},e.prototype.recycleAsyncId=function(n,e,t){if(void 0===t&&(t=0),null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,e){var t=!1,l=void 0;try{this.work(n)}catch(r){t=!0,l=!!r&&r||new Error(r)}if(t)return this.unsubscribe(),l},e.prototype._unsubscribe=function(){var n=this.id,e=this.scheduler,t=e.actions,l=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&t.splice(l,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null},e}(function(n){function e(e,t){return n.call(this)||this}return l.__extends(e,n),e.prototype.schedule=function(n,e){return void 0===e&&(e=0),this},e}(p))),ip=function(){function n(e,t){void 0===t&&(t=n.now),this.SchedulerAction=e,this.now=t}return n.prototype.schedule=function(n,e,t){return void 0===e&&(e=0),new this.SchedulerAction(this,n).schedule(t,e)},n.now=function(){return Date.now()},n}(),op=new(function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return l.__extends(e,n),e}(function(n){function e(t,l){void 0===l&&(l=ip.now);var r=n.call(this,t,function(){return e.delegate&&e.delegate!==r?e.delegate.now():l()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return l.__extends(e,n),e.prototype.schedule=function(t,l,r){return void 0===l&&(l=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,l,r):n.prototype.schedule.call(this,t,l,r)},e.prototype.flush=function(n){var e=this.actions;if(this.active)e.push(n);else{var t;this.active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}},e}(ip)))(rp),up=function(){function n(n,e){this.zone=n,this.platformId=e}return n.prototype.schedule=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this.zone.runGuarded(function(){return op.schedule.apply(op,n)})},n.prototype.keepUnstableUntilFirst=function(n){return Hu(this.platformId)?new I(function(e){var t=function(){},l=Zone.current.scheduleMacroTask("firebaseZoneBlock",t,{},t,t);n.subscribe(function(n){"scheduled"===l.state&&l.invoke(),e.next(n)},function(n){"scheduled"===l.state&&l.invoke(),e.error(n)},function(){"scheduled"===l.state&&l.invoke(),e.complete()})}):n},n.prototype.runOutsideAngular=function(n){var e=this;return new I(function(t){return e.zone.runOutsideAngular(function(){return n.subscribe(function(n){return e.zone.run(function(){return t.next(n)})},function(n){return e.zone.run(function(){return t.error(n)})},function(){return e.zone.run(function(){return t.complete()})})})})},n}(),ap=function(n){return function(e){return new I(function(t){return e.subscribe(function(e){return n.run(function(){return t.next(e)})},function(e){return n.run(function(){return t.error(e)})},function(){return n.run(function(){return t.complete()})})})}},sp=function(){return(sp=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function cp(n){return n&&0!==n.length||(n=["added","removed","modified"]),n}var hp=function(){function n(n,e,t){this.ref=n,this.query=e,this.afs=t}return n.prototype.stateChanges=function(n){return n&&0!==n.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(tp(this.query))).pipe(G(function(e){return e.filter(function(e){return n.indexOf(e.type)>-1})}),oa(function(n){return n.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(tp(this.query)))},n.prototype.auditTrail=function(n){return this.stateChanges(n).pipe(Ma(function(n,e){return n.concat(e)},[]))},n.prototype.snapshotChanges=function(n){var e=cp(n),t=lp(this.query,e),l=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(l)},n.prototype.valueChanges=function(n){void 0===n&&(n={});var e=ep(this.query),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t).pipe(G(function(e){return e.payload.docs.map(function(e){var t;return n.idField?sp({},e.data(),((t={})[n.idField]=e.id,t)):e.data()})}))},n.prototype.get=function(n){return $(this.query.get(n)).pipe(ap(this.afs.scheduler.zone))},n.prototype.add=function(n){return this.ref.add(n)},n.prototype.doc=function(n){return new dp(this.ref.doc(n),this.afs)},n}(),dp=function(){function n(n,e){this.ref=n,this.afs=e}return n.prototype.set=function(n,e){return this.ref.set(n,e)},n.prototype.update=function(n){return this.ref.update(n)},n.prototype.delete=function(){return this.ref.delete()},n.prototype.collection=function(n,e){var t=Ip(this.ref.collection(n),e);return new hp(t.ref,t.query,this.afs)},n.prototype.snapshotChanges=function(){var n=np(this.ref).pipe(G(function(n){return{payload:n,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(e)},n.prototype.valueChanges=function(){return this.snapshotChanges().pipe(G(function(n){return n.payload.data()}))},n.prototype.get=function(n){return $(this.ref.get(n)).pipe(ap(this.afs.scheduler.zone))},n}(),pp=function(){function n(n,e){this.query=n,this.afs=e}return n.prototype.stateChanges=function(n){return n&&0!==n.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(tp(this.query))).pipe(G(function(e){return e.filter(function(e){return n.indexOf(e.type)>-1})}),oa(function(n){return n.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(tp(this.query)))},n.prototype.auditTrail=function(n){return this.stateChanges(n).pipe(Ma(function(n,e){return n.concat(e)},[]))},n.prototype.snapshotChanges=function(n){var e=cp(n),t=lp(this.query,e),l=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(l)},n.prototype.valueChanges=function(){var n=ep(this.query),e=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(G(function(n){return n.payload.docs.map(function(n){return n.data()})}))},n.prototype.get=function(n){return $(this.query.get(n)).pipe(ap(this.afs.scheduler.zone))},n}(),fp=t("Wcq6"),mp=t.n(fp),gp=new vn("angularfire2.app.options"),yp=new vn("angularfire2.app.nameOrConfig"),vp=function(){return function(){}}();function bp(n,e){var t="object"==typeof e&&e||{};return t.name=t.name||"string"==typeof e&&e||"[DEFAULT]",mp.a.apps.filter(function(n){return n&&n.name===t.name})[0]||mp.a.initializeApp(n,t)}var _p=function(){function n(){}var e;return e=n,n.initializeApp=function(n,t){return{ngModule:e,providers:[{provide:gp,useValue:n},{provide:yp,useValue:t}]}},n}(),wp=new vn("angularfire2.enableFirestorePersistence"),Cp=new vn("angularfire2.firestore.persistenceSettings"),Ep=new vn("angularfire2.firestore.settings"),Sp=parseInt(mp.a.SDK_VERSION.split(".")[0]),Tp=Sp<5||5==Sp&&parseInt(mp.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Ip(n,e){return void 0===e&&(e=function(n){return n}),{query:e(n),ref:n}}var kp=function(){function n(n,e,t,l,r,i,o){var u=this;this.scheduler=new up(i,r),this.firestore=i.runOutsideAngular(function(){var t=bp(n,e).firestore();return t.settings(l||Tp),t}),this.persistenceEnabled$=t&&!Hu(r)?i.runOutsideAngular(function(){try{return $(u.firestore.enablePersistence(o||void 0).then(function(){return!0},function(){return!1}))}catch(n){return $u(!1)}}):$u(!1)}return n.prototype.collection=function(n,e){var t=Ip("string"==typeof n?this.firestore.collection(n):n,e);return new hp(t.ref,t.query,this)},n.prototype.collectionGroup=function(n,e){if(Sp<6)throw"collection group queries require Firebase JS SDK >= 6.0";var t=e||function(n){return n},l=this.firestore.collectionGroup(n);return new pp(t(l),this)},n.prototype.doc=function(n){var e;return e="string"==typeof n?this.firestore.doc(n):n,new dp(e,this)},n.prototype.createId=function(){return this.firestore.collection("_").doc().id},n}(),Ap=fr({encapsulation:0,styles:[[""]],data:{}});function Dp(n){return io(0,[(n()(),Br(0,0,null,null,1,"span",[["class","tag label bg-primary light"],["style"," margin-right: 2px;"]],null,null,null,null,null)),(n()(),to(-1,null,["clasificaci\xf3n equipo"]))],null,null)}function xp(n){return io(0,[(n()(),Br(0,0,null,null,1,"span",[["class","tag label bg-primary light"],["style"," margin-right: 2px;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Clientes"]))],null,null)}function Np(n){return io(0,[(n()(),Br(0,0,null,null,1,"span",[["class","tag label bg-primary light"],["style"," margin-right: 2px;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Da\xf1os"]))],null,null)}function Op(n){return io(0,[(n()(),Br(0,0,null,null,1,"span",[["class","tag label bg-primary light"],["style"," margin-right: 2px;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Materiales"]))],null,null)}function Rp(n){return io(0,[(n()(),Br(0,0,null,null,1,"span",[["class","tag label bg-primary light"],["style"," margin-right: 2px;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Proyectos"]))],null,null)}function Pp(n){return io(0,[(n()(),Br(0,0,null,null,35,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[["class","w100"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,0,"img",[["class","img-responsive mw40 ib mr10"],["src","assets/assets/img/man.png"],["title","user"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(6,null,["",""])),(n()(),Br(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(8,null,["",""])),(n()(),Br(9,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(10,null,["",""])),(n()(),Br(11,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,1,null,Dp)),xi(13,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),jr(16777216,null,null,1,null,xp)),xi(15,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),jr(16777216,null,null,1,null,Np)),xi(17,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),jr(16777216,null,null,1,null,Op)),xi(19,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),jr(16777216,null,null,1,null,Rp)),xi(21,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),Br(22,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(24,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(26,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(29,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,30).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(30,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(31,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(33,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(34,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminarSeleccionado(n.context.$implicit.id,n.context.$implicit.nombre)&&l),l},null,null)),(n()(),to(-1,null,["Borrar"]))],function(n,e){n(e,13,0,1==e.context.$implicit.permisos.clasificacionEquipo),n(e,15,0,1==e.context.$implicit.permisos.clientes),n(e,17,0,1==e.context.$implicit.permisos.damage),n(e,19,0,1==e.context.$implicit.permisos.materiales),n(e,21,0,1==e.context.$implicit.permisos.proyectos);var t=n(e,31,0,"/editar-usuario",e.context.$implicit.id);n(e,30,0,t)},function(n,e){n(e,4,0,e.context.$implicit.nombre),n(e,6,0,e.context.$implicit.usuario),n(e,8,0,e.context.$implicit.puesto),n(e,10,0,e.context.$implicit.seccion),n(e,29,0,yi(e,30).target,yi(e,30).href)})}function Mp(n){return io(0,[(n()(),Br(0,0,null,null,60,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Usuarios"])),(n()(),Br(6,0,null,null,54,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,53,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nuevo-usuario"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar Usuario"])),(n()(),Br(17,0,null,null,43,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,19,"div",[["class","panel-menu p12 admin-form theme-primary"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,9,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(22,0,null,null,8,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #b71c1c"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(24,null,["\xbfEst\xe1s seguro que quieres eliminar el usuario ","?"])),(n()(),Br(25,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(26,0,null,null,4,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar()&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"])),(n()(),Br(29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.preguntaEliminar=!1)&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"])),(n()(),Br(31,0,null,null,6,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Usuario eliminado exitosamente!"])),(n()(),Br(35,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.eliminado=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(38,0,null,null,22,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(39,0,null,null,21,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(40,0,null,null,20,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(41,0,null,null,15,"thead",[],null,null,null,null,null)),(n()(),Br(42,0,null,null,14,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Foto"])),(n()(),Br(45,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Nombre"])),(n()(),Br(47,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Usuario"])),(n()(),Br(49,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Puesto"])),(n()(),Br(51,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Secci\xf3n"])),(n()(),Br(53,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Permisos"])),(n()(),Br(55,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(57,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,Pp)),xi(59,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nuevo-usuario"),n(e,59,0,hr(e,59,0,yi(e,60).transform(t.items)))},function(n,e){var t=e.component;n(e,14,0,yi(e,15).target,yi(e,15).href),n(e,21,0,!t.preguntaEliminar),n(e,24,0,t.nombreClienteEliminar),n(e,31,0,!t.eliminado)})}function Lp(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-usuarios",[],null,null,null,Mp,Ap)),xi(1,114688,null,0,Jd,[kp],null,null)],function(n,e){n(e,1,0)},null)}var Vp=oi("app-usuarios",Jd,Lp,{},{},[]),Up=function(n){function e(e,t){var l=n.call(this,e)||this;l.sources=t,l.completed=0,l.haveValues=0;var r=t.length;l.values=new Array(r);for(var i=0;i<r;i++){var o=H(l,t[i],null,i);o&&l.add(o)}return l}return l.__extends(e,n),e.prototype.notifyNext=function(n,e,t,l,r){this.values[t]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(n){var e=this.destination,t=this.haveValues,l=this.values,r=l.length;n._hasValue?(this.completed++,this.completed===r&&(t===r&&e.next(l),e.complete())):e.complete()},e}(W),qp=function(){function n(){}return Object.defineProperty(n.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.reset=function(n){void 0===n&&(n=void 0),this.control&&this.control.reset(n)},n.prototype.hasError=function(n,e){return!!this.control&&this.control.hasError(n,e)},n.prototype.getError=function(n,e){return this.control?this.control.getError(n,e):null},n}(),Fp=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(qp);function jp(n){return null==n||0===n.length}var Bp=new vn("NgValidators"),Kp=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zp=function(){function n(){}return n.min=function(n){return function(e){if(jp(e.value)||jp(n))return null;var t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}},n.max=function(n){return function(e){if(jp(e.value)||jp(n))return null;var t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}},n.required=function(n){return jp(n.value)?{required:!0}:null},n.requiredTrue=function(n){return!0===n.value?null:{required:!0}},n.email=function(n){return jp(n.value)?null:Kp.test(n.value)?null:{email:!0}},n.minLength=function(n){return function(e){if(jp(e.value))return null;var t=e.value?e.value.length:0;return t<n?{minlength:{requiredLength:n,actualLength:t}}:null}},n.maxLength=function(n){return function(e){var t=e.value?e.value.length:0;return t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}},n.pattern=function(e){return e?("string"==typeof e?(l="","^"!==e.charAt(0)&&(l+="^"),l+=e,"$"!==e.charAt(e.length-1)&&(l+="$"),t=new RegExp(l)):(l=e.toString(),t=e),function(n){if(jp(n.value))return null;var e=n.value;return t.test(e)?null:{pattern:{requiredPattern:l,actualValue:e}}}):n.nullValidator;var t,l},n.nullValidator=function(n){return null},n.compose=function(n){if(!n)return null;var e=n.filter(Hp);return 0==e.length?null:function(n){return Gp(function(n,t){return e.map(function(e){return e(n)})}(n))}},n.composeAsync=function(n){if(!n)return null;var e=n.filter(Hp);return 0==e.length?null:function(n){return function n(){for(var e,t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&r(t[0])&&(t=t[0]),0===t.length?Qu:e?n(t).pipe(G(function(n){return e.apply(void 0,n)})):new I(function(n){return new Up(n,t)})}(function(n,t){return e.map(function(e){return e(n)})}(n).map(Wp)).pipe(G(Gp))}},n}();function Hp(n){return null!=n}function Wp(n){var e=Tt(n)?$(n):n;if(!It(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Gp(n){var e=n.reduce(function(n,e){return null!=e?Object(l.__assign)({},n,e):n},{});return 0===Object.keys(e).length?null:e}var Qp=new vn("NgValueAccessor"),Xp=function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"checked",n)},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}(),Yp=new vn("CompositionEventMode"),$p=function(){function n(n,e,t){var l;this._renderer=n,this._elementRef=e,this._compositionMode=t,this.onChange=function(n){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(l=Ka()?Ka().getUserAgent():"",!/android (\d+)/.test(l.toLowerCase())))}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==n?"":n)},n.prototype.registerOnChange=function(n){this.onChange=n},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._handleInput=function(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)},n.prototype._compositionStart=function(){this._composing=!0},n.prototype._compositionEnd=function(n){this._composing=!1,this._compositionMode&&this.onChange(n)},n}();function Zp(n){return n.validate?function(e){return n.validate(e)}:n}function Jp(n){return n.validate?function(e){return n.validate(e)}:n}var nf=function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==n?"":n)},n.prototype.registerOnChange=function(n){this.onChange=function(e){n(""==e?null:parseFloat(e))}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}();function ef(){throw new Error("unimplemented")}var tf=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(l.__extends)(e,n),Object.defineProperty(e.prototype,"validator",{get:function(){return ef()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return ef()},enumerable:!0,configurable:!0}),e}(qp),lf=function(){function n(){this._accessors=[]}return n.prototype.add=function(n,e){this._accessors.push([n,e])},n.prototype.remove=function(n){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===n)return void this._accessors.splice(e,1)},n.prototype.select=function(n){var e=this;this._accessors.forEach(function(t){e._isSameGroup(t,n)&&t[1]!==n&&t[1].fireUncheck(n.value)})},n.prototype._isSameGroup=function(n,e){return!!n[0].control&&n[0]._parent===e._control._parent&&n[1].name===e.name},n}(),rf=function(){function n(n,e,t,l){this._renderer=n,this._elementRef=e,this._registry=t,this._injector=l,this.onChange=function(){},this.onTouched=function(){}}return n.prototype.ngOnInit=function(){this._control=this._injector.get(tf),this._checkName(),this._registry.add(this._control,this)},n.prototype.ngOnDestroy=function(){this._registry.remove(this)},n.prototype.writeValue=function(n){this._state=n===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},n.prototype.registerOnChange=function(n){var e=this;this._fn=n,this.onChange=function(){n(e.value),e._registry.select(e)}},n.prototype.fireUncheck=function(n){this.writeValue(n)},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},n.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},n}(),of=function(){function n(n,e){this._renderer=n,this._elementRef=e,this.onChange=function(n){},this.onTouched=function(){}}return n.prototype.writeValue=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(n))},n.prototype.registerOnChange=function(n){this.onChange=function(e){n(""==e?null:parseFloat(e))}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n}(),uf='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',af='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function sf(n,e){return null==n?""+e:(e&&"object"==typeof e&&(e="Object"),(n+": "+e).slice(0,50))}var cf=function(){function n(n,e){this._renderer=n,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(n){},this.onTouched=function(){},this._compareWith=On}return Object.defineProperty(n.prototype,"compareWith",{set:function(n){if("function"!=typeof n)throw new Error("compareWith must be a function, but received "+JSON.stringify(n));this._compareWith=n},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(n){this.value=n;var e=this._getOptionId(n);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var t=sf(e,n);this._renderer.setProperty(this._elementRef.nativeElement,"value",t)},n.prototype.registerOnChange=function(n){var e=this;this.onChange=function(t){e.value=e._getOptionValue(t),n(e.value)}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._registerOption=function(){return(this._idCounter++).toString()},n.prototype._getOptionId=function(n){var e,t;try{for(var r=Object(l.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),n))return o}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(n){var e=function(n){return n.split(":")[0]}(n);return this._optionMap.has(e)?this._optionMap.get(e):n},n}(),hf=function(){function n(n,e,t){this._element=n,this._renderer=e,this._select=t,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(n.prototype,"ngValue",{set:function(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(sf(this.id,n)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{set:function(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),n.prototype._setElementValue=function(n){this._renderer.setProperty(this._element.nativeElement,"value",n)},n.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},n}();function df(n,e){return null==n?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(n+": "+e).slice(0,50))}var pf=function(){function n(n,e){this._renderer=n,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(n){},this.onTouched=function(){},this._compareWith=On}return Object.defineProperty(n.prototype,"compareWith",{set:function(n){if("function"!=typeof n)throw new Error("compareWith must be a function, but received "+JSON.stringify(n));this._compareWith=n},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(n){var e,t=this;if(this.value=n,Array.isArray(n)){var l=n.map(function(n){return t._getOptionId(n)});e=function(n,e){n._setSelected(l.indexOf(e.toString())>-1)}}else e=function(n,e){n._setSelected(!1)};this._optionMap.forEach(e)},n.prototype.registerOnChange=function(n){var e=this;this.onChange=function(t){var l=[];if(t.hasOwnProperty("selectedOptions"))for(var r=t.selectedOptions,i=0;i<r.length;i++){var o=r.item(i),u=e._getOptionValue(o.value);l.push(u)}else for(r=t.options,i=0;i<r.length;i++)(o=r.item(i)).selected&&(u=e._getOptionValue(o.value),l.push(u));e.value=l,n(l)}},n.prototype.registerOnTouched=function(n){this.onTouched=n},n.prototype.setDisabledState=function(n){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",n)},n.prototype._registerOption=function(n){var e=(this._idCounter++).toString();return this._optionMap.set(e,n),e},n.prototype._getOptionId=function(n){var e,t;try{for(var r=Object(l.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,n))return o}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},n.prototype._getOptionValue=function(n){var e=function(n){return n.split(":")[0]}(n);return this._optionMap.has(e)?this._optionMap.get(e)._value:n},n}(),ff=function(){function n(n,e,t){this._element=n,this._renderer=e,this._select=t,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(n.prototype,"ngValue",{set:function(n){null!=this._select&&(this._value=n,this._setElementValue(df(this.id,n)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{set:function(n){this._select?(this._value=n,this._setElementValue(df(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)},enumerable:!0,configurable:!0}),n.prototype._setElementValue=function(n){this._renderer.setProperty(this._element.nativeElement,"value",n)},n.prototype._setSelected=function(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)},n.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},n}();function mf(n,e){return Object(l.__spread)(e.path,[n])}function gf(n,e){n||vf(e,"Cannot find control with"),e.valueAccessor||vf(e,"No value accessor for form control with"),n.validator=zp.compose([n.validator,e.validator]),n.asyncValidator=zp.composeAsync([n.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(function(t){n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yf(n,e)})}(n,e),function(n,e){n.registerOnChange(function(n,t){e.valueAccessor.writeValue(n),t&&e.viewToModelUpdate(n)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(function(){n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yf(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),e.valueAccessor.setDisabledState&&n.registerOnDisabledChange(function(n){e.valueAccessor.setDisabledState(n)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return n.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return n.updateValueAndValidity()})})}function yf(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vf(n,e){var t;throw t=n.path.length>1?"path: '"+n.path.join(" -> ")+"'":n.path[0]?"name: '"+n.path+"'":"unspecified name attribute",new Error(e+" "+t)}function bf(n){return null!=n?zp.compose(n.map(Zp)):null}function _f(n){return null!=n?zp.composeAsync(n.map(Jp)):null}var wf=[Xp,of,nf,cf,pf,rf],Cf=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Object(l.__extends)(e,n),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return mf(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return bf(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _f(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(Fp),Ef=function(){function n(n){this._cd=n}return Object.defineProperty(n.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),n}(),Sf=function(n){function e(e){return n.call(this,e)||this}return Object(l.__extends)(e,n),e}(Ef),Tf=function(n){function e(e){return n.call(this,e)||this}return Object(l.__extends)(e,n),e}(Ef);function If(n){var e=Af(n)?n.validators:n;return Array.isArray(e)?bf(e):e||null}function kf(n,e){var t=Af(e)?e.asyncValidators:n;return Array.isArray(t)?_f(t):t||null}function Af(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}var Df=function(){function n(n,e){this.validator=n,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),n.prototype.setValidators=function(n){this.validator=If(n)},n.prototype.setAsyncValidators=function(n){this.asyncValidator=kf(n)},n.prototype.clearValidators=function(){this.validator=null},n.prototype.clearAsyncValidators=function(){this.asyncValidator=null},n.prototype.markAsTouched=function(n){void 0===n&&(n={}),this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)},n.prototype.markAsUntouched=function(n){void 0===n&&(n={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(n){n.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)},n.prototype.markAsDirty=function(n){void 0===n&&(n={}),this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)},n.prototype.markAsPristine=function(n){void 0===n&&(n={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(n){n.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)},n.prototype.markAsPending=function(n){void 0===n&&(n={}),this.status="PENDING",!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)},n.prototype.disable=function(n){void 0===n&&(n={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(l.__assign)({},n,{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(n){return n(!0)})},n.prototype.enable=function(n){void 0===n&&(n={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(l.__assign)({},n,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(n),this._onDisabledChange.forEach(function(n){return n(!1)})},n.prototype._updateAncestors=function(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),this._parent._updatePristine(),this._parent._updateTouched())},n.prototype.setParent=function(n){this._parent=n},n.prototype.updateValueAndValidity=function(n){void 0===n&&(n={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)},n.prototype._updateTreeValidity=function(n){void 0===n&&(n={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(n)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})},n.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},n.prototype._runValidator=function(){return this.validator?this.validator(this):null},n.prototype._runAsyncValidator=function(n){var e=this;if(this.asyncValidator){this.status="PENDING";var t=Wp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(function(t){return e.setErrors(t,{emitEvent:n})})}},n.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},n.prototype.setErrors=function(n,e){void 0===e&&(e={}),this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)},n.prototype.get=function(n){return function(n,e,t){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(n,e){return n instanceof Nf?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof Of&&n.at(e)||null},n))}(this,n)},n.prototype.getError=function(n,e){var t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null},n.prototype.hasError=function(n,e){return!!this.getError(n,e)},Object.defineProperty(n.prototype,"root",{get:function(){for(var n=this;n._parent;)n=n._parent;return n},enumerable:!0,configurable:!0}),n.prototype._updateControlsErrors=function(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)},n.prototype._initObservables=function(){this.valueChanges=new ct,this.statusChanges=new ct},n.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},n.prototype._anyControlsHaveStatus=function(n){return this._anyControls(function(e){return e.status===n})},n.prototype._anyControlsDirty=function(){return this._anyControls(function(n){return n.dirty})},n.prototype._anyControlsTouched=function(){return this._anyControls(function(n){return n.touched})},n.prototype._updatePristine=function(n){void 0===n&&(n={}),this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)},n.prototype._updateTouched=function(n){void 0===n&&(n={}),this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)},n.prototype._isBoxedValue=function(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n},n.prototype._registerOnCollectionChange=function(n){this._onCollectionChange=n},n.prototype._setUpdateStrategy=function(n){Af(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)},n}(),xf=function(n){function e(e,t,l){void 0===e&&(e=null);var r=n.call(this,If(t),kf(l,t))||this;return r._onChange=[],r._applyFormState(e),r._setUpdateStrategy(t),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return Object(l.__extends)(e,n),e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(n){return n(t.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){void 0===e&&(e={}),this.setValue(n,e)},e.prototype.reset=function(n,e){void 0===n&&(n=null),void 0===e&&(e={}),this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(n){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(n){this._onChange.push(n)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(n){this._onDisabledChange.push(n)},e.prototype._forEachChild=function(n){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n},e}(Df),Nf=function(n){function e(e,t,l){var r=n.call(this,If(t),kf(l,t))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(t),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(l.__extends)(e,n),e.prototype.registerControl=function(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(n,e){this.registerControl(n,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(n){this.controls[n]&&this.controls[n]._registerOnCollectionChange(function(){}),delete this.controls[n],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(n,e){this.controls[n]&&this.controls[n]._registerOnCollectionChange(function(){}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled},e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this._checkAllValuesPresent(n),Object.keys(n).forEach(function(l){t._throwIfControlMissing(l),t.controls[l].setValue(n[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){var t=this;void 0===e&&(e={}),Object.keys(n).forEach(function(l){t.controls[l]&&t.controls[l].patchValue(n[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(n,e){void 0===n&&(n={}),void 0===e&&(e={}),this._forEachChild(function(t,l){t.reset(n[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(n,e,t){return n[t]=e instanceof xf?e.value:e.getRawValue(),n})},e.prototype._syncPendingControls=function(){var n=this._reduceChildren(!1,function(n,e){return!!e._syncPendingControls()||n});return n&&this.updateValueAndValidity({onlySelf:!0}),n},e.prototype._throwIfControlMissing=function(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error("Cannot find form control with name: "+n+".")},e.prototype._forEachChild=function(n){var e=this;Object.keys(this.controls).forEach(function(t){return n(e.controls[t],t)})},e.prototype._setUpControls=function(){var n=this;this._forEachChild(function(e){e.setParent(n),e._registerOnCollectionChange(n._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(n){var e=this,t=!1;return this._forEachChild(function(l,r){t=t||e.contains(r)&&n(l)}),t},e.prototype._reduceValue=function(){var n=this;return this._reduceChildren({},function(e,t,l){return(t.enabled||n.disabled)&&(e[l]=t.value),e})},e.prototype._reduceChildren=function(n,e){var t=n;return this._forEachChild(function(n,l){t=e(t,n,l)}),t},e.prototype._allControlsDisabled=function(){var n,e;try{for(var t=Object(l.__values)(Object.keys(this.controls)),r=t.next();!r.done;r=t.next())if(this.controls[r.value].enabled)return!1}catch(i){n={error:i}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(n){this._forEachChild(function(e,t){if(void 0===n[t])throw new Error("Must supply a value for form control with name: '"+t+"'.")})},e}(Df),Of=function(n){function e(e,t,l){var r=n.call(this,If(t),kf(l,t))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(t),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(l.__extends)(e,n),e.prototype.at=function(n){return this.controls[n]},e.prototype.push=function(n){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(n,e){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(n){this.controls[n]&&this.controls[n]._registerOnCollectionChange(function(){}),this.controls.splice(n,1),this.updateValueAndValidity()},e.prototype.setControl=function(n,e){this.controls[n]&&this.controls[n]._registerOnCollectionChange(function(){}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(n,e){var t=this;void 0===e&&(e={}),this._checkAllValuesPresent(n),n.forEach(function(n,l){t._throwIfControlMissing(l),t.at(l).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(n,e){var t=this;void 0===e&&(e={}),n.forEach(function(n,l){t.at(l)&&t.at(l).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(n,e){void 0===n&&(n=[]),void 0===e&&(e={}),this._forEachChild(function(t,l){t.reset(n[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(n){return n instanceof xf?n.value:n.getRawValue()})},e.prototype._syncPendingControls=function(){var n=this.controls.reduce(function(n,e){return!!e._syncPendingControls()||n},!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n},e.prototype._throwIfControlMissing=function(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error("Cannot find form control at index "+n)},e.prototype._forEachChild=function(n){this.controls.forEach(function(e,t){n(e,t)})},e.prototype._updateValue=function(){var n=this;this.value=this.controls.filter(function(e){return e.enabled||n.disabled}).map(function(n){return n.value})},e.prototype._anyControls=function(n){return this.controls.some(function(e){return e.enabled&&n(e)})},e.prototype._setUpControls=function(){var n=this;this._forEachChild(function(e){return n._registerControl(e)})},e.prototype._checkAllValuesPresent=function(n){this._forEachChild(function(e,t){if(void 0===n[t])throw new Error("Must supply a value for form control at index: "+t+".")})},e.prototype._allControlsDisabled=function(){var n,e;try{for(var t=Object(l.__values)(this.controls),r=t.next();!r.done;r=t.next())if(r.value.enabled)return!1}catch(i){n={error:i}}finally{try{r&&!r.done&&(e=t.return)&&e.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)},e}(Df),Rf=Promise.resolve(null),Pf=function(n){function e(e,t){var l=n.call(this)||this;return l.submitted=!1,l._directives=[],l.ngSubmit=new ct,l.form=new Nf({},bf(e),_f(t)),l}return Object(l.__extends)(e,n),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(n){var e=this;Rf.then(function(){var t=e._findContainer(n.path);n.control=t.registerControl(n.name,n.control),gf(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(n)})},e.prototype.getControl=function(n){return this.form.get(n.path)},e.prototype.removeControl=function(n){var e=this;Rf.then(function(){var t,l,r=e._findContainer(n.path);r&&r.removeControl(n.name),(l=(t=e._directives).indexOf(n))>-1&&t.splice(l,1)})},e.prototype.addFormGroup=function(n){var e=this;Rf.then(function(){var t=e._findContainer(n.path),l=new Nf({});(function(n,e){null==n&&vf(e,"Cannot find control with"),n.validator=zp.compose([n.validator,e.validator]),n.asyncValidator=zp.composeAsync([n.asyncValidator,e.asyncValidator])})(l,n),t.registerControl(n.name,l),l.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(n){var e=this;Rf.then(function(){var t=e._findContainer(n.path);t&&t.removeControl(n.name)})},e.prototype.getFormGroup=function(n){return this.form.get(n.path)},e.prototype.updateModel=function(n,e){var t=this;Rf.then(function(){t.form.get(n.path).setValue(e)})},e.prototype.setValue=function(n){this.control.setValue(n)},e.prototype.onSubmit=function(n){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(n){var e=n.control;"submit"===e.updateOn&&e._pendingChange&&(n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(n),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(n){void 0===n&&(n=void 0),this.form.reset(n),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(n){return n.pop(),n.length?this.form.get(n):this.form},e}(Fp),Mf=function(){function n(){}return n.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},n.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+uf+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+af)},n.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},n.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+uf+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+af)},n.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},n}(),Lf=new vn("NgFormSelectorWarning"),Vf=function(n){function e(e,t,l){var r=n.call(this)||this;return r._parent=e,r._validators=t,r._asyncValidators=l,r}var t;return Object(l.__extends)(e,n),t=e,e.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof Pf||Mf.modelGroupParentException()},e}(Cf),Uf=Promise.resolve(null),qf=function(n){function e(e,t,l,r){var i=n.call(this)||this;return i.control=new xf,i._registered=!1,i.update=new ct,i._parent=e,i._rawValidators=t||[],i._rawAsyncValidators=l||[],i.valueAccessor=function(n,e){if(!e)return null;Array.isArray(e)||vf(n,"Value accessor was not provided as an array for form control with");var t=void 0,l=void 0,r=void 0;return e.forEach(function(e){var i;e.constructor===$p?t=e:(i=e,wf.some(function(n){return i.constructor===n})?(l&&vf(n,"More than one built-in value accessor matches form control with"),l=e):(r&&vf(n,"More than one custom value accessor matches form control with"),r=e))}),r||l||t||(vf(n,"No valid value accessor for form control with"),null)}(i,r),i}return Object(l.__extends)(e,n),e.prototype.ngOnChanges=function(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(n,e){if(!n.hasOwnProperty("model"))return!1;var t=n.model;return!!t.isFirstChange()||!On(e,t.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?mf(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return bf(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return _f(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(n){this.viewModel=n,this.update.emit(n)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){gf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Vf)&&this._parent instanceof Cf?Mf.formGroupNameException():this._parent instanceof Vf||this._parent instanceof Pf||Mf.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Mf.missingNameException()},e.prototype._updateValue=function(n){var e=this;Uf.then(function(){e.control.setValue(n,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(n){var e=this,t=n.isDisabled.currentValue,l=""===t||t&&"false"!==t;Uf.then(function(){l&&!e.control.disabled?e.control.disable():!l&&e.control.disabled&&e.control.enable()})},e}(tf),Ff=new vn("NgModelWithFormControlWarning"),jf=function(){function n(){}return Object.defineProperty(n.prototype,"required",{get:function(){return this._required},set:function(n){this._required=null!=n&&!1!==n&&""+n!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),n.prototype.validate=function(n){return this.required?zp.required(n):null},n.prototype.registerOnValidatorChange=function(n){this._onChange=n},n}(),Bf=function(){function n(){}return n.prototype.group=function(n,e){void 0===e&&(e=null);var t=this._reduceControls(n),l=null,r=null,i=void 0;return null!=e&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(e)?(l=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(l=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Nf(t,{asyncValidators:r,updateOn:i,validators:l})},n.prototype.control=function(n,e,t){return new xf(n,e,t)},n.prototype.array=function(n,e,t){var l=this,r=n.map(function(n){return l._createControl(n)});return new Of(r,e,t)},n.prototype._reduceControls=function(n){var e=this,t={};return Object.keys(n).forEach(function(l){t[l]=e._createControl(n[l])}),t},n.prototype._createControl=function(n){return n instanceof xf||n instanceof Nf||n instanceof Of?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)},n}(),Kf=function(){return function(){}}(),zf=function(){return function(){}}(),Hf=function(){function n(){}var e;return e=n,n.withConfig=function(n){return{ngModule:e,providers:[{provide:Lf,useValue:n.warnOnDeprecatedNgFormSelector}]}},n}(),Wf=function(){function n(){}var e;return e=n,n.withConfig=function(n){return{ngModule:e,providers:[{provide:Ff,useValue:n.warnOnNgModelWithFormControl}]}},n}(),Gf=function(){function n(n){this.location=n}return n.prototype.corregirCaracteres=function(n){for(var e="\xc3\xc0\xc1\xc4\xc2\xc8\xc9\xcb\xca\xcc\xcd\xcf\xce\xd2\xd3\xd6\xd4\xd9\xda\xdc\xdb\xe3\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xd1\xf1\xc7\xe7",t=0;t<e.length;t++)n=n.replace(e.charAt(t),"AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuunncc".charAt(t)).toLowerCase();return n},n.prototype.cancelar=function(){this.location.back()},n.ngInjectableDef=gn({factory:function(){return new n(Wn(bu))},token:n,providedIn:"root"}),n}(),Qf=function(){function n(n,e){this.sharedService=n,this.afs=e,this.mensajeErrorImg="",this.claseCargaImg="",this.porcentajeCargaImg="",this.submitted=!1,this.imgError=!1,this.item={seccion:"",modo:"",nombre:"",puesto:"",usuario:"",password:"",permisos:{usuarios:!1,clientes:!1,proyectos:!1,materiales:!1,damage:!1,clasificacionEquipo:!1,reportesObraWeb:!1,reporteEquipoDamageWeb:!1,reporteEnvioWeb:!1,reporteDevolucionesWeb:!1,reportesObraApp:!1,reporteEquipoDamageApp:!1,reporteEnvioApp:!1,reporteDevolucionesApp:!1},email:"",passwordEmail:"",nombreBusqueda:"",key:"",foto:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:1}}return n.prototype.ngOnInit=function(){},n.prototype.getFile=function(n){},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaAlta=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.afs.collection("users").add(this.item),console.log(this.item)},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),Xf=fr({encapsulation:0,styles:[[""]],data:{}});function Yf(n){return io(0,[(n()(),Br(0,0,null,null,344,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,343,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Usuarios"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo usuario"])),(n()(),Br(15,0,null,null,329,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,328,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,327,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo usuario"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar el usuario"])),(n()(),Br(24,0,null,null,320,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,319,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,12,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,11,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Empleado guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Empleado a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,5,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.submitted=!1)&&l),l},null,null)),(n()(),to(-1,null,["Nuevo empleado"])),(n()(),Br(39,0,null,null,305,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(40,0,null,null,304,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,42).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,42).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(41,16384,null,0,Kf,[],null,null),xi(42,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(44,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(45,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(48,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,17,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,53)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,53).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,53)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.nombre=t)&&l),l},null,null)),xi(53,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(54,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(57,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(59,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(60,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del usuario."])),(n()(),Br(63,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(64,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un nombre de empleado "])),(n()(),Br(67,0,null,null,17,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,7,"input",[["class","gui-input"],["id","puesto"],["name","puesto"],["placeholder","Puesto"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,71)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,71).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,71)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,71)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.puesto=t)&&l),l},null,null)),xi(71,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(72,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(75,671744,[["puesto",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(77,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(78,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(79,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Puesto del usuario."])),(n()(),Br(81,0,null,null,1,"label",[["class","field-icon"],["for","puesto"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(83,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un puesto "])),(n()(),Br(85,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(87,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(88,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(89,0,null,null,7,"input",[["class","gui-input"],["id","usuario"],["name","usuario"],["placeholder","Usuario"],["required",""],["type","usuario"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,90)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,90).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,90)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,90)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.usuario=t)&&l),l},null,null)),xi(90,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(91,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(94,671744,[["usuario",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(96,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(97,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(98,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Usuario."])),(n()(),Br(100,0,null,null,1,"label",[["class","field-icon"],["for","usuario"]],null,null,null,null,null)),(n()(),Br(101,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(102,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(103,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(104,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(105,0,null,null,7,"input",[["class","gui-input"],["id","password"],["name","password"],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,106)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,106).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,106)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,106)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.password=t)&&l),l},null,null)),xi(106,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(107,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(110,671744,[["password",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(112,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(113,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(114,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Contrase\xf1a del sistema."])),(n()(),Br(116,0,null,null,1,"label",[["class","field-icon"],["for","password"]],null,null,null,null,null)),(n()(),Br(117,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(118,0,null,null,13,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(119,0,null,null,12,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(120,0,null,null,11,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(121,0,null,null,5,"input",[["class","gui-input"],["id","seccion"],["name","seccion"],["placeholder","Secci\xf3n"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,122)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,122).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,122)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,122)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.seccion=t)&&l),l},null,null)),xi(122,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(124,671744,[["seccion",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(126,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(127,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(128,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,["Secci\xf3n"])),(n()(),Br(130,0,null,null,1,"label",[["class","field-icon"],["for","seccion"]],null,null,null,null,null)),(n()(),Br(131,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(132,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(133,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Correo electr\xf3nico"])),(n()(),Br(135,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(136,0,null,null,17,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),Br(137,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(138,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(139,0,null,null,7,"input",[["class","gui-input"],["id","email"],["name","email"],["placeholder","Correo electr\xf3nico"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,140)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,140).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,140)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,140)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.email=t)&&l),l},null,null)),xi(140,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(141,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(144,671744,[["email",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(146,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(147,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(148,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Correo electr\xf3nico."])),(n()(),Br(150,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(151,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(152,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un correo de empleado "])),(n()(),Br(154,0,null,null,17,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),Br(155,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(156,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(157,0,null,null,7,"input",[["class","gui-input"],["id","passwordEmail"],["name","passwordEmail"],["placeholder","Contrase\xf1a del correo"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,158)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,158).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,158)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,158)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.passwordEmail=t)&&l),l},null,null)),xi(158,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(159,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(162,671744,[["passwordEmail",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(164,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(165,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(166,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,["Contrase\xf1a del correo."])),(n()(),Br(168,0,null,null,1,"label",[["class","field-icon"],["for","passwordEmail"]],null,null,null,null,null)),(n()(),Br(169,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(170,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita una contrase\xf1a del correo "])),(n()(),Br(172,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy2"]],null,null,null,null,null)),(n()(),Br(173,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Permisos de administraci\xf3n de Sistema web"])),(n()(),Br(175,0,null,null,60,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(176,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(177,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(178,0,null,null,5,"input",[["id","clasificacionEquipo"],["name","clasificacionEquipo"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,179).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,179).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.clasificacionEquipo=t)&&l),l},null,null)),xi(179,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(181,671744,[["permisos.clasificacionEquipo",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(183,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(184,0,null,null,1,"label",[["for","clasificacionEquipo"]],null,null,null,null,null)),(n()(),to(-1,null,["Clasificaci\xf3n de equipo"])),(n()(),Br(186,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(187,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(188,0,null,null,5,"input",[["id","clientes"],["name","clientes"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,189).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,189).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.clientes=t)&&l),l},null,null)),xi(189,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(191,671744,[["permisos.clientes",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(193,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(194,0,null,null,1,"label",[["for","clientes"]],null,null,null,null,null)),(n()(),to(-1,null,["Clientes"])),(n()(),Br(196,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(197,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(198,0,null,null,5,"input",[["id","materiales"],["name","materiales"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,199).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,199).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.materiales=t)&&l),l},null,null)),xi(199,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(201,671744,[["permisos.materiales",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(203,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(204,0,null,null,1,"label",[["for","materiales"]],null,null,null,null,null)),(n()(),to(-1,null,["Materiales"])),(n()(),Br(206,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(207,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(208,0,null,null,5,"input",[["id","damage"],["name","damage"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,209).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,209).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.damage=t)&&l),l},null,null)),xi(209,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(211,671744,[["permisos.damage",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(213,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(214,0,null,null,1,"label",[["for","damage"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipos de da\xf1o"])),(n()(),Br(216,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(217,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(218,0,null,null,5,"input",[["id","proyectos"],["name","proyectos"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,219).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,219).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.proyectos=t)&&l),l},null,null)),xi(219,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(221,671744,[["permisos.proyectos",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(223,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(224,0,null,null,1,"label",[["for","proyectos"]],null,null,null,null,null)),(n()(),to(-1,null,["Proyectos"])),(n()(),Br(226,0,null,null,9,"div",[["class","col-md-2 "]],null,null,null,null,null)),(n()(),Br(227,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(228,0,null,null,5,"input",[["id","usuarios"],["name","usuarios"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,229).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,229).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.usuarios=t)&&l),l},null,null)),xi(229,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(231,671744,[["permisos.usuarios",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(233,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(234,0,null,null,1,"label",[["for","usuarios"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipos de da\xf1o"])),(n()(),Br(236,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy2"]],null,null,null,null,null)),(n()(),Br(237,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Permisos de reportes de Sistema web"])),(n()(),Br(239,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(240,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(241,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(242,0,null,null,5,"input",[["id","reporteEquipoDamageWeb"],["name","reporteEquipoDamageWeb"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,243).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,243).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteEquipoDamageWeb=t)&&l),l},null,null)),xi(243,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(245,671744,[["permisos.reporteEquipoDamageWeb",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(247,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(248,0,null,null,1,"label",[["for","reporteEquipoDamageWeb"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de da\xf1o"])),(n()(),Br(250,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(251,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(252,0,null,null,5,"input",[["id","reporteDevolucionesWeb"],["name","reporteDevolucionesWeb"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,253).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,253).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteDevolucionesWeb=t)&&l),l},null,null)),xi(253,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(255,671744,[["permisos.reporteDevolucionesWeb",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(257,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(258,0,null,null,1,"label",[["for","reporteDevolucionesWeb"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de devoluciones de equipo"])),(n()(),Br(260,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(261,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(262,0,null,null,5,"input",[["id","reporteEnvioWeb"],["name","reporteEnvioWeb"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,263).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,263).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteEnvioWeb=t)&&l),l},null,null)),xi(263,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(265,671744,[["permisos.reporteEnvioWeb",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(267,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(268,0,null,null,1,"label",[["for","reporteEnvioWeb"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de env\xedos"])),(n()(),Br(270,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(271,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(272,0,null,null,5,"input",[["id","reportesObraWeb"],["name","reportesObraWeb"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,273).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,273).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reportesObraWeb=t)&&l),l},null,null)),xi(273,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(275,671744,[["permisos.reportesObraWeb",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(277,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(278,0,null,null,1,"label",[["for","reportesObraWeb"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de obra"])),(n()(),Br(280,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy2"]],null,null,null,null,null)),(n()(),Br(281,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Permisos de reportes de app m\xf3vil"])),(n()(),Br(283,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(284,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(285,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(286,0,null,null,5,"input",[["id","reporteEquipoDamageApp"],["name","reporteEquipoDamageApp"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,287).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,287).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteEquipoDamageApp=t)&&l),l},null,null)),xi(287,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(289,671744,[["permisos.reporteEquipoDamageApp",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(291,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(292,0,null,null,1,"label",[["for","reporteEquipoDamageApp"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de da\xf1o"])),(n()(),Br(294,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(295,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(296,0,null,null,5,"input",[["id","reporteDevolucionesApp"],["name","reporteDevolucionesApp"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,297).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,297).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteDevolucionesApp=t)&&l),l},null,null)),xi(297,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(299,671744,[["permisos.reporteDevolucionesApp",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(301,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(302,0,null,null,1,"label",[["for","reporteDevolucionesApp"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de devoluciones de equipo"])),(n()(),Br(304,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(305,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(306,0,null,null,5,"input",[["id","reporteEnvioApp"],["name","reporteEnvioApp"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,307).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,307).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reporteEnvioApp=t)&&l),l},null,null)),xi(307,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(309,671744,[["permisos.reporteEnvioApp",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(311,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(312,0,null,null,1,"label",[["for","reporteEnvioApp"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de env\xedos"])),(n()(),Br(314,0,null,null,9,"div",[["class","col-md-3 "]],null,null,null,null,null)),(n()(),Br(315,0,null,null,8,"div",[["class","checkbox-custom fill checkbox-success mb5"]],null,null,null,null,null)),(n()(),Br(316,0,null,null,5,"input",[["id","reportesObraApp"],["name","reportesObraApp"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,317).onChange(t.target.checked)&&l),"blur"===e&&(l=!1!==yi(n,317).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.permisos.reportesObraApp=t)&&l),l},null,null)),xi(317,16384,null,0,Xp,[Me,xe],null,null),Oi(1024,null,Qp,function(n){return[n]},[Xp]),xi(319,671744,[["permisos.reportesObraApp",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(321,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(322,0,null,null,1,"label",[["for","reportesObraApp"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de obra"])),(n()(),Br(324,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy3"]],null,null,null,null,null)),(n()(),Br(325,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Foto (opcional)"])),(n()(),Br(327,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(328,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),to(329,null,["",""])),(n()(),Br(330,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(331,0,null,null,8,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(332,0,null,null,7,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(333,0,null,null,6,"label",[["class","field prepend-icon append-button file"]],null,null,null,null,null)),(n()(),Br(334,0,null,null,1,"span",[["class","button btn-primary"]],null,null,null,null,null)),(n()(),to(-1,null,["Seleccionar"])),(n()(),Br(336,0,null,null,0,"input",[["class","gui-file"],["id","file1"],["name","file1"],["onchange","document.getElementById('up1').value = this.value;"],["type","file"]],null,[[null,"change"]],function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.getFile(t)&&l),l},null,null)),(n()(),Br(337,0,null,null,0,"input",[["class","gui-input"],["id","up1"],["placeholder","Foto empleado"],["type","text"]],null,null,null,null,null)),(n()(),Br(338,0,null,null,1,"label",[["class","field-icon"]],null,null,null,null,null)),(n()(),Br(339,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),Br(340,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(341,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(343,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/empleados"),n(e,54,0,""),n(e,57,0,"nombre",t.item.nombre),n(e,72,0,""),n(e,75,0,"puesto",t.item.puesto),n(e,91,0,""),n(e,94,0,"usuario",t.item.usuario),n(e,107,0,""),n(e,110,0,"password",t.item.password),n(e,124,0,"seccion",t.item.seccion),n(e,141,0,""),n(e,144,0,"email",t.item.email),n(e,159,0,""),n(e,162,0,"passwordEmail",t.item.passwordEmail),n(e,181,0,"clasificacionEquipo",t.item.permisos.clasificacionEquipo),n(e,191,0,"clientes",t.item.permisos.clientes),n(e,201,0,"materiales",t.item.permisos.materiales),n(e,211,0,"damage",t.item.permisos.damage),n(e,221,0,"proyectos",t.item.permisos.proyectos),n(e,231,0,"usuarios",t.item.permisos.usuarios),n(e,245,0,"reporteEquipoDamageWeb",t.item.permisos.reporteEquipoDamageWeb),n(e,255,0,"reporteDevolucionesWeb",t.item.permisos.reporteDevolucionesWeb),n(e,265,0,"reporteEnvioWeb",t.item.permisos.reporteEnvioWeb),n(e,275,0,"reportesObraWeb",t.item.permisos.reportesObraWeb),n(e,289,0,"reporteEquipoDamageApp",t.item.permisos.reporteEquipoDamageApp),n(e,299,0,"reporteDevolucionesApp",t.item.permisos.reporteDevolucionesApp),n(e,309,0,"reporteEnvioApp",t.item.permisos.reporteEnvioApp),n(e,319,0,"reportesObraApp",t.item.permisos.reportesObraApp)},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,39,0,t.submitted),n(e,40,0,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,52,0,yi(e,54).required?"":null,yi(e,59).ngClassUntouched,yi(e,59).ngClassTouched,yi(e,59).ngClassPristine,yi(e,59).ngClassDirty,yi(e,59).ngClassValid,yi(e,59).ngClassInvalid,yi(e,59).ngClassPending),n(e,65,0,yi(e,57).valid||yi(e,57).pristine),n(e,70,0,yi(e,72).required?"":null,yi(e,77).ngClassUntouched,yi(e,77).ngClassTouched,yi(e,77).ngClassPristine,yi(e,77).ngClassDirty,yi(e,77).ngClassValid,yi(e,77).ngClassInvalid,yi(e,77).ngClassPending),n(e,83,0,yi(e,75).valid||yi(e,75).pristine),n(e,89,0,yi(e,91).required?"":null,yi(e,96).ngClassUntouched,yi(e,96).ngClassTouched,yi(e,96).ngClassPristine,yi(e,96).ngClassDirty,yi(e,96).ngClassValid,yi(e,96).ngClassInvalid,yi(e,96).ngClassPending),n(e,105,0,yi(e,107).required?"":null,yi(e,112).ngClassUntouched,yi(e,112).ngClassTouched,yi(e,112).ngClassPristine,yi(e,112).ngClassDirty,yi(e,112).ngClassValid,yi(e,112).ngClassInvalid,yi(e,112).ngClassPending),n(e,121,0,yi(e,126).ngClassUntouched,yi(e,126).ngClassTouched,yi(e,126).ngClassPristine,yi(e,126).ngClassDirty,yi(e,126).ngClassValid,yi(e,126).ngClassInvalid,yi(e,126).ngClassPending),n(e,139,0,yi(e,141).required?"":null,yi(e,146).ngClassUntouched,yi(e,146).ngClassTouched,yi(e,146).ngClassPristine,yi(e,146).ngClassDirty,yi(e,146).ngClassValid,yi(e,146).ngClassInvalid,yi(e,146).ngClassPending),n(e,152,0,yi(e,144).valid||yi(e,144).pristine),n(e,157,0,yi(e,159).required?"":null,yi(e,164).ngClassUntouched,yi(e,164).ngClassTouched,yi(e,164).ngClassPristine,yi(e,164).ngClassDirty,yi(e,164).ngClassValid,yi(e,164).ngClassInvalid,yi(e,164).ngClassPending),n(e,170,0,yi(e,162).valid||yi(e,162).pristine),n(e,178,0,yi(e,183).ngClassUntouched,yi(e,183).ngClassTouched,yi(e,183).ngClassPristine,yi(e,183).ngClassDirty,yi(e,183).ngClassValid,yi(e,183).ngClassInvalid,yi(e,183).ngClassPending),n(e,188,0,yi(e,193).ngClassUntouched,yi(e,193).ngClassTouched,yi(e,193).ngClassPristine,yi(e,193).ngClassDirty,yi(e,193).ngClassValid,yi(e,193).ngClassInvalid,yi(e,193).ngClassPending),n(e,198,0,yi(e,203).ngClassUntouched,yi(e,203).ngClassTouched,yi(e,203).ngClassPristine,yi(e,203).ngClassDirty,yi(e,203).ngClassValid,yi(e,203).ngClassInvalid,yi(e,203).ngClassPending),n(e,208,0,yi(e,213).ngClassUntouched,yi(e,213).ngClassTouched,yi(e,213).ngClassPristine,yi(e,213).ngClassDirty,yi(e,213).ngClassValid,yi(e,213).ngClassInvalid,yi(e,213).ngClassPending),n(e,218,0,yi(e,223).ngClassUntouched,yi(e,223).ngClassTouched,yi(e,223).ngClassPristine,yi(e,223).ngClassDirty,yi(e,223).ngClassValid,yi(e,223).ngClassInvalid,yi(e,223).ngClassPending),n(e,228,0,yi(e,233).ngClassUntouched,yi(e,233).ngClassTouched,yi(e,233).ngClassPristine,yi(e,233).ngClassDirty,yi(e,233).ngClassValid,yi(e,233).ngClassInvalid,yi(e,233).ngClassPending),n(e,242,0,yi(e,247).ngClassUntouched,yi(e,247).ngClassTouched,yi(e,247).ngClassPristine,yi(e,247).ngClassDirty,yi(e,247).ngClassValid,yi(e,247).ngClassInvalid,yi(e,247).ngClassPending),n(e,252,0,yi(e,257).ngClassUntouched,yi(e,257).ngClassTouched,yi(e,257).ngClassPristine,yi(e,257).ngClassDirty,yi(e,257).ngClassValid,yi(e,257).ngClassInvalid,yi(e,257).ngClassPending),n(e,262,0,yi(e,267).ngClassUntouched,yi(e,267).ngClassTouched,yi(e,267).ngClassPristine,yi(e,267).ngClassDirty,yi(e,267).ngClassValid,yi(e,267).ngClassInvalid,yi(e,267).ngClassPending),n(e,272,0,yi(e,277).ngClassUntouched,yi(e,277).ngClassTouched,yi(e,277).ngClassPristine,yi(e,277).ngClassDirty,yi(e,277).ngClassValid,yi(e,277).ngClassInvalid,yi(e,277).ngClassPending),n(e,286,0,yi(e,291).ngClassUntouched,yi(e,291).ngClassTouched,yi(e,291).ngClassPristine,yi(e,291).ngClassDirty,yi(e,291).ngClassValid,yi(e,291).ngClassInvalid,yi(e,291).ngClassPending),n(e,296,0,yi(e,301).ngClassUntouched,yi(e,301).ngClassTouched,yi(e,301).ngClassPristine,yi(e,301).ngClassDirty,yi(e,301).ngClassValid,yi(e,301).ngClassInvalid,yi(e,301).ngClassPending),n(e,306,0,yi(e,311).ngClassUntouched,yi(e,311).ngClassTouched,yi(e,311).ngClassPristine,yi(e,311).ngClassDirty,yi(e,311).ngClassValid,yi(e,311).ngClassInvalid,yi(e,311).ngClassPending),n(e,316,0,yi(e,321).ngClassUntouched,yi(e,321).ngClassTouched,yi(e,321).ngClassPristine,yi(e,321).ngClassDirty,yi(e,321).ngClassValid,yi(e,321).ngClassInvalid,yi(e,321).ngClassPending),n(e,327,0,!t.imgError),n(e,329,0,t.mensajeErrorImg)})}function $f(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nuevo-usuario",[],null,null,null,Yf,Xf)),xi(1,114688,null,0,Qf,[Gf,kp],null,null)],function(n,e){n(e,1,0)},null)}var Zf=oi("app-nuevo-usuario",Qf,$f,{},{},[]),Jf=function(){function n(n,e,t){this.sharedService=n,this.afs=e,this.storage=t,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.item={nombre:"",nombreBusqueda:"",numero:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,estado:0,logo:"",fechaEdicion:0}}return n.prototype.ngOnInit=function(){},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaAlta=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.afs.collection("clients").add(this.item),this.submitted=!0},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){this.imgError=!1,this.selectedFile=n.target.files[0],console.log(n.target.id),n.target.files&&n.target.files[0]&&("image/jpeg"===n.target.files[0].type||"image/png"===n.target.files[0].type||"image/jpg"===n.target.files[0].type?(console.log("Imagen v\xe1lida"),n.target.files[0].size<4e4?(console.log("tama\xf1o v\xe1lida"),n.target.files[0].size<2e6?(console.log("peso v\xe1lido"),this.uploadFile(n.target.id)):(this.mensajeErrorImg="Imagen demasiado grande. Debe pesar menos de ",this.imgError=!0,console.log("peso inv\xe1lido"))):(this.mensajeErrorImg="Tama\xf1o inv\xe1lido. Debe medir 200 px de alto por 200 px de ancho.",this.imgError=!0,console.log("tama\xf1o inv\xe1lido"))):(this.mensajeErrorImg="Formato no v\xe1lido, debe ser una imagen en .jpg o .png",this.imgError=!0,console.log("No imagen")))},n.prototype.uploadFile=function(n){var e=this;this.estadoCargaImg=!0,this.claseCargaImg="progress-bar progress-bar-primary progress-bar-striped";var t=this.selectedFile,l="clients/"+t.name,r=this.storage.ref(l),i=this.storage.upload(l,t);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(function(n){e.porcentajeCargaImg=n,console.log(n)}),i.snapshotChanges().pipe(qa(function(){e.downloadURL=r.getDownloadURL(),e.downloadURL.subscribe(function(n){e.item.logo=n,e.claseCargaImg="progress-bar progress-bar-success"})})).subscribe(function(n){return console.log(r.getDownloadURL)})},n}();function nm(n){var e=function(n){return new I(function(e){return n.on("state_changed",function(n){return e.next(n)},function(n){return e.error(n)},function(){return e.complete()}),function(){return n.cancel()}})}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(G(function(n){return n.bytesTransferred/n.totalBytes*100}))}}}function em(n,e){return{getDownloadURL:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular($(e.zone.runOutsideAngular(function(){return n.getDownloadURL()}))))},getMetadata:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular($(e.zone.runOutsideAngular(function(){return n.getMetadata()}))))},delete:function(){return $(n.delete())},child:function(t){return em(n.child(t),e)},updateMetatdata:function(e){return $(n.updateMetadata(e))},updateMetadata:function(e){return $(n.updateMetadata(e))},put:function(e,t){return nm(n.put(e,t))},putString:function(e,t,l){return nm(n.putString(e,t,l))}}}var tm=new vn("angularfire2.storageBucket"),lm=function(){function n(n,e,t,l,r){this.scheduler=new up(r,l),this.storage=r.runOutsideAngular(function(){return bp(n,e).storage(t||void 0)})}return n.prototype.ref=function(n){return em(this.storage.ref(n),this.scheduler)},n.prototype.upload=function(n,e,t){return em(this.storage.ref(n),this.scheduler).put(e,t)},n}(),rm=fr({encapsulation:0,styles:[[""]],data:{}});function im(n){return io(0,[(n()(),Br(0,0,null,null,124,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,123,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Clientes"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo cliente"])),(n()(),Br(15,0,null,null,109,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,108,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,107,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo cliente"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar el cliente"])),(n()(),Br(24,0,null,null,100,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,99,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,10,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,9,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Cliente guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Cliente a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,3,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/clientes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,87,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(38,0,null,null,86,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,40).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,40).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(39,16384,null,0,Kf,[],null,null),xi(40,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(42,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(43,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(44,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(46,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(48,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,51)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,51).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,51)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,51)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.nombre=t)&&l),l},null,null)),xi(51,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(52,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(55,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(57,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(58,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(59,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del cliente."])),(n()(),Br(61,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(63,0,null,null,1,"div",[["class","alert alert-primary"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un nombre de cliente "])),(n()(),Br(65,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,17,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,7,"input",[["class","gui-input"],["id","numero"],["name","numero"],["placeholder","No. Cliente"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,70)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,70).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,70)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,70)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.numero=t)&&l),l},null,null)),xi(70,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(71,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(74,671744,[["numero",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(76,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(77,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(78,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" N\xfamero de cliente."])),(n()(),Br(80,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un n\xfamero de cliente "])),(n()(),Br(84,0,null,null,19,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,18,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,17,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(87,0,null,null,15,"select",[["class","form-control"],["id","estado"],["name","estado"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,88).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,88).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.estado=t)&&l),l},null,null)),xi(88,16384,null,0,cf,[Me,xe],null,null),xi(89,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(92,671744,[["estado",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(94,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(95,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),xi(96,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(97,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Activo"])),(n()(),Br(99,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),xi(100,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(101,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Inactivo"])),(n()(),Br(103,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(104,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy3"]],null,null,null,null,null)),(n()(),Br(105,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Logo (opcional)"])),(n()(),Br(107,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(108,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),to(109,null,["",""])),(n()(),Br(110,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(111,0,null,null,8,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(112,0,null,null,7,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(113,0,null,null,6,"label",[["class","field prepend-icon append-button file"]],null,null,null,null,null)),(n()(),Br(114,0,null,null,1,"span",[["class","button btn-primary"]],null,null,null,null,null)),(n()(),to(-1,null,["Seleccionar"])),(n()(),Br(116,0,null,null,0,"input",[["class","gui-file"],["id","file1"],["name","file1"],["onchange","document.getElementById('up1').value = this.value;"],["type","file"]],null,[[null,"change"]],function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.getFile(t)&&l),l},null,null)),(n()(),Br(117,0,null,null,0,"input",[["class","gui-input"],["id","up1"],["placeholder","Logo de cliente"],["type","text"]],null,null,null,null,null)),(n()(),Br(118,0,null,null,1,"label",[["class","field-icon"]],null,null,null,null,null)),(n()(),Br(119,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),Br(120,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(121,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(123,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/clientes"),n(e,52,0,""),n(e,55,0,"nombre",t.item.nombre),n(e,71,0,""),n(e,74,0,"numero",t.item.numero),n(e,89,0,""),n(e,92,0,"estado",t.item.estado),n(e,96,0,"1"),n(e,97,0,"1"),n(e,100,0,"0"),n(e,101,0,"0")},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,37,0,t.submitted),n(e,38,0,yi(e,42).ngClassUntouched,yi(e,42).ngClassTouched,yi(e,42).ngClassPristine,yi(e,42).ngClassDirty,yi(e,42).ngClassValid,yi(e,42).ngClassInvalid,yi(e,42).ngClassPending),n(e,50,0,yi(e,52).required?"":null,yi(e,57).ngClassUntouched,yi(e,57).ngClassTouched,yi(e,57).ngClassPristine,yi(e,57).ngClassDirty,yi(e,57).ngClassValid,yi(e,57).ngClassInvalid,yi(e,57).ngClassPending),n(e,63,0,yi(e,55).valid||yi(e,55).pristine),n(e,69,0,yi(e,71).required?"":null,yi(e,76).ngClassUntouched,yi(e,76).ngClassTouched,yi(e,76).ngClassPristine,yi(e,76).ngClassDirty,yi(e,76).ngClassValid,yi(e,76).ngClassInvalid,yi(e,76).ngClassPending),n(e,82,0,yi(e,55).valid||yi(e,55).pristine),n(e,87,0,yi(e,89).required?"":null,yi(e,94).ngClassUntouched,yi(e,94).ngClassTouched,yi(e,94).ngClassPristine,yi(e,94).ngClassDirty,yi(e,94).ngClassValid,yi(e,94).ngClassInvalid,yi(e,94).ngClassPending),n(e,107,0,!t.imgError),n(e,109,0,t.mensajeErrorImg),n(e,121,0,!yi(e,40).form.valid)})}function om(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nuevo-cliente",[],null,null,null,im,rm)),xi(1,114688,null,0,Jf,[Gf,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var um=oi("app-nuevo-cliente",Jf,om,{},{},[]),am=function(){function n(n,e){this.sharedService=n,this.afs=e,this.submitted=!1,this.item={key:"",nombreBusqueda:"",clasificacionEquipo:"",tipoDano:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){this.getInfo()},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("equipmentType"),console.log(this.itemsCollection),this.items=this.itemsCollection.valueChanges()},n.prototype.nuevoDano=function(){this.item.pais="MX",this.item.fechaAlta=(new Date).getTime(),this.afs.collection("damage").add(this.item),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),sm=fr({encapsulation:0,styles:[[""]],data:{}});function cm(n){return io(0,[(n()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),xi(1,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(2,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(3,null,[" ",""]))],function(n,e){n(e,1,0,e.context.$implicit.nombre),n(e,2,0,e.context.$implicit.nombre)},function(n,e){n(e,3,0,e.context.$implicit.nombre)})}function hm(n){return io(0,[(n()(),Br(0,0,null,null,90,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,89,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Tipos de da\xf1o"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo Da\xf1o"])),(n()(),Br(15,0,null,null,75,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,74,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,73,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo tipo de da\xf1o"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar el tipo de da\xf1o"])),(n()(),Br(24,0,null,null,66,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,65,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,13,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,12,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,6,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/tipo-dano"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,2,"button",[["class","btn btn-default"],["routerLink","/nuevo-tipo-dano "],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,38).onClick()&&l),l},null,null)),xi(38,16384,null,0,gd,[md,ih,[8,null],Me,xe],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Nuevo da\xf1o"])),(n()(),Br(40,0,null,null,50,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(41,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,43).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,43).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.nuevoDano()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(42,16384,null,0,Kf,[],null,null),xi(43,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(45,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(46,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(49,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(53,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Tipo de da\xf1o"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,54)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,54).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,54)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,54)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.tipoDano=t)&&l),l},null,null)),xi(54,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(55,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(58,671744,[["codigo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(60,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(61,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del tipo de da\xf1o."])),(n()(),Br(64,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,18,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,17,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,16,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,14,"select",[["class","form-control"],["id","clasificacion"],["name","clasifiacion"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,71).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,71).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.clasificacionEquipo=t)&&l),l},null,null)),xi(71,16384,null,0,cf,[Me,xe],null,null),xi(72,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(75,671744,[["clsificacionEquipo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(77,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(78,0,null,null,3,"option",[],null,null,null,null,null)),xi(79,147456,null,0,hf,[xe,Me,[2,cf]],null,null),xi(80,147456,null,0,ff,[xe,Me,[8,null]],null,null),(n()(),to(-1,null,["Clasificacion de Equipo"])),(n()(),jr(16777216,null,null,2,null,cm)),xi(83,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl]),(n()(),Br(85,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(87,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.nuevoDano()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(89,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/tipo-dano"),n(e,38,0,"/nuevo-tipo-dano "),n(e,55,0,""),n(e,58,0,"nombre",t.item.tipoDano),n(e,72,0,""),n(e,75,0,"clasifiacion",t.item.clasificacionEquipo),n(e,83,0,hr(e,83,0,yi(e,84).transform(t.items)))},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,40,0,t.submitted),n(e,41,0,yi(e,45).ngClassUntouched,yi(e,45).ngClassTouched,yi(e,45).ngClassPristine,yi(e,45).ngClassDirty,yi(e,45).ngClassValid,yi(e,45).ngClassInvalid,yi(e,45).ngClassPending),n(e,53,0,yi(e,55).required?"":null,yi(e,60).ngClassUntouched,yi(e,60).ngClassTouched,yi(e,60).ngClassPristine,yi(e,60).ngClassDirty,yi(e,60).ngClassValid,yi(e,60).ngClassInvalid,yi(e,60).ngClassPending),n(e,70,0,yi(e,72).required?"":null,yi(e,77).ngClassUntouched,yi(e,77).ngClassTouched,yi(e,77).ngClassPristine,yi(e,77).ngClassDirty,yi(e,77).ngClassValid,yi(e,77).ngClassInvalid,yi(e,77).ngClassPending)})}function dm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nuevo-dano",[],null,null,null,hm,sm)),xi(1,114688,null,0,am,[Gf,kp],null,null)],function(n,e){n(e,1,0)},null)}var pm=oi("app-nuevo-dano",am,dm,{},{},[]),fm=function(){function n(n,e){this.sharedService=n,this.afs=e,this.submitted=!1,this.itemClasificacion={key:"",nombre:"",manual:"",paginas:"",item:0,pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,nombreBusqueda:"",estado:0}}return n.prototype.ngOnInit=function(){},n.prototype.nuevaClasificacion=function(){console.log(this.itemClasificacion),this.itemClasificacion.pais="MX",this.itemClasificacion.fechaAlta=(new Date).getTime(),this.afs.collection("equipmentType").add(this.itemClasificacion),this.submitted=!0},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),mm=fr({encapsulation:0,styles:[[""]],data:{}});function gm(n){return io(0,[(n()(),Br(0,0,null,null,119,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,118,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/clasificacion-equipo"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Clasificaciones de equipo"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nueva clasificaci\xf3n"])),(n()(),Br(15,0,null,null,104,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,103,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,102,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nueva clasificaci\xf3n de equipo"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar la nueva clasificaci\xf3n de equipo"])),(n()(),Br(24,0,null,null,95,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,94,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,13,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,12,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Clasificaci\xf3n guardada exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Nueva clasificaci\xf3n de equipo a\xf1adida con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,6,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/clasificacion-equipo"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,2,"button",[["class","btn btn-default"],["routerLink","/nueva-clasificacion-equipo"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,38).onClick()&&l),l},null,null)),xi(38,16384,null,0,gd,[md,ih,[8,null],Me,xe],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Nueva Clasificaci\xf3n"])),(n()(),Br(40,0,null,null,79,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(41,0,null,null,78,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,43).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,43).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.nuevaClasificacion()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(42,16384,null,0,Kf,[],null,null),xi(43,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(45,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(46,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(49,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(53,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre de clasificaci\xf3n"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,54)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,54).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,54)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,54)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemClasificacion.nombre=t)&&l),l},null,null)),xi(54,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(55,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(58,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(60,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(61,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre de la clasificacion."])),(n()(),Br(64,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,7,"input",[["class","gui-input"],["id","item"],["name","item"],["placeholder","Item del manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,71)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,71).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,71)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,71)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemClasificacion.item=t)&&l),l},null,null)),xi(71,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(72,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(75,671744,[["item",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(77,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(78,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(79,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Item del manual."])),(n()(),Br(81,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(83,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(84,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,7,"input",[["class","gui-input"],["id","manual"],["name","manual"],["placeholder","Manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,87)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,87).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,87)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,87)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemClasificacion.manual=t)&&l),l},null,null)),xi(87,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(88,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(91,671744,[["manual",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(93,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(94,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(95,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Manual."])),(n()(),Br(97,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(98,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(99,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(100,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(101,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(102,0,null,null,7,"input",[["class","gui-input"],["id","paginas"],["name","paginas"],["placeholder","P\xe1gina del Manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,103)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,103).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,103)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,103)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemClasificacion.paginas=t)&&l),l},null,null)),xi(103,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(104,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(107,671744,[["paginas",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(109,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(110,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(111,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del Manual."])),(n()(),Br(113,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(114,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(115,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(116,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.nuevaClasificacion()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(118,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/clasificacion-equipo"),n(e,35,0,"/clasificacion-equipo"),n(e,38,0,"/nueva-clasificacion-equipo"),n(e,55,0,""),n(e,58,0,"nombre",t.itemClasificacion.nombre),n(e,72,0,""),n(e,75,0,"item",t.itemClasificacion.item),n(e,88,0,""),n(e,91,0,"manual",t.itemClasificacion.manual),n(e,104,0,""),n(e,107,0,"paginas",t.itemClasificacion.paginas)},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,40,0,t.submitted),n(e,41,0,yi(e,45).ngClassUntouched,yi(e,45).ngClassTouched,yi(e,45).ngClassPristine,yi(e,45).ngClassDirty,yi(e,45).ngClassValid,yi(e,45).ngClassInvalid,yi(e,45).ngClassPending),n(e,53,0,yi(e,55).required?"":null,yi(e,60).ngClassUntouched,yi(e,60).ngClassTouched,yi(e,60).ngClassPristine,yi(e,60).ngClassDirty,yi(e,60).ngClassValid,yi(e,60).ngClassInvalid,yi(e,60).ngClassPending),n(e,70,0,yi(e,72).required?"":null,yi(e,77).ngClassUntouched,yi(e,77).ngClassTouched,yi(e,77).ngClassPristine,yi(e,77).ngClassDirty,yi(e,77).ngClassValid,yi(e,77).ngClassInvalid,yi(e,77).ngClassPending),n(e,86,0,yi(e,88).required?"":null,yi(e,93).ngClassUntouched,yi(e,93).ngClassTouched,yi(e,93).ngClassPristine,yi(e,93).ngClassDirty,yi(e,93).ngClassValid,yi(e,93).ngClassInvalid,yi(e,93).ngClassPending),n(e,102,0,yi(e,104).required?"":null,yi(e,109).ngClassUntouched,yi(e,109).ngClassTouched,yi(e,109).ngClassPristine,yi(e,109).ngClassDirty,yi(e,109).ngClassValid,yi(e,109).ngClassInvalid,yi(e,109).ngClassPending)})}function ym(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nueva-clasificacion-equipo",[],null,null,null,gm,mm)),xi(1,114688,null,0,fm,[Gf,kp],null,null)],function(n,e){n(e,1,0)},null)}var vm=oi("app-nueva-clasificacion-equipo",fm,ym,{},{},[]),bm=function(){function n(n,e){this.sharedService=n,this.afs=e,this.submitted=!1,this.item={codigo:"",nombreBusqueda:"",descripcion:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){this.getInfo()},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("clients"),console.log(this.itemsCollection),this.items=this.itemsCollection.valueChanges()},n.prototype.nuevoItem=function(){this.item.pais="MX",this.item.fechaAlta=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.codigo),this.afs.collection("material").add(this.item),this.submitted=!0},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),_m=fr({encapsulation:0,styles:[[""]],data:{}});function wm(n){return io(0,[(n()(),Br(0,0,null,null,85,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,84,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Materiales"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo material"])),(n()(),Br(15,0,null,null,70,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,69,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,68,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo material"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar el material"])),(n()(),Br(24,0,null,null,61,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,60,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,12,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,11,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Material guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Material a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,5,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.submitted=!1)&&l),l},null,null)),(n()(),to(-1,null,["Nuevo Material"])),(n()(),Br(39,0,null,null,46,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(40,0,null,null,45,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,42).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,42).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.nuevoItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(41,16384,null,0,Kf,[],null,null),xi(42,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(44,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(45,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(48,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,7,"input",[["class","gui-input"],["id","codigo"],["name","nombre"],["placeholder","C\xf3digo de material"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,53)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,53).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,53)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.codigo=t)&&l),l},null,null)),xi(53,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(54,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(57,671744,[["codigo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(59,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(60,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" C\xf3digo."])),(n()(),Br(63,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(64,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,15,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,7,"input",[["class","gui-input"],["id","descripcion"],["name","nombre"],["placeholder","Descripci\xf3n"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,69)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,69).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,69)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,69)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.descripcion=t)&&l),l},null,null)),xi(69,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(70,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(73,671744,[["descripcion",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(75,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(76,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(77,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" C\xf3digo."])),(n()(),Br(79,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(80,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(82,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.nuevoItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(84,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/empleados"),n(e,54,0,""),n(e,57,0,"nombre",t.item.codigo),n(e,70,0,""),n(e,73,0,"nombre",t.item.descripcion)},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,39,0,t.submitted),n(e,40,0,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,52,0,yi(e,54).required?"":null,yi(e,59).ngClassUntouched,yi(e,59).ngClassTouched,yi(e,59).ngClassPristine,yi(e,59).ngClassDirty,yi(e,59).ngClassValid,yi(e,59).ngClassInvalid,yi(e,59).ngClassPending),n(e,68,0,yi(e,70).required?"":null,yi(e,75).ngClassUntouched,yi(e,75).ngClassTouched,yi(e,75).ngClassPristine,yi(e,75).ngClassDirty,yi(e,75).ngClassValid,yi(e,75).ngClassInvalid,yi(e,75).ngClassPending)})}function Cm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nuevo-material",[],null,null,null,wm,_m)),xi(1,114688,null,0,bm,[Gf,kp],null,null)],function(n,e){n(e,1,0)},null)}var Em=oi("app-nuevo-material",bm,Cm,{},{},[]),Sm=function(){function n(n,e){this.sharedService=n,this.afs=e,this.submitted=!1,this.item={nombre:"",nombreBusqueda:"",numero:"",cliente:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){this.getInfo()},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("clients"),console.log(this.itemsCollection),this.items=this.itemsCollection.valueChanges()},n.prototype.nuevoItem=function(){this.item.pais="MX",this.item.fechaAlta=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.afs.collection("projects").add(this.item),this.submitted=!0},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),Tm=fr({encapsulation:0,styles:[[""]],data:{}});function Im(n){return io(0,[(n()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),xi(1,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(2,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(3,null,[" ",""]))],function(n,e){n(e,1,0,e.context.$implicit.nombre),n(e,2,0,e.context.$implicit.nombre)},function(n,e){n(e,3,0,e.context.$implicit.nombre)})}function km(n){return io(0,[(n()(),Br(0,0,null,null,125,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,124,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Proyectoss"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo proyecto"])),(n()(),Br(15,0,null,null,110,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,109,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,108,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Nuevo proyecto"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para agregar el proyecto"])),(n()(),Br(24,0,null,null,101,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,100,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,12,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,11,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Proyecto guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Proyecto a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,5,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.submitted=!1)&&l),l},null,null)),(n()(),to(-1,null,["Nuevo proyecto"])),(n()(),Br(39,0,null,null,86,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(40,0,null,null,85,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,42).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,42).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.nuevoItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(41,16384,null,0,Kf,[],null,null),xi(42,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(44,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(45,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(48,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre proyecto"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,53)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,53).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,53)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.nombre=t)&&l),l},null,null)),xi(53,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(54,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(57,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(59,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(60,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del proyecto."])),(n()(),Br(63,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(64,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,55,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,7,"input",[["class","gui-input"],["id","numero"],["name","numero"],["placeholder","No. proyecto"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,70)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,70).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,70)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,70)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.numero=t)&&l),l},null,null)),xi(70,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(71,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(74,671744,[["numero",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(76,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(77,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(78,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" No. del Proyecto."])),(n()(),Br(80,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,18,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(83,0,null,null,17,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(84,0,null,null,16,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,14,"select",[["class","form-control"],["id","clasificacion1"],["name","cliente"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,86).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,86).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.cliente=t)&&l),l},null,null)),xi(86,16384,null,0,cf,[Me,xe],null,null),xi(87,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(90,671744,[["cliente",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(92,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(93,0,null,null,3,"option",[],null,null,null,null,null)),xi(94,147456,null,0,hf,[xe,Me,[2,cf]],null,null),xi(95,147456,null,0,ff,[xe,Me,[8,null]],null,null),(n()(),to(-1,null,["Cliente"])),(n()(),jr(16777216,null,null,2,null,Im)),xi(98,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl]),(n()(),Br(100,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(101,0,null,null,19,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(102,0,null,null,18,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(103,0,null,null,17,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(104,0,null,null,15,"select",[["class","form-control"],["id","clasificacion1"],["name","clasificacion1"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,105).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,105).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.estado=t)&&l),l},null,null)),xi(105,16384,null,0,cf,[Me,xe],null,null),xi(106,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(109,671744,[["estado",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(111,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(112,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),xi(113,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(114,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Activo"])),(n()(),Br(116,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),xi(117,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(118,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Inactivo"])),(n()(),Br(120,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(121,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(122,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.nuevoItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(124,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/empleados"),n(e,54,0,""),n(e,57,0,"nombre",t.item.nombre),n(e,71,0,""),n(e,74,0,"numero",t.item.numero),n(e,87,0,""),n(e,90,0,"cliente",t.item.cliente),n(e,98,0,hr(e,98,0,yi(e,99).transform(t.items))),n(e,106,0,""),n(e,109,0,"clasificacion1",t.item.estado),n(e,113,0,"1"),n(e,114,0,"1"),n(e,117,0,"2"),n(e,118,0,"2")},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,39,0,t.submitted),n(e,40,0,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,52,0,yi(e,54).required?"":null,yi(e,59).ngClassUntouched,yi(e,59).ngClassTouched,yi(e,59).ngClassPristine,yi(e,59).ngClassDirty,yi(e,59).ngClassValid,yi(e,59).ngClassInvalid,yi(e,59).ngClassPending),n(e,69,0,yi(e,71).required?"":null,yi(e,76).ngClassUntouched,yi(e,76).ngClassTouched,yi(e,76).ngClassPristine,yi(e,76).ngClassDirty,yi(e,76).ngClassValid,yi(e,76).ngClassInvalid,yi(e,76).ngClassPending),n(e,85,0,yi(e,87).required?"":null,yi(e,92).ngClassUntouched,yi(e,92).ngClassTouched,yi(e,92).ngClassPristine,yi(e,92).ngClassDirty,yi(e,92).ngClassValid,yi(e,92).ngClassInvalid,yi(e,92).ngClassPending),n(e,104,0,yi(e,106).required?"":null,yi(e,111).ngClassUntouched,yi(e,111).ngClassTouched,yi(e,111).ngClassPristine,yi(e,111).ngClassDirty,yi(e,111).ngClassValid,yi(e,111).ngClassInvalid,yi(e,111).ngClassPending)})}function Am(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-nuevo-proyecto",[],null,null,null,km,Tm)),xi(1,114688,null,0,Sm,[Gf,kp],null,null)],function(n,e){n(e,1,0)},null)}var Dm=oi("app-nuevo-proyecto",Sm,Am,{},{},[]),xm=function(){function n(n){this.afs=n,this.preguntaEliminar=!1,this.eliminado=!1,this.itemEliminar="",this.nombreClienteEliminar="",this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("clients",function(n){return n.orderBy("nombre")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n.prototype.eliminarSeleccionado=function(n,e){this.itemEliminar=n,this.nombreClienteEliminar=e,this.preguntaEliminar=!0,window.scrollTo(0,0)},n.prototype.eliminar=function(){console.log(this.itemEliminar),this.preguntaEliminar=!1,this.afs.doc("clients/"+this.itemEliminar).delete(),this.eliminado=!0},n}(),Nm=fr({encapsulation:0,styles:[[""]],data:{}});function Om(n){return io(0,[(n()(),Br(0,0,null,null,20,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[["class","w100"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,0,"img",[["class","img-responsive mw40 ib mr10"],["title","user"]],[[8,"src",4]],null,null,null,null)),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(6,null,["",""])),(n()(),Br(7,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(11,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(14,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(16,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(18,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(19,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminarSeleccionado(n.context.$implicit.id,n.context.$implicit.nombre)&&l),l},null,null)),(n()(),to(-1,null,["Borrar"]))],function(n,e){var t=n(e,16,0,"/editar-cliente",e.context.$implicit.id);n(e,15,0,t)},function(n,e){n(e,2,0,e.context.$implicit.logo),n(e,4,0,e.context.$implicit.numero),n(e,6,0,e.context.$implicit.nombre),n(e,14,0,yi(e,15).target,yi(e,15).href)})}function Rm(n){return io(0,[(n()(),Br(0,0,null,null,53,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Clientes"])),(n()(),Br(6,0,null,null,47,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,46,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nuevo-cliente"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar cliente"])),(n()(),Br(17,0,null,null,36,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,19,"div",[["class","panel-menu p12 admin-form theme-primary"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,9,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(22,0,null,null,8,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #b71c1c"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(24,null,["\xbfEst\xe1s seguro que quieres eliminar el cliente ","?"])),(n()(),Br(25,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(26,0,null,null,4,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar()&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"])),(n()(),Br(29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.preguntaEliminar=!1)&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"])),(n()(),Br(31,0,null,null,6,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Cliente eliminado exitosamente!"])),(n()(),Br(35,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.eliminado=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(38,0,null,null,15,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(39,0,null,null,14,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(40,0,null,null,13,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(41,0,null,null,8,"thead",[["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(42,0,null,null,7,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),Br(44,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["No. "])),(n()(),Br(46,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Nombre"])),(n()(),Br(48,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(50,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,Om)),xi(52,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nuevo-cliente"),n(e,52,0,hr(e,52,0,yi(e,53).transform(t.items)))},function(n,e){var t=e.component;n(e,14,0,yi(e,15).target,yi(e,15).href),n(e,21,0,!t.preguntaEliminar),n(e,24,0,t.nombreClienteEliminar),n(e,31,0,!t.eliminado)})}function Pm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-clientes",[],null,null,null,Rm,Nm)),xi(1,114688,null,0,xm,[kp],null,null)],function(n,e){n(e,1,0)},null)}var Mm=oi("app-clientes",xm,Pm,{},{},[]),Lm=function(){function n(n){this.afs=n,this.preguntaEliminar=!1,this.eliminado=!1,this.itemEliminar="",this.nombreClienteEliminar="",this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("projects"),this.items=this.itemsCollection.valueChanges(),this.itemsCollection=this.afs.collection("projects",function(n){return n.orderBy("nombre")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n.prototype.eliminarSeleccionado=function(n,e){this.itemEliminar=n,this.nombreClienteEliminar=e,this.preguntaEliminar=!0,window.scrollTo(0,0)},n.prototype.eliminar=function(){console.log(this.itemEliminar),this.preguntaEliminar=!1,this.afs.doc("projects/"+this.itemEliminar).delete(),this.eliminado=!0},n}(),Vm=fr({encapsulation:0,styles:[[""]],data:{}});function Um(n){return io(0,[(n()(),Br(0,0,null,null,20,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(2,null,["",""])),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(6,null,[" ",""])),(n()(),Br(7,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(11,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(14,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(16,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(18,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(19,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminarSeleccionado(n.context.$implicit.id,n.context.$implicit.nombre)&&l),l},null,null)),(n()(),to(-1,null,["Borrar"]))],function(n,e){var t=n(e,16,0,"/editar-proyectos",e.context.$implicit.id);n(e,15,0,t)},function(n,e){n(e,2,0,e.context.$implicit.numero),n(e,4,0,e.context.$implicit.nombre),n(e,6,0,e.context.$implicit.cliente),n(e,14,0,yi(e,15).target,yi(e,15).href)})}function qm(n){return io(0,[(n()(),Br(0,0,null,null,54,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Proyectos"])),(n()(),Br(6,0,null,null,48,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,47,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nuevo-proyecto"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar proyecto"])),(n()(),Br(17,0,null,null,37,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,19,"div",[["class","panel-menu p12 admin-form theme-primary"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,9,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(22,0,null,null,8,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #b71c1c"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(24,null,["\xbfEst\xe1s seguro que quieres eliminar el proyecto ","?"])),(n()(),Br(25,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(26,0,null,null,4,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar()&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"])),(n()(),Br(29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.preguntaEliminar=!1)&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"])),(n()(),Br(31,0,null,null,6,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Proyecto eliminado exitosamente!"])),(n()(),Br(35,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.eliminado=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(38,0,null,null,16,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(39,0,null,null,15,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(40,0,null,null,14,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(41,0,null,null,9,"thead",[],null,null,null,null,null)),(n()(),Br(42,0,null,null,8,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["N\xfamero de proyecto "])),(n()(),Br(45,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Nombre de proyecto"])),(n()(),Br(47,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Cliente"])),(n()(),Br(49,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(51,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,Um)),xi(53,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nuevo-proyecto"),n(e,53,0,hr(e,53,0,yi(e,54).transform(t.items)))},function(n,e){var t=e.component;n(e,14,0,yi(e,15).target,yi(e,15).href),n(e,21,0,!t.preguntaEliminar),n(e,24,0,t.nombreClienteEliminar),n(e,31,0,!t.eliminado)})}function Fm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-proyectos",[],null,null,null,qm,Vm)),xi(1,114688,null,0,Lm,[kp],null,null)],function(n,e){n(e,1,0)},null)}var jm=oi("app-proyectos",Lm,Fm,{},{},[]),Bm=function(){function n(n,e){this.afs=n,this.sharedService=e,this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("material"),this.items=this.itemsCollection.valueChanges(),this.itemsCollection=this.afs.collection("material",function(n){return n.orderBy("descripcion")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n}(),Km=fr({encapsulation:0,styles:[[""]],data:{}});function zm(n){return io(0,[(n()(),Br(0,0,null,null,26,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(2,null,["",""])),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(6,null,["",""])),(n()(),Br(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(8,null,["",""])),(n()(),Br(9,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(11,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.actualizarItem(n.context.$implicit)&&l),l},null,null)),(n()(),to(-1,null,["Inhabilitar"])),(n()(),Br(13,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(17,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,21).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(21,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(22,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(24,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(25,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.actualizarItem(n.context.$implicit)&&l),l},null,null)),(n()(),to(-1,null,["Inhabilitar"]))],function(n,e){var t=n(e,22,0,"/editar-materiales",e.context.$implicit.id);n(e,21,0,t)},function(n,e){n(e,2,0,e.context.$implicit.codigo),n(e,4,0,e.context.$implicit.id),n(e,6,0,e.context.$implicit.nombreBusqueda),n(e,8,0,e.context.$implicit.descripcion),n(e,20,0,yi(e,21).target,yi(e,21).href)})}function Hm(n){return io(0,[(n()(),Br(0,0,null,null,32,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Materiales"])),(n()(),Br(6,0,null,null,26,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,25,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nuevo-material"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar material"])),(n()(),Br(17,0,null,null,15,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,14,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,13,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,12,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,7,"thead",[],null,null,null,null,null)),(n()(),Br(22,0,null,null,6,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["C\xf3digo "])),(n()(),Br(25,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Descripci\xf3n"])),(n()(),Br(27,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(29,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,zm)),xi(31,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nuevo-material"),n(e,31,0,hr(e,31,0,yi(e,32).transform(t.items)))},function(n,e){n(e,14,0,yi(e,15).target,yi(e,15).href)})}function Wm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-materiales",[],null,null,null,Hm,Km)),xi(1,114688,null,0,Bm,[kp,Gf],null,null)],function(n,e){n(e,1,0)},null)}var Gm=oi("app-materiales",Bm,Wm,{},{},[]),Qm=function(){function n(n){this.afs=n,this.preguntaEliminar=!1,this.eliminado=!1,this.itemEliminar="",this.nombreClienteEliminar="",this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("equipmentType"),this.items=this.itemsCollection.valueChanges(),this.itemsCollection=this.afs.collection("equipmentType",function(n){return n.orderBy("nombre")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n.prototype.eliminarSeleccionado=function(n,e){this.itemEliminar=n,this.nombreClienteEliminar=e,this.preguntaEliminar=!0,window.scrollTo(0,0)},n.prototype.eliminar=function(){console.log(this.itemEliminar),this.preguntaEliminar=!1,this.afs.doc("equipmentType/"+this.itemEliminar).delete(),this.eliminado=!0},n}(),Xm=fr({encapsulation:0,styles:[[""]],data:{}});function Ym(n){return io(0,[(n()(),Br(0,0,null,null,22,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(2,null,["",""])),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(6,null,["",""])),(n()(),Br(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(8,null,["",""])),(n()(),Br(9,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(13,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(16,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,17).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(17,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(18,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(20,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(21,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminarSeleccionado(n.context.$implicit.id,n.context.$implicit.nombre)&&l),l},null,null)),(n()(),to(-1,null,["Borrar"]))],function(n,e){var t=n(e,18,0,"/editar-clasificacion-equipo",e.context.$implicit.id);n(e,17,0,t)},function(n,e){n(e,2,0,e.context.$implicit.nombre),n(e,4,0,e.context.$implicit.item),n(e,6,0,e.context.$implicit.manual),n(e,8,0,e.context.$implicit.paginas),n(e,16,0,yi(e,17).target,yi(e,17).href)})}function $m(n){return io(0,[(n()(),Br(0,0,null,null,56,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Clasificaci\xf3n de equipo"])),(n()(),Br(6,0,null,null,50,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,49,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nueva-clasificacion-equipo"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar clasificaci\xf3n de equipo"])),(n()(),Br(17,0,null,null,39,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,19,"div",[["class","panel-menu p12 admin-form theme-primary"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,9,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(22,0,null,null,8,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #b71c1c"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(24,null,["\xbfEst\xe1s seguro que quieres eliminar la clasificacion ","?"])),(n()(),Br(25,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(26,0,null,null,4,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar()&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"])),(n()(),Br(29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.preguntaEliminar=!1)&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"])),(n()(),Br(31,0,null,null,6,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Clasificaci\xf3n eliminada exitosamente!"])),(n()(),Br(35,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.eliminado=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(38,0,null,null,18,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(39,0,null,null,17,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(40,0,null,null,16,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(41,0,null,null,11,"thead",[],null,null,null,null,null)),(n()(),Br(42,0,null,null,10,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Nombre "])),(n()(),Br(45,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Item"])),(n()(),Br(47,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Manual"])),(n()(),Br(49,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["P\xe1ginas"])),(n()(),Br(51,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(53,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,Ym)),xi(55,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nueva-clasificacion-equipo"),n(e,55,0,hr(e,55,0,yi(e,56).transform(t.items)))},function(n,e){var t=e.component;n(e,14,0,yi(e,15).target,yi(e,15).href),n(e,21,0,!t.preguntaEliminar),n(e,24,0,t.nombreClienteEliminar),n(e,31,0,!t.eliminado)})}function Zm(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-clasificacion-equipo",[],null,null,null,$m,Xm)),xi(1,114688,null,0,Qm,[kp],null,null)],function(n,e){n(e,1,0)},null)}var Jm=oi("app-clasificacion-equipo",Qm,Zm,{},{},[]),ng=function(){function n(n){this.afs=n,this.preguntaEliminar=!1,this.eliminado=!1,this.itemEliminar="",this.nombreClienteEliminar="",this.getInfo()}return n.prototype.ngOnInit=function(){},n.prototype.getInfo=function(){this.itemsCollection=this.afs.collection("damage"),this.items=this.itemsCollection.valueChanges(),this.itemsCollection=this.afs.collection("damage",function(n){return n.orderBy("tipoDano")}),this.items=this.itemsCollection.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})}))},n.prototype.eliminarSeleccionado=function(n,e){this.itemEliminar=n,this.nombreClienteEliminar=e,this.preguntaEliminar=!0,window.scrollTo(0,0)},n.prototype.eliminar=function(){console.log(this.itemEliminar),this.preguntaEliminar=!1,this.afs.doc("damage/"+this.itemEliminar).delete(),this.eliminado=!0},n}(),eg=fr({encapsulation:0,styles:[[""]],data:{}});function tg(n){return io(0,[(n()(),Br(0,0,null,null,18,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(2,null,["",""])),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,13,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,12,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,2,"button",[["aria-expanded","false"],["class","btn btn-success br2 btn-xs fs12 dropdown-toggle"],["data-toggle","dropdown"],["type","button"]],null,null,null,null,null)),(n()(),to(-1,null,["Activo"])),(n()(),Br(9,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,8,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(12,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,13).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(13,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),Ji(14,2),(n()(),to(-1,null,["Editar"])),(n()(),Br(16,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(17,0,null,null,1,"a",[["style","cursor: pointer;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminarSeleccionado(n.context.$implicit.id,n.context.$implicit.nombre)&&l),l},null,null)),(n()(),to(-1,null,["Borrar"]))],function(n,e){var t=n(e,14,0,"/editar-tipo-dano",e.context.$implicit.id);n(e,13,0,t)},function(n,e){n(e,2,0,e.context.$implicit.clasificacionEquipo),n(e,4,0,e.context.$implicit.tipoDano),n(e,12,0,yi(e,13).target,yi(e,13).href)})}function lg(n){return io(0,[(n()(),Br(0,0,null,null,52,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,4,"div",[["class","text-center bg-white alt ph10 br-b-ddd"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),Br(3,0,null,null,2,"h1",[],null,null,null,null,null)),(n()(),Br(4,0,null,null,1,"b",[["style","color: #004a8e"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipos de da\xf1o"])),(n()(),Br(6,0,null,null,46,"section",[["class","table-layout"],["id","content"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,45,"div",[["class","tray tray-center"],["style","height: 802px;"]],null,null,null,null,null)),(n()(),Br(8,0,null,null,8,"div",[["class","panel  "]],null,null,null,null,null)),(n()(),Br(9,0,null,null,7,"div",[["class","panel-body "]],null,null,null,null,null)),(n()(),Br(10,0,null,null,6,"div",[["class","section row"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,5,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,4,"div",[["class","row  text-center element-groups-custom"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,3,"div",[["class","bs-\xa1"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,2,"a",[["class","btn btn-rounded btn-primary btn-block"],["routerLink","/nuevo-tipo-dano"],["style","background-color: #ffe600"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(15,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Agregar tipo de da\xf1o"])),(n()(),Br(17,0,null,null,35,"div",[["class","panel"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,19,"div",[["class","panel-menu p12 admin-form theme-primary"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(20,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,9,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(22,0,null,null,8,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #b71c1c"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(24,null,["\xbfEst\xe1s seguro que quieres eliminar el tipo de da\xf1o ","?"])),(n()(),Br(25,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(26,0,null,null,4,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(27,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar()&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"])),(n()(),Br(29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.preguntaEliminar=!1)&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"])),(n()(),Br(31,0,null,null,6,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o eliminado exitosamente!"])),(n()(),Br(35,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,1,"a",[["class","btn btn-default"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.eliminado=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(38,0,null,null,14,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(39,0,null,null,13,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(40,0,null,null,12,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(41,0,null,null,7,"thead",[],null,null,null,null,null)),(n()(),Br(42,0,null,null,6,"tr",[["class","bg-system"],["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Clasificacion de equipo "])),(n()(),Br(45,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o"])),(n()(),Br(47,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(49,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,tg)),xi(51,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,15,0,"/nuevo-tipo-dano"),n(e,51,0,hr(e,51,0,yi(e,52).transform(t.items)))},function(n,e){var t=e.component;n(e,14,0,yi(e,15).target,yi(e,15).href),n(e,21,0,!t.preguntaEliminar),n(e,24,0,t.nombreClienteEliminar),n(e,31,0,!t.eliminado)})}function rg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-tipo-dano",[],null,null,null,lg,eg)),xi(1,114688,null,0,ng,[kp],null,null)],function(n,e){n(e,1,0)},null)}var ig=oi("app-tipo-dano",ng,rg,{},{},[]),og=function(){function n(n,e,t,l){this.sharedService=n,this.route=e,this.afs=t,this.storage=l,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.item={nombre:"",nombreBusqueda:"",numero:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,estado:0,logo:"",fechaEdicion:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido)})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("clients/"+n),this.itemDoc.valueChanges().subscribe(function(n){console.log(n),e.item=n})},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaEdicion=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.itemDoc.update(this.item),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){this.imgError=!1,this.selectedFile=n.target.files[0],console.log(n.target.id),n.target.files&&n.target.files[0]&&("image/jpeg"===n.target.files[0].type||"image/png"===n.target.files[0].type||"image/jpg"===n.target.files[0].type?(console.log("Imagen v\xe1lida"),n.target.files[0].size<4e4?(console.log("tama\xf1o v\xe1lida"),n.target.files[0].size<2e6?(console.log("peso v\xe1lido"),this.uploadFile(n.target.id)):(this.mensajeErrorImg="Imagen demasiado grande. Debe pesar menos de ",this.imgError=!0,console.log("peso inv\xe1lido"))):(this.mensajeErrorImg="Tama\xf1o inv\xe1lido. Debe medir 200 px de alto por 200 px de ancho.",this.imgError=!0,console.log("tama\xf1o inv\xe1lido"))):(this.mensajeErrorImg="Formato no v\xe1lido, debe ser una imagen en .jpg o .png",this.imgError=!0,console.log("No imagen")))},n.prototype.uploadFile=function(n){var e=this;this.estadoCargaImg=!0,this.claseCargaImg="progress-bar progress-bar-primary progress-bar-striped";var t=this.selectedFile,l="clients/"+t.name,r=this.storage.ref(l),i=this.storage.upload(l,t);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(function(n){e.porcentajeCargaImg=n,console.log(n)}),i.snapshotChanges().pipe(qa(function(){e.downloadURL=r.getDownloadURL(),e.downloadURL.subscribe(function(n){e.item.logo=n,e.claseCargaImg="progress-bar progress-bar-success"})})).subscribe(function(n){return console.log(r.getDownloadURL)})},n}(),ug=fr({encapsulation:0,styles:[[""]],data:{}});function ag(n){return io(0,[(n()(),Br(0,0,null,null,127,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,126,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/clientes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Clientes"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar cliente"])),(n()(),Br(15,0,null,null,112,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,111,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,110,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar cliente"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para editar el cliente"])),(n()(),Br(24,0,null,null,103,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,102,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,10,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,9,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Cliente guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Cliente a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,3,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/clientes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,90,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(38,0,null,null,89,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,40).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,40).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(39,16384,null,0,Kf,[],null,null),xi(40,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(42,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(43,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(44,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(46,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(48,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,51)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,51).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,51)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,51)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.nombre=t)&&l),l},null,null)),xi(51,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(52,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(55,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(57,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(58,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(59,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del cliente."])),(n()(),Br(61,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(63,0,null,null,1,"div",[["class","alert alert-primary"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un nombre de cliente "])),(n()(),Br(65,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,17,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,7,"input",[["class","gui-input"],["id","numero"],["name","numero"],["placeholder","No. Cliente"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,70)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,70).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,70)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,70)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.numero=t)&&l),l},null,null)),xi(70,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(71,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(74,671744,[["numero",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(76,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(77,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(78,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" N\xfamero de cliente."])),(n()(),Br(80,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),to(-1,null,[" Se necesita un n\xfamero de cliente "])),(n()(),Br(84,0,null,null,19,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,18,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,17,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(87,0,null,null,15,"select",[["class","form-control"],["id","estado"],["name","estado"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,88).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,88).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.estado=t)&&l),l},null,null)),xi(88,16384,null,0,cf,[Me,xe],null,null),xi(89,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(92,671744,[["estado",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(94,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(95,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),xi(96,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(97,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Activo"])),(n()(),Br(99,0,null,null,3,"option",[["value","0"]],null,null,null,null,null)),xi(100,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(101,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Inactivo"])),(n()(),Br(103,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(104,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy3"]],null,null,null,null,null)),(n()(),Br(105,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Logo (opcional)"])),(n()(),Br(107,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(108,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),to(109,null,["",""])),(n()(),Br(110,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(111,0,null,null,8,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),Br(112,0,null,null,7,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(113,0,null,null,6,"label",[["class","field prepend-icon append-button file"]],null,null,null,null,null)),(n()(),Br(114,0,null,null,1,"span",[["class","button btn-primary"]],null,null,null,null,null)),(n()(),to(-1,null,["Seleccionar"])),(n()(),Br(116,0,null,null,0,"input",[["class","gui-file"],["id","file1"],["name","file1"],["onchange","document.getElementById('up1').value = this.value;"],["type","file"]],null,[[null,"change"]],function(n,e,t){var l=!0;return"change"===e&&(l=!1!==n.component.getFile(t)&&l),l},null,null)),(n()(),Br(117,0,null,null,0,"input",[["class","gui-input"],["id","up1"],["placeholder","Logo de cliente"],["type","text"]],null,null,null,null,null)),(n()(),Br(118,0,null,null,1,"label",[["class","field-icon"]],null,null,null,null,null)),(n()(),Br(119,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),Br(120,0,null,null,2,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),Br(121,0,null,null,1,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(122,0,null,null,0,"img",[["class",""],["title","user"]],[[8,"src",4]],null,null,null,null)),(n()(),Br(123,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(124,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(126,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/clientes"),n(e,35,0,"/clientes"),n(e,52,0,""),n(e,55,0,"nombre",t.item.nombre),n(e,71,0,""),n(e,74,0,"numero",t.item.numero),n(e,89,0,""),n(e,92,0,"estado",t.item.estado),n(e,96,0,"1"),n(e,97,0,"1"),n(e,100,0,"0"),n(e,101,0,"0")},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,37,0,t.submitted),n(e,38,0,yi(e,42).ngClassUntouched,yi(e,42).ngClassTouched,yi(e,42).ngClassPristine,yi(e,42).ngClassDirty,yi(e,42).ngClassValid,yi(e,42).ngClassInvalid,yi(e,42).ngClassPending),n(e,50,0,yi(e,52).required?"":null,yi(e,57).ngClassUntouched,yi(e,57).ngClassTouched,yi(e,57).ngClassPristine,yi(e,57).ngClassDirty,yi(e,57).ngClassValid,yi(e,57).ngClassInvalid,yi(e,57).ngClassPending),n(e,63,0,yi(e,55).valid||yi(e,55).pristine),n(e,69,0,yi(e,71).required?"":null,yi(e,76).ngClassUntouched,yi(e,76).ngClassTouched,yi(e,76).ngClassPristine,yi(e,76).ngClassDirty,yi(e,76).ngClassValid,yi(e,76).ngClassInvalid,yi(e,76).ngClassPending),n(e,82,0,yi(e,55).valid||yi(e,55).pristine),n(e,87,0,yi(e,89).required?"":null,yi(e,94).ngClassUntouched,yi(e,94).ngClassTouched,yi(e,94).ngClassPristine,yi(e,94).ngClassDirty,yi(e,94).ngClassValid,yi(e,94).ngClassInvalid,yi(e,94).ngClassPending),n(e,107,0,!t.imgError),n(e,109,0,t.mensajeErrorImg),n(e,122,0,t.item.logo),n(e,124,0,!yi(e,40).form.valid)})}function sg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-cliente",[],null,null,null,ag,ug)),xi(1,114688,null,0,og,[Gf,ih,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var cg=oi("app-editar-cliente",og,sg,{},{},[]),hg=function(){function n(n,e,t,l){this.sharedService=n,this.route=e,this.afs=t,this.storage=l,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.itemC={key:"",nombre:"",manual:"",paginas:"",item:0,pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,nombreBusqueda:"",estado:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido)})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("equipmentType/"+n),this.itemDoc.valueChanges().subscribe(function(n){console.log(n),e.itemC=n})},n.prototype.crearItem=function(){console.log(this.itemC),this.itemC.pais="MX",this.itemC.fechaEdicion=(new Date).getTime(),this.itemC.nombreBusqueda=this.sharedService.corregirCaracteres(this.itemC.nombre),this.itemDoc=this.afs.doc("equipmentType/"+this.idRecibido),this.itemDoc.update(this.itemC),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),dg=fr({encapsulation:0,styles:[[""]],data:{}});function pg(n){return io(0,[(n()(),Br(0,0,null,null,119,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,118,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/clasificacion-equipo"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Clasificaciones de equipo"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar clasificaci\xf3n"])),(n()(),Br(15,0,null,null,104,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,103,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,102,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar clasificaci\xf3n de equipo"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para editar la nueva clasificaci\xf3n de equipo"])),(n()(),Br(24,0,null,null,95,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,94,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,13,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,12,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Clasificaci\xf3n guardada exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Nueva clasificaci\xf3n de equipo a\xf1adida con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,6,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/clasificacion-equipo"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,2,"button",[["class","btn btn-default"],["routerLink","/nueva-clasificacion-equipo"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,38).onClick()&&l),l},null,null)),xi(38,16384,null,0,gd,[md,ih,[8,null],Me,xe],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Nuevo Clasificaci\xf3n"])),(n()(),Br(40,0,null,null,79,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(41,0,null,null,78,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,43).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,43).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(42,16384,null,0,Kf,[],null,null),xi(43,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(45,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(46,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(49,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(53,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre de clasificaci\xf3n"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,54)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,54).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,54)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,54)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemC.nombre=t)&&l),l},null,null)),xi(54,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(55,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(58,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(60,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(61,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre de la clasificacion."])),(n()(),Br(64,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,7,"input",[["class","gui-input"],["id","item"],["name","item"],["placeholder","Item del manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,71)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,71).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,71)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,71)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemC.item=t)&&l),l},null,null)),xi(71,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(72,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(75,671744,[["item",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(77,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(78,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(79,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Item del manual."])),(n()(),Br(81,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(83,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(84,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,7,"input",[["class","gui-input"],["id","manual"],["name","manual"],["placeholder","Manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,87)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,87).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,87)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,87)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemC.manual=t)&&l),l},null,null)),xi(87,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(88,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(91,671744,[["manual",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(93,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(94,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(95,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Manual."])),(n()(),Br(97,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(98,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(99,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(100,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(101,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(102,0,null,null,7,"input",[["class","gui-input"],["id","paginas"],["name","paginas"],["placeholder","P\xe1gina del Manual"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,103)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,103).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,103)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,103)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemC.paginas=t)&&l),l},null,null)),xi(103,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(104,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(107,671744,[["paginas",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(109,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(110,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(111,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del Manual."])),(n()(),Br(113,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(114,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(115,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(116,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(118,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/clasificacion-equipo"),n(e,35,0,"/clasificacion-equipo"),n(e,38,0,"/nueva-clasificacion-equipo"),n(e,55,0,""),n(e,58,0,"nombre",t.itemC.nombre),n(e,72,0,""),n(e,75,0,"item",t.itemC.item),n(e,88,0,""),n(e,91,0,"manual",t.itemC.manual),n(e,104,0,""),n(e,107,0,"paginas",t.itemC.paginas)},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,40,0,t.submitted),n(e,41,0,yi(e,45).ngClassUntouched,yi(e,45).ngClassTouched,yi(e,45).ngClassPristine,yi(e,45).ngClassDirty,yi(e,45).ngClassValid,yi(e,45).ngClassInvalid,yi(e,45).ngClassPending),n(e,53,0,yi(e,55).required?"":null,yi(e,60).ngClassUntouched,yi(e,60).ngClassTouched,yi(e,60).ngClassPristine,yi(e,60).ngClassDirty,yi(e,60).ngClassValid,yi(e,60).ngClassInvalid,yi(e,60).ngClassPending),n(e,70,0,yi(e,72).required?"":null,yi(e,77).ngClassUntouched,yi(e,77).ngClassTouched,yi(e,77).ngClassPristine,yi(e,77).ngClassDirty,yi(e,77).ngClassValid,yi(e,77).ngClassInvalid,yi(e,77).ngClassPending),n(e,86,0,yi(e,88).required?"":null,yi(e,93).ngClassUntouched,yi(e,93).ngClassTouched,yi(e,93).ngClassPristine,yi(e,93).ngClassDirty,yi(e,93).ngClassValid,yi(e,93).ngClassInvalid,yi(e,93).ngClassPending),n(e,102,0,yi(e,104).required?"":null,yi(e,109).ngClassUntouched,yi(e,109).ngClassTouched,yi(e,109).ngClassPristine,yi(e,109).ngClassDirty,yi(e,109).ngClassValid,yi(e,109).ngClassInvalid,yi(e,109).ngClassPending),n(e,116,0,!yi(e,43).form.valid)})}function fg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-clasificacion-equipo",[],null,null,null,pg,dg)),xi(1,114688,null,0,hg,[Gf,ih,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var mg=oi("app-editar-clasificacion-equipo",hg,fg,{},{},[]),gg=function(){function n(n,e,t){this.sharedService=n,this.route=e,this.afs=t,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.item={codigo:"",nombreBusqueda:"",descripcion:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido)})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("material/"+n),this.itemDoc.valueChanges().subscribe(function(t){console.log(t),e.item=t,e.actualizarItem(e.item,n)})},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaEdicion=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.descripcion),this.itemDoc.update(this.item),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.actualizarItem=function(n,e){console.log("hola"+e),n.nombreBusqueda=this.sharedService.corregirCaracteres(n.descripcion),console.log(n),this.itemDoc.update(n)},n}(),yg=fr({encapsulation:0,styles:[[""]],data:{}});function vg(n){return io(0,[(n()(),Br(0,0,null,null,85,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,84,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/materiales"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Materiales"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar Material"])),(n()(),Br(15,0,null,null,70,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,69,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,68,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar material"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para editar el material"])),(n()(),Br(24,0,null,null,61,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,60,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,12,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,11,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Material guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Material a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,5,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/materiales"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.submitted=!1)&&l),l},null,null)),(n()(),to(-1,null,["Nuevo Material"])),(n()(),Br(39,0,null,null,46,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(40,0,null,null,45,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,42).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,42).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(41,16384,null,0,Kf,[],null,null),xi(42,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(44,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(45,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(48,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,7,"input",[["class","gui-input"],["id","codigo"],["name","codigo"],["placeholder","C\xf3digo de material"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,53)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,53).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,53)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.codigo=t)&&l),l},null,null)),xi(53,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(54,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(57,671744,[["codigo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(59,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(60,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" C\xf3digo."])),(n()(),Br(63,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(64,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,15,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,7,"input",[["class","gui-input"],["id","descripcion"],["name","descripcion"],["placeholder","Descripci\xf3n"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,69)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,69).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,69)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,69)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.descripcion=t)&&l),l},null,null)),xi(69,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(70,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(73,671744,[["descripcion",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(75,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(76,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(77,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" C\xf3digo."])),(n()(),Br(79,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(80,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(82,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(84,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/materiales"),n(e,35,0,"/materiales"),n(e,54,0,""),n(e,57,0,"codigo",t.item.codigo),n(e,70,0,""),n(e,73,0,"descripcion",t.item.descripcion)},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,39,0,t.submitted),n(e,40,0,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,52,0,yi(e,54).required?"":null,yi(e,59).ngClassUntouched,yi(e,59).ngClassTouched,yi(e,59).ngClassPristine,yi(e,59).ngClassDirty,yi(e,59).ngClassValid,yi(e,59).ngClassInvalid,yi(e,59).ngClassPending),n(e,68,0,yi(e,70).required?"":null,yi(e,75).ngClassUntouched,yi(e,75).ngClassTouched,yi(e,75).ngClassPristine,yi(e,75).ngClassDirty,yi(e,75).ngClassValid,yi(e,75).ngClassInvalid,yi(e,75).ngClassPending)})}function bg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-materiales",[],null,null,null,vg,yg)),xi(1,114688,null,0,gg,[Gf,ih,kp],null,null)],function(n,e){n(e,1,0)},null)}var _g=oi("app-editar-materiales",gg,bg,{},{},[]),wg=function(){function n(n,e,t,l){this.sharedService=n,this.route=e,this.afs=t,this.storage=l,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.item={nombre:"",nombreBusqueda:"",numero:"",cliente:"",key:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido),n.getInfoClasificacion()})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("projects/"+n),this.itemDoc.valueChanges().subscribe(function(n){console.log(n),e.item=n})},n.prototype.getInfoClasificacion=function(){this.itemsCollection=this.afs.collection("clients"),console.log(this.itemsCollection),this.items=this.itemsCollection.valueChanges()},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaEdicion=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.itemDoc.update(this.item),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),Cg=fr({encapsulation:0,styles:[[""]],data:{}});function Eg(n){return io(0,[(n()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),xi(1,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(2,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(3,null,[" ",""]))],function(n,e){n(e,1,0,e.context.$implicit.nombre),n(e,2,0,e.context.$implicit.nombre)},function(n,e){n(e,3,0,e.context.$implicit.nombre)})}function Sg(n){return io(0,[(n()(),Br(0,0,null,null,125,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,124,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Proyectos"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar proyectos"])),(n()(),Br(15,0,null,null,110,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,109,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,108,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar proyecto"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para editar el proyecto"])),(n()(),Br(24,0,null,null,101,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,100,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,12,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,11,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Proyecto guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Proyecto a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,5,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=0!=(n.component.submitted=!1)&&l),l},null,null)),(n()(),to(-1,null,["Nuevo empleado"])),(n()(),Br(39,0,null,null,86,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(40,0,null,null,85,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,42).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,42).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(41,16384,null,0,Kf,[],null,null),xi(42,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(44,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(45,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(48,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Nombre proyecto"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,53)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,53).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,53)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,53)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.nombre=t)&&l),l},null,null)),xi(53,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(54,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(57,671744,[["nombre",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(59,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(60,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del proyecto."])),(n()(),Br(63,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(64,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,55,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,7,"input",[["class","gui-input"],["id","numero"],["name","numero"],["placeholder","No. proyecto"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,70)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,70).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,70)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,70)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.numero=t)&&l),l},null,null)),xi(70,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(71,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(74,671744,[["numero",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(76,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(77,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(78,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" No. del Proyecto."])),(n()(),Br(80,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(82,0,null,null,18,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(83,0,null,null,17,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(84,0,null,null,16,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(85,0,null,null,14,"select",[["class","form-control"],["id","clasificacion1"],["name","cliente"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,86).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,86).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.cliente=t)&&l),l},null,null)),xi(86,16384,null,0,cf,[Me,xe],null,null),xi(87,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(90,671744,[["cliente",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(92,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(93,0,null,null,3,"option",[],null,null,null,null,null)),xi(94,147456,null,0,hf,[xe,Me,[2,cf]],null,null),xi(95,147456,null,0,ff,[xe,Me,[8,null]],null,null),(n()(),to(-1,null,["Cliente"])),(n()(),jr(16777216,null,null,2,null,Eg)),xi(98,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl]),(n()(),Br(100,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(101,0,null,null,19,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(102,0,null,null,18,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(103,0,null,null,17,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(104,0,null,null,15,"select",[["class","form-control"],["id","clasificacion1"],["name","clasificacion1"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,105).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,105).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.item.estado=t)&&l),l},null,null)),xi(105,16384,null,0,cf,[Me,xe],null,null),xi(106,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(109,671744,[["estado",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(111,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(112,0,null,null,3,"option",[["value","1"]],null,null,null,null,null)),xi(113,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(114,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Activo"])),(n()(),Br(116,0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),xi(117,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(118,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Inactivo"])),(n()(),Br(120,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(121,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(122,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(124,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/empleados"),n(e,54,0,""),n(e,57,0,"nombre",t.item.nombre),n(e,71,0,""),n(e,74,0,"numero",t.item.numero),n(e,87,0,""),n(e,90,0,"cliente",t.item.cliente),n(e,98,0,hr(e,98,0,yi(e,99).transform(t.items))),n(e,106,0,""),n(e,109,0,"clasificacion1",t.item.estado),n(e,113,0,"1"),n(e,114,0,"1"),n(e,117,0,"2"),n(e,118,0,"2")},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,39,0,t.submitted),n(e,40,0,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,52,0,yi(e,54).required?"":null,yi(e,59).ngClassUntouched,yi(e,59).ngClassTouched,yi(e,59).ngClassPristine,yi(e,59).ngClassDirty,yi(e,59).ngClassValid,yi(e,59).ngClassInvalid,yi(e,59).ngClassPending),n(e,69,0,yi(e,71).required?"":null,yi(e,76).ngClassUntouched,yi(e,76).ngClassTouched,yi(e,76).ngClassPristine,yi(e,76).ngClassDirty,yi(e,76).ngClassValid,yi(e,76).ngClassInvalid,yi(e,76).ngClassPending),n(e,85,0,yi(e,87).required?"":null,yi(e,92).ngClassUntouched,yi(e,92).ngClassTouched,yi(e,92).ngClassPristine,yi(e,92).ngClassDirty,yi(e,92).ngClassValid,yi(e,92).ngClassInvalid,yi(e,92).ngClassPending),n(e,104,0,yi(e,106).required?"":null,yi(e,111).ngClassUntouched,yi(e,111).ngClassTouched,yi(e,111).ngClassPristine,yi(e,111).ngClassDirty,yi(e,111).ngClassValid,yi(e,111).ngClassInvalid,yi(e,111).ngClassPending)})}function Tg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-proyectos",[],null,null,null,Sg,Cg)),xi(1,114688,null,0,wg,[Gf,ih,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var Ig=oi("app-editar-proyectos",wg,Tg,{},{},[]),kg=function(){function n(n,e,t,l){this.sharedService=n,this.route=e,this.afs=t,this.storage=l,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.itemTipo={key:"",nombreBusqueda:"",clasificacionEquipo:"",tipoDano:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido),n.getInfoClasificacion()})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("damage/"+n),this.itemDoc.valueChanges().subscribe(function(n){console.log(n),e.itemTipo=n})},n.prototype.getInfoClasificacion=function(){this.itemsCollection=this.afs.collection("equipmentType"),console.log(this.itemsCollection),this.items=this.itemsCollection.valueChanges()},n.prototype.crearItem=function(){this.itemTipo.pais="MX",this.itemTipo.fechaEdicion=(new Date).getTime(),this.itemTipo.nombreBusqueda=this.sharedService.corregirCaracteres(this.itemTipo.tipoDano),this.itemDoc.update(this.itemTipo),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n}(),Ag=fr({encapsulation:0,styles:[[""]],data:{}});function Dg(n){return io(0,[(n()(),Br(0,0,null,null,3,"option",[],null,null,null,null,null)),xi(1,147456,null,0,hf,[xe,Me,[2,cf]],{value:[0,"value"]},null),xi(2,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(3,null,[" ",""]))],function(n,e){n(e,1,0,e.context.$implicit.nombre),n(e,2,0,e.context.$implicit.nombre)},function(n,e){n(e,3,0,e.context.$implicit.nombre)})}function xg(n){return io(0,[(n()(),Br(0,0,null,null,90,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,89,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,12,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,11,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,10,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,3,"li",[["class","crumb-link"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,2,"a",[["routerLink","/empleados"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,11).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(11,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Tipos de da\xf1o"])),(n()(),Br(13,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar Da\xf1o"])),(n()(),Br(15,0,null,null,75,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,74,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,73,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(18,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(19,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(20,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Editar tipo de da\xf1o"])),(n()(),Br(22,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Llena el formulario para editar el tipo de da\xf1o"])),(n()(),Br(24,0,null,null,66,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(25,0,null,null,65,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(26,0,null,null,13,"div",[["class","panel-body bg-light animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(27,0,null,null,12,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background: rgb(3, 151, 102)"]],null,null,null,null,null)),(n()(),Br(28,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o guardado exitosamente!"])),(n()(),Br(30,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,["Tipo de da\xf1o a\xf1adido con \xe9xito."])),(n()(),Br(32,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),Br(33,0,null,null,6,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,2,"a",[["class","btn btn-default"],["routerLink","/tipo-dano"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,35).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(35,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Continuar"])),(n()(),Br(37,0,null,null,2,"button",[["class","btn btn-default"],["routerLink","/nuevo-tipo-dano "],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,38).onClick()&&l),l},null,null)),xi(38,16384,null,0,gd,[md,ih,[8,null],Me,xe],{routerLink:[0,"routerLink"]},null),(n()(),to(-1,null,["Nuevo da\xf1o"])),(n()(),Br(40,0,null,null,50,"div",[["class","panel-body bg-light"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(41,0,null,null,49,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,43).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,43).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(42,16384,null,0,Kf,[],null,null),xi(43,4210688,null,0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(45,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(46,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(49,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(53,0,null,null,7,"input",[["class","gui-input"],["id","nombre"],["name","nombre"],["placeholder","Tipo de da\xf1o"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,54)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,54).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,54)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,54)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.itemTipo.tipoDano=t)&&l),l},null,null)),xi(54,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(55,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(58,671744,[["codigo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(60,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(61,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Nombre del tipo de da\xf1o."])),(n()(),Br(64,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(67,0,null,null,18,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,17,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,16,"label",[["class","field select"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,14,"select",[["class","form-control"],["id","clasificacion"],["name","clasifiacion"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==yi(n,71).onChange(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,71).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(r.itemTipo.clasificacionEquipo=t)&&l),l},null,null)),xi(71,16384,null,0,cf,[Me,xe],null,null),xi(72,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[cf]),xi(75,671744,[["clsificacionEquipo",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(77,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(78,0,null,null,3,"option",[],null,null,null,null,null)),xi(79,147456,null,0,hf,[xe,Me,[2,cf]],null,null),xi(80,147456,null,0,ff,[xe,Me,[8,null]],null,null),(n()(),to(-1,null,["Clasificacion de Equipo"])),(n()(),jr(16777216,null,null,2,null,Dg)),xi(83,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl]),(n()(),Br(85,0,null,null,0,"i",[["class","arrow"]],null,null,null,null,null)),(n()(),Br(86,0,null,null,4,"div",[["class","panel-footer "]],null,null,null,null,null)),(n()(),Br(87,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Guardar"])),(n()(),Br(89,0,null,null,1,"a",[["class","btn btn-danger"],["style","margin-left: 20px;"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.cancel()&&l),l},null,null)),(n()(),to(-1,null,["Cancelar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,11,0,"/empleados"),n(e,35,0,"/tipo-dano"),n(e,38,0,"/nuevo-tipo-dano "),n(e,55,0,""),n(e,58,0,"nombre",t.itemTipo.tipoDano),n(e,72,0,""),n(e,75,0,"clasifiacion",t.itemTipo.clasificacionEquipo),n(e,83,0,hr(e,83,0,yi(e,84).transform(t.items)))},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,10,0,yi(e,11).target,yi(e,11).href),n(e,26,0,!t.submitted),n(e,34,0,yi(e,35).target,yi(e,35).href),n(e,40,0,t.submitted),n(e,41,0,yi(e,45).ngClassUntouched,yi(e,45).ngClassTouched,yi(e,45).ngClassPristine,yi(e,45).ngClassDirty,yi(e,45).ngClassValid,yi(e,45).ngClassInvalid,yi(e,45).ngClassPending),n(e,53,0,yi(e,55).required?"":null,yi(e,60).ngClassUntouched,yi(e,60).ngClassTouched,yi(e,60).ngClassPristine,yi(e,60).ngClassDirty,yi(e,60).ngClassValid,yi(e,60).ngClassInvalid,yi(e,60).ngClassPending),n(e,70,0,yi(e,72).required?"":null,yi(e,77).ngClassUntouched,yi(e,77).ngClassTouched,yi(e,77).ngClassPristine,yi(e,77).ngClassDirty,yi(e,77).ngClassValid,yi(e,77).ngClassInvalid,yi(e,77).ngClassPending)})}function Ng(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-tipo-dano",[],null,null,null,xg,Ag)),xi(1,114688,null,0,kg,[Gf,ih,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var Og=oi("app-editar-tipo-dano",kg,Ng,{},{},[]),Rg=function(){function n(n,e,t,l){this.sharedService=n,this.route=e,this.afs=t,this.storage=l,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.idRecibido="",this.item={seccion:"",modo:"",nombre:"",puesto:"",usuario:"",password:"",permisos:{usuarios:!1,clientes:!1,proyectos:!1,materiales:!1,damage:!1,clasificacionEquipo:!1,reportesObraWeb:!1,reporteEquipoDamageWeb:!1,reporteEnvioWeb:!1,reporteDevolucionesWeb:!1,reportesObraApp:!1,reporteEquipoDamageApp:!1,reporteEnvioApp:!1,reporteDevolucionesApp:!1},email:"",passwordEmail:"",nombreBusqueda:"",key:"",foto:"",pais:"",usuarioAlta:"",fechaAlta:0,fechaEdicion:0,estado:0}}return n.prototype.ngOnInit=function(){var n=this;window.scrollTo(0,0),this.route.params.subscribe(function(e){n.idRecibido=e.id,console.log(e.id),n.obtenerInformacion(n.idRecibido)})},n.prototype.obtenerInformacion=function(n){var e=this;this.itemDoc=this.afs.doc("users/"+n),this.itemDoc.valueChanges().subscribe(function(n){console.log(n),e.item=n})},n.prototype.crearItem=function(){this.item.pais="MX",this.item.fechaEdicion=(new Date).getTime(),this.item.nombreBusqueda=this.sharedService.corregirCaracteres(this.item.nombre),this.itemDoc.update(this.item),this.submitted=!0,window.scrollTo(0,0)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){},n.prototype.nuevoEmpleado=function(){},n}(),Pg=fr({encapsulation:0,styles:[[""]],data:{}});function Mg(n){return io(0,[(n()(),Br(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),to(-1,null,[" editar-usuario works!\n"]))],null,null)}function Lg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-editar-usuario",[],null,null,null,Mg,Pg)),xi(1,114688,null,0,Rg,[Gf,ih,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var Vg=oi("app-editar-usuario",Rg,Lg,{},{},[]),Ug=function(){function n(n,e,t){this.sharedService=n,this.afs=e,this.storage=t,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.key="CsiHCHA3p37pEKX5cFcz",this.estadoReproduccion="Listo para reproduccion",this.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle",this.reproduciendo=!1,this.item={ventas:0,mensaje:"",video:"",duracionVideo:0,tempHoy:"",videoplay:0},this.itemVideo={url:"",duracionVideo:0,nombre:""}}return n.prototype.ngOnInit=function(){this.getDashboardInfo(),this.getInfo()},n.prototype.getDashboardInfo=function(){var n=this;this.items=this.afs.collectionGroup("dashboard").valueChanges(),this.items.subscribe(function(e){n.item.ventas=e[0].ventas,n.item.mensaje=e[0].mensaje,n.item.duracionVideo=e[0].duracionVideo,n.item.video=e[0].video,n.item.videoplay=e[0].videoplay})},n.prototype.crearItem=function(){this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz").update(this.item)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){this.imgError=!1,this.selectedFile=n.target.files[0],console.log(n.target.files[0].type),n.target.files&&n.target.files[0]&&("video/mp4"===n.target.files[0].type?n.target.files[0].size<1e7?(this.itemVideo.duracionVideo=n.target,console.log(this.selectedFile.duration),this.uploadFile(n.target.id)):(this.mensajeErrorImg="Video demasiado grande. Debe pesar menos de 10 MB ",this.imgError=!0,console.log("peso inv\xe1lido")):(this.mensajeErrorImg="Formato no v\xe1lido, debe ser una imagen en .mp4 ",this.imgError=!0,console.log("No imagen")))},n.prototype.uploadFile=function(n){var e=this;this.estadoCargaImg=!0,this.claseCargaImg="progress-bar progress-bar-primary progress-bar-striped";var t=this.selectedFile,l="video_dasboard/"+t.name,r=this.storage.ref(l),i=this.storage.upload(l,t);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(function(n){e.porcentajeCargaImg=n,console.log(n)}),i.snapshotChanges().pipe(qa(function(){e.downloadURL=r.getDownloadURL(),e.downloadURL.subscribe(function(n){e.itemVideo.nombre=t.name,e.itemVideo.url=n,e.claseCargaImg="progress-bar progress-bar-success"})})).subscribe(function(n){return console.log(r.getDownloadURL)})},n.prototype.reproducirVideo=function(n){var e=this;this.reproduciendo=!0,this.claseReproduccion="btn btn-danger br2 btn-xs fs12 dropdown-toggle",this.estadoReproduccion="Reproduciendo";var t=this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/");this.item.videoplay=-1,this.item.video=n.url,t.update(this.item),setTimeout(function(){e.item.videoplay=0,t.update(e.item),e.reproduciendo=!1,e.estadoReproduccion="Listo para reproducci\xf3n",e.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle"},1e3*n.duracionVideo)},n.prototype.getDuration=function(n){this.itemVideo.duracionVideo=n.target.duration+1,console.log(this.itemVideo.duracionVideo),""!==this.itemVideo.url&&this.crearItemVideo()},n.prototype.crearItemVideo=function(){this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos").add(this.itemVideo),this.itemVideo.nombre="",this.itemVideo.duracionVideo=0,this.itemVideo.url="",this.submitted=!0},n.prototype.getInfo=function(){this.itemsCollectionVideo=this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos"),this.itemsVideosGuardados=this.itemsCollectionVideo.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})})),this.itemsVideosGuardados.subscribe(function(n){console.log(n)})},n.prototype.eliminar=function(n,e){return console.log(n,e),this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/videos/"+n).delete(),this.storage.storage.refFromURL(e.url).delete()},n}(),qg=fr({encapsulation:0,styles:[[""]],data:{}});function Fg(n){return io(0,[(n()(),Br(0,0,null,null,54,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,53,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,8,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,7,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard Cobranza"])),(n()(),Br(11,0,null,null,43,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,42,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,41,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(16,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard cobranza"])),(n()(),Br(18,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Realiza los cambios y da click en guardar para que se muestren en el Dashboard Doka"])),(n()(),Br(20,0,null,null,34,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,33,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(22,0,null,null,32,"div",[["class","panel-body bg-light"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,25).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,25).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(24,16384,null,0,Kf,[],null,null),xi(25,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(27,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(28,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(29,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(31,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(32,0,null,null,17,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,16,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,1,"b",[["style","color: #004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Cobranza"])),(n()(),Br(36,0,null,null,13,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(37,0,null,null,7,"input",[["class","gui-input"],["id","Ventas"],["name","Ventas"],["placeholder","Ventas"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,38)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,38).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,38)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,38)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.ventas=t)&&l),l},null,null)),xi(38,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),xi(39,16384,null,0,jf,[],{required:[0,"required"]},null),Oi(1024,null,Bp,function(n){return[n]},[jf]),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(42,671744,[["Ventas",4]],0,qf,[[2,Fp],[6,Bp],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(44,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(45,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Ventas."])),(n()(),Br(48,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,3,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,2,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(53,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Actualizar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,39,0,""),n(e,42,0,"Ventas",t.item.ventas)},function(n,e){n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,23,0,yi(e,27).ngClassUntouched,yi(e,27).ngClassTouched,yi(e,27).ngClassPristine,yi(e,27).ngClassDirty,yi(e,27).ngClassValid,yi(e,27).ngClassInvalid,yi(e,27).ngClassPending),n(e,37,0,yi(e,39).required?"":null,yi(e,44).ngClassUntouched,yi(e,44).ngClassTouched,yi(e,44).ngClassPristine,yi(e,44).ngClassDirty,yi(e,44).ngClassValid,yi(e,44).ngClassInvalid,yi(e,44).ngClassPending),n(e,53,0,!yi(e,25).form.valid)})}function jg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-dashboard-cobranza",[],null,null,null,Fg,qg)),xi(1,114688,null,0,Ug,[Gf,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var Bg=oi("app-dashboard-cobranza",Ug,jg,{},{},[]),Kg=function(){function n(n,e,t){this.sharedService=n,this.afs=e,this.storage=t,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.key="CsiHCHA3p37pEKX5cFcz",this.estadoReproduccion="Listo para reproduccion",this.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle",this.reproduciendo=!1,this.item={ventas:0,mensaje:"",video:"",duracionVideo:0,tempHoy:"",videoplay:0},this.itemVideo={url:"",duracionVideo:0,nombre:""}}return n.prototype.ngOnInit=function(){this.getDashboardInfo(),this.getInfo()},n.prototype.getDashboardInfo=function(){var n=this;this.items=this.afs.collectionGroup("dashboard").valueChanges(),this.items.subscribe(function(e){n.item.ventas=e[0].ventas,n.item.mensaje=e[0].mensaje,n.item.duracionVideo=e[0].duracionVideo,n.item.video=e[0].video,n.item.videoplay=e[0].videoplay})},n.prototype.crearItem=function(){this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz").update(this.item)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){this.imgError=!1,this.selectedFile=n.target.files[0],console.log(n.target.files[0].type),n.target.files&&n.target.files[0]&&("video/mp4"===n.target.files[0].type?n.target.files[0].size<1e7?(this.itemVideo.duracionVideo=n.target,console.log(this.selectedFile.duration),this.uploadFile(n.target.id)):(this.mensajeErrorImg="Video demasiado grande. Debe pesar menos de 10 MB ",this.imgError=!0,console.log("peso inv\xe1lido")):(this.mensajeErrorImg="Formato no v\xe1lido, debe ser una imagen en .mp4 ",this.imgError=!0,console.log("No imagen")))},n.prototype.uploadFile=function(n){var e=this;this.estadoCargaImg=!0,this.claseCargaImg="progress-bar progress-bar-primary progress-bar-striped";var t=this.selectedFile,l="video_dasboard/"+t.name,r=this.storage.ref(l),i=this.storage.upload(l,t);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(function(n){e.porcentajeCargaImg=n,console.log(n)}),i.snapshotChanges().pipe(qa(function(){e.downloadURL=r.getDownloadURL(),e.downloadURL.subscribe(function(n){e.itemVideo.nombre=t.name,e.itemVideo.url=n,e.claseCargaImg="progress-bar progress-bar-success"})})).subscribe(function(n){return console.log(r.getDownloadURL)})},n.prototype.reproducirVideo=function(n){var e=this;this.reproduciendo=!0,this.claseReproduccion="btn btn-danger br2 btn-xs fs12 dropdown-toggle",this.estadoReproduccion="Reproduciendo";var t=this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/");this.item.videoplay=-1,this.item.video=n.url,t.update(this.item),setTimeout(function(){e.item.videoplay=0,t.update(e.item),e.reproduciendo=!1,e.estadoReproduccion="Listo para reproducci\xf3n",e.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle"},1e3*n.duracionVideo)},n.prototype.getDuration=function(n){this.itemVideo.duracionVideo=n.target.duration+1,console.log(this.itemVideo.duracionVideo),""!==this.itemVideo.url&&this.crearItemVideo()},n.prototype.crearItemVideo=function(){this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos").add(this.itemVideo),this.itemVideo.nombre="",this.itemVideo.duracionVideo=0,this.itemVideo.url="",this.submitted=!0},n.prototype.getInfo=function(){this.itemsCollectionVideo=this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos"),this.itemsVideosGuardados=this.itemsCollectionVideo.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})})),this.itemsVideosGuardados.subscribe(function(n){console.log(n)})},n.prototype.eliminar=function(n,e){return console.log(n,e),this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/videos/"+n).delete(),this.storage.storage.refFromURL(e.url).delete()},n}(),zg=fr({encapsulation:0,styles:[[""]],data:{}});function Hg(n){return io(0,[(n()(),Br(0,0,null,null,52,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,51,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,8,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,7,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard avisos"])),(n()(),Br(11,0,null,null,41,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,40,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,39,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(16,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard avisos"])),(n()(),Br(18,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Realiza los cambios y da click en guardar para que se muestren en el Dashboard Doka"])),(n()(),Br(20,0,null,null,32,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,31,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(22,0,null,null,30,"div",[["class","panel-body bg-light"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,29,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,25).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,25).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(24,16384,null,0,Kf,[],null,null),xi(25,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(27,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(28,0,null,null,2,"div",[["class","section-divider mb40"],["id","spy1"]],null,null,null,null,null)),(n()(),Br(29,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Informaci\xf3n general"])),(n()(),Br(31,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(32,0,null,null,15,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),Br(33,0,null,null,14,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(34,0,null,null,1,"b",[["style","color: #004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,[" Mensaje"])),(n()(),Br(36,0,null,null,11,"label",[["class","field prepend-icon"]],null,null,null,null,null)),(n()(),Br(37,0,null,null,5,"input",[["class","gui-input"],["id","mensaje"],["name","mensaje"],["placeholder","No. Cliente"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,e,t){var l=!0,r=n.component;return"input"===e&&(l=!1!==yi(n,38)._handleInput(t.target.value)&&l),"blur"===e&&(l=!1!==yi(n,38).onTouched()&&l),"compositionstart"===e&&(l=!1!==yi(n,38)._compositionStart()&&l),"compositionend"===e&&(l=!1!==yi(n,38)._compositionEnd(t.target.value)&&l),"ngModelChange"===e&&(l=!1!==(r.item.mensaje=t)&&l),l},null,null)),xi(38,16384,null,0,$p,[Me,xe,[2,Yp]],null,null),Oi(1024,null,Qp,function(n){return[n]},[$p]),xi(40,671744,[["mensaje",4]],0,qf,[[2,Fp],[8,null],[8,null],[6,Qp]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Oi(2048,null,tf,null,[qf]),xi(42,16384,null,0,Sf,[[4,tf]],null,null),(n()(),Br(43,0,null,null,2,"b",[["class","tooltip tip-right-top"]],null,null,null,null,null)),(n()(),Br(44,0,null,null,1,"em",[],null,null,null,null,null)),(n()(),to(-1,null,[" Mensaje."])),(n()(),Br(46,0,null,null,1,"label",[["class","field-icon"],["for","tooltip1"]],null,null,null,null,null)),(n()(),Br(47,0,null,null,0,"i",[["class","fa fa-flag"]],null,null,null,null,null)),(n()(),Br(48,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,3,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(50,0,null,null,2,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.crearItem()&&l),l},null,null)),(n()(),to(-1,null,["Actualizar"]))],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,40,0,"mensaje",t.item.mensaje)},function(n,e){n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,23,0,yi(e,27).ngClassUntouched,yi(e,27).ngClassTouched,yi(e,27).ngClassPristine,yi(e,27).ngClassDirty,yi(e,27).ngClassValid,yi(e,27).ngClassInvalid,yi(e,27).ngClassPending),n(e,37,0,yi(e,42).ngClassUntouched,yi(e,42).ngClassTouched,yi(e,42).ngClassPristine,yi(e,42).ngClassDirty,yi(e,42).ngClassValid,yi(e,42).ngClassInvalid,yi(e,42).ngClassPending),n(e,51,0,!yi(e,25).form.valid)})}function Wg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-dashboard-avisos",[],null,null,null,Hg,zg)),xi(1,114688,null,0,Kg,[Gf,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var Gg=oi("app-dashboard-avisos",Kg,Wg,{},{},[]),Qg=function(){function n(n,e,t){this.sharedService=n,this.afs=e,this.storage=t,this.mensajeErrorImg="",this.claseCargaImg="",this.submitted=!1,this.imgError=!1,this.selectedFile=null,this.estadoCargaImg=!1,this.key="CsiHCHA3p37pEKX5cFcz",this.estadoReproduccion="Listo para reproduccion",this.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle",this.reproduciendo=!1,this.item={ventas:0,mensaje:"",video:"",duracionVideo:0,tempHoy:"",videoplay:0},this.itemVideo={url:"",duracionVideo:0,nombre:""}}return n.prototype.ngOnInit=function(){this.getDashboardInfo(),this.getInfo()},n.prototype.getDashboardInfo=function(){var n=this;this.items=this.afs.collectionGroup("dashboard").valueChanges(),this.items.subscribe(function(e){n.item.ventas=e[0].ventas,n.item.mensaje=e[0].mensaje,n.item.duracionVideo=e[0].duracionVideo,n.item.video=e[0].video,n.item.videoplay=e[0].videoplay})},n.prototype.crearItem=function(){this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz").update(this.item)},n.prototype.cancel=function(){this.sharedService.cancelar()},n.prototype.getFile=function(n){this.imgError=!1,this.selectedFile=n.target.files[0],console.log(n.target.files[0].type),n.target.files&&n.target.files[0]&&("video/mp4"===n.target.files[0].type?n.target.files[0].size<1e7?(this.itemVideo.duracionVideo=n.target,console.log(this.selectedFile.duration),this.uploadFile(n.target.id)):(this.mensajeErrorImg="Video demasiado grande. Debe pesar menos de 10 MB ",this.imgError=!0,console.log("peso inv\xe1lido")):(this.mensajeErrorImg="Formato no v\xe1lido, debe ser una imagen en .mp4 ",this.imgError=!0,console.log("No imagen")))},n.prototype.uploadFile=function(n){var e=this;this.estadoCargaImg=!0,this.claseCargaImg="progress-bar progress-bar-primary progress-bar-striped";var t=this.selectedFile,l="video_dasboard/"+t.name,r=this.storage.ref(l),i=this.storage.upload(l,t);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(function(n){e.porcentajeCargaImg=n,console.log(n)}),i.snapshotChanges().pipe(qa(function(){e.downloadURL=r.getDownloadURL(),e.downloadURL.subscribe(function(n){e.itemVideo.nombre=t.name,e.itemVideo.url=n,e.claseCargaImg="progress-bar progress-bar-success"})})).subscribe(function(n){return console.log(r.getDownloadURL)})},n.prototype.reproducirVideo=function(n){var e=this;this.reproduciendo=!0,this.claseReproduccion="btn btn-danger br2 btn-xs fs12 dropdown-toggle",this.estadoReproduccion="Reproduciendo";var t=this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/");this.item.videoplay=-1,this.item.video=n.url,t.update(this.item),setTimeout(function(){e.item.videoplay=0,t.update(e.item),e.reproduciendo=!1,e.estadoReproduccion="Listo para reproducci\xf3n",e.claseReproduccion="btn btn-success br2 btn-xs fs12 dropdown-toggle"},1e3*n.duracionVideo)},n.prototype.getDuration=function(n){this.itemVideo.duracionVideo=n.target.duration+1,console.log(this.itemVideo.duracionVideo),""!==this.itemVideo.url&&this.crearItemVideo()},n.prototype.crearItemVideo=function(){this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos").add(this.itemVideo),this.itemVideo.nombre="",this.itemVideo.duracionVideo=0,this.itemVideo.url="",this.submitted=!0},n.prototype.getInfo=function(){this.itemsCollectionVideo=this.afs.collection("dashboard/CsiHCHA3p37pEKX5cFcz/videos"),this.itemsVideosGuardados=this.itemsCollectionVideo.snapshotChanges().pipe(G(function(n){return n.map(function(n){var e=n.payload.doc.data();return l.__assign({id:n.payload.doc.id},e)})})),this.itemsVideosGuardados.subscribe(function(n){console.log(n)})},n.prototype.eliminar=function(n,e){return console.log(n,e),this.afs.doc("dashboard/CsiHCHA3p37pEKX5cFcz/videos/"+n).delete(),this.storage.storage.refFromURL(e.url).delete()},n}(),Xg=fr({encapsulation:0,styles:[[""]],data:{}});function Yg(n){return io(0,[(n()(),Br(0,0,[["video",1]],null,0,"video",[["controls",""],["height","240"],["style","display: none;"],["width","320"]],[[1,"src",4]],[[null,"loadedmetadata"]],function(n,e,t){var l=!0;return"loadedmetadata"===e&&(l=!1!==n.component.getDuration(t)&&l),l},null,null))],null,function(n,e){n(e,0,0,e.component.itemVideo.url)})}function $g(n){return io(0,[(n()(),Br(0,0,null,null,17,"tr",[],null,null,null,null,null)),(n()(),Br(1,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(2,null,["",""])),(n()(),Br(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),to(4,null,["",""])),(n()(),Br(5,0,null,null,12,"td",[["class","text-right"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,11,"div",[["class","btn-group text-right"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,3,"button",[["aria-expanded","false"],["data-toggle","dropdown"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),xi(8,278528,null,0,xu,[Fl,jl,xe,Me],{ngClass:[0,"ngClass"]},null),(n()(),to(9,null,[""," "])),(n()(),Br(10,0,null,null,0,"span",[["class","caret ml15"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,6,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(13,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.reproducirVideo(n.context.$implicit)&&l),l},null,null)),(n()(),to(-1,null,["Reproducir"])),(n()(),Br(15,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),Br(16,0,null,null,1,"a",[],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.eliminar(n.context.$implicit.id,n.context.$implicit)&&l),l},null,null)),(n()(),to(-1,null,["Eliminar"]))],function(n,e){n(e,8,0,e.component.claseReproduccion)},function(n,e){var t=e.component;n(e,2,0,e.context.$implicit.nombre),n(e,4,0,e.context.$implicit.duracionVideo),n(e,7,0,t.reproduciendo),n(e,9,0,t.estadoReproduccion)})}function Zg(n){return io(0,[(n()(),Br(0,0,null,null,81,"div",[["class","admin-elements-page"]],null,null,null,null,null)),(n()(),Br(1,0,null,null,80,"section",[["id","content_wrapper"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,8,"header",[["class","alt"],["id","topbar"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,7,"div",[["class","topbar-left"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,6,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,3,"li",[["class","crumb-icon"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,2,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,7).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(7,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(8,0,null,null,0,"span",[["class","glyphicon glyphicon-home"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,1,"li",[["class","crumb-trail"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard video"])),(n()(),Br(11,0,null,null,70,"section",[["class","table-layout animated fadeIn"],["id","content"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,69,"div",[["class","tray tray-center"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,68,"div",[["class","mw1000 center-block"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,5,"div",[["class","content-header"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),Br(16,0,null,null,1,"b",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard video"])),(n()(),Br(18,0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(n()(),to(-1,null,["Realiza los cambios y da click en guardar para que se muestren en el Dashboard Doka"])),(n()(),Br(20,0,null,null,61,"div",[["class","admin-form"]],null,null,null,null,null)),(n()(),Br(21,0,null,null,60,"div",[["class","panel heading-border"]],null,null,null,null,null)),(n()(),Br(22,0,null,null,44,"div",[["class","panel-body bg-light"]],null,null,null,null,null)),(n()(),Br(23,0,null,null,43,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"keydown.enter"],[null,"submit"],[null,"reset"]],function(n,e,t){var l=!0,r=n.component;return"submit"===e&&(l=!1!==yi(n,25).onSubmit(t)&&l),"reset"===e&&(l=!1!==yi(n,25).onReset()&&l),"ngSubmit"===e&&(l=!1!==r.crearItem()&&l),"keydown.enter"===e&&(l=!1!==t.preventDefault()&&l),l},null,null)),xi(24,16384,null,0,Kf,[],null,null),xi(25,4210688,[["itemForm",4]],0,Pf,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),Oi(2048,null,Fp,null,[Pf]),xi(27,16384,null,0,Tf,[[4,Fp]],null,null),(n()(),Br(28,0,null,null,2,"div",[["class","section-divider mv40"],["id","spy3"]],null,null,null,null,null)),(n()(),Br(29,0,null,null,1,"span",[["style","color:#004A8E;"]],null,null,null,null,null)),(n()(),to(-1,null,["Video "])),(n()(),Br(31,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(32,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),to(33,null,["",""])),(n()(),Br(34,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(n()(),Br(35,0,null,null,22,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),Br(36,0,null,null,21,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(37,0,null,null,6,"label",[["class","field prepend-icon append-button file"]],null,null,null,null,null)),(n()(),Br(38,0,null,null,1,"span",[["class","button btn-primary"]],null,null,null,null,null)),(n()(),to(-1,null,["Seleccionar"])),(n()(),Br(40,0,null,null,0,"input",[["class","gui-file"],["id","file1"],["name","file1"],["onchange","document.getElementById('up1').value = this.value;"],["type","file"]],null,[[null,"change"],[null,"loadedmetadata"]],function(n,e,t){var l=!0,r=n.component;return"change"===e&&(l=!1!==r.getFile(t)&&l),"loadedmetadata"===e&&(l=!1!==r.getDuration(t)&&l),l},null,null)),(n()(),Br(41,0,null,null,0,"input",[["class","gui-input"],["id","up1"],["placeholder","Video mp4"],["type","text"]],null,null,null,null,null)),(n()(),Br(42,0,null,null,1,"label",[["class","field-icon"]],null,null,null,null,null)),(n()(),Br(43,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(n()(),jr(16777216,null,null,1,null,Yg)),xi(45,16384,null,0,Pu,[_l,ht],{ngIf:[0,"ngIf"]},null),(n()(),Br(46,0,null,null,5,"div",[["class","alert alert-danger alert-dismissable"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(47,0,null,null,0,"button",[["aria-hidden","true"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(n()(),Br(48,0,null,null,0,"i",[["class","fa fa-remove pr10"]],null,null,null,null,null)),(n()(),Br(49,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),to(-1,null,["Error en el video!"])),(n()(),to(51,null,[" ",". "])),(n()(),Br(52,0,null,null,5,"div",[["class","progress mt10"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(53,0,null,null,4,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","60"],["role","progressbar"]],null,null,null,null,null)),xi(54,278528,null,0,xu,[Fl,jl,xe,Me],{ngClass:[0,"ngClass"]},null),xi(55,278528,null,0,Vu,[jl,xe,Me],{ngStyle:[0,"ngStyle"]},null),no(56,{width:0}),(n()(),to(57,null,[" ","%"])),(n()(),Br(58,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),Br(59,0,null,null,7,"div",[["class","section"]],null,null,null,null,null)),(n()(),Br(60,0,null,null,6,"div",[["class"," animated fadeIn"]],[[8,"hidden",0]],null,null,null,null)),(n()(),Br(61,0,null,null,5,"div",[["class","alert alert-success alert-dismissable mb30"],["style","background-color: #70ca63;"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,1,"h3",[["class","mt5"]],null,null,null,null,null)),(n()(),to(63,null,["Video "," cargado exitosamente!"])),(n()(),Br(64,0,null,null,2,"div",[["class","element-groups-sm-custom"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,e,t){var l=!0,r=n.component;return"click"===e&&(r.submitted=!1,l=0!=(r.estadoCargaImg=!1)&&l),l},null,null)),(n()(),to(-1,null,["Aceptar"])),(n()(),Br(67,0,null,null,14,"div",[["class","panel-body pn"]],null,null,null,null,null)),(n()(),Br(68,0,null,null,13,"div",[["class","table-responsive of-y-a"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,12,"table",[["class","table admin-form theme-warning tc-checkbox-1 fs13"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,7,"thead",[["style","background-color: #004a8e; color: #fff;"]],null,null,null,null,null)),(n()(),Br(71,0,null,null,6,"tr",[["class",""]],null,null,null,null,null)),(n()(),Br(72,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Nombre. "])),(n()(),Br(74,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),to(-1,null,["Duraci\xf3n"])),(n()(),Br(76,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(n()(),to(-1,null,["Estado"])),(n()(),Br(78,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),jr(16777216,null,null,2,null,$g)),xi(80,278528,null,0,Ou,[_l,ht,Fl],{ngForOf:[0,"ngForOf"]},null),Ni(131072,ju,[Cl])],function(n,e){var t=e.component;n(e,7,0,"/inicio"),n(e,45,0,t.itemVideo.url),n(e,54,0,t.claseCargaImg);var l=n(e,56,0,t.porcentajeCargaImg+"%");n(e,55,0,l),n(e,80,0,hr(e,80,0,yi(e,81).transform(t.itemsVideosGuardados)))},function(n,e){var t=e.component;n(e,6,0,yi(e,7).target,yi(e,7).href),n(e,23,0,yi(e,27).ngClassUntouched,yi(e,27).ngClassTouched,yi(e,27).ngClassPristine,yi(e,27).ngClassDirty,yi(e,27).ngClassValid,yi(e,27).ngClassInvalid,yi(e,27).ngClassPending),n(e,31,0,!t.imgError),n(e,33,0,t.mensajeErrorImg),n(e,46,0,!t.imgError),n(e,51,0,t.mensajeErrorImg),n(e,52,0,!t.estadoCargaImg),n(e,57,0,t.porcentajeCargaImg),n(e,60,0,!t.submitted),n(e,63,0,t.itemVideo.nombre)})}function Jg(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-dashboard-video",[],null,null,null,Zg,Xg)),xi(1,114688,null,0,Qg,[Gf,kp,lm],null,null)],function(n,e){n(e,1,0)},null)}var ny=oi("app-dashboard-video",Qg,Jg,{},{},[]),ey=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),ty=fr({encapsulation:0,styles:[[""]],data:{}});function ly(n){return io(0,[(n()(),Br(0,0,null,null,67,"header",[["class","navbar undefined bg-primary navbar-fixed-top "]],null,null,null,null,null)),(n()(),Br(1,0,null,null,3,"div",[["class","navbar-branding"]],null,null,null,null,null)),(n()(),Br(2,0,null,null,1,"a",[["class","navbar-brand text-uppercase"],["href","index.html"]],null,null,null,null,null)),(n()(),Br(3,0,null,null,0,"img",[["src","assets/assets/img/logos/logo.png"]],null,null,null,null,null)),(n()(),Br(4,0,null,null,0,"span",[["class","fa fa-bars"],["id","toggle_sidemenu_l"]],null,null,null,null,null)),(n()(),Br(5,0,null,null,0,"ul",[["class","nav navbar-nav navbar-left"]],null,null,null,null,null)),(n()(),Br(6,0,null,null,61,"ul",[["class","nav navbar-nav navbar-right"]],null,null,null,null,null)),(n()(),Br(7,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),Br(8,0,null,null,0,"img",[["alt","avatar"],["src","assets/assets/img/avatars/1.jpg"]],null,null,null,null,null)),(n()(),Br(9,0,null,null,58,"li",[["class","dropdown menu-merge"]],null,null,null,null,null)),(n()(),Br(10,0,null,null,1,"a",[["class","dropdown-toggle fw600 p15"],["data-toggle","dropdown"],["href","#"]],null,null,null,null,null)),(n()(),Br(11,0,null,null,0,"span",[["class","fa fa-angle-down"]],null,null,null,null,null)),(n()(),Br(12,0,null,null,55,"ul",[["class","dropdown-menu list-group dropdown-persist w250"],["role","menu"]],null,null,null,null,null)),(n()(),Br(13,0,null,null,30,"li",[["class","dropdown-header clearfix"]],null,null,null,null,null)),(n()(),Br(14,0,null,null,14,"div",[["class","pull-left ml10"]],null,null,null,null,null)),(n()(),Br(15,0,null,null,13,"select",[["id","user-status"]],null,null,null,null,null)),(n()(),Br(16,0,null,null,12,"optgroup",[["label","Current Status:"]],null,null,null,null,null)),(n()(),Br(17,0,null,null,3,"option",[["value","1-1"]],null,null,null,null,null)),xi(18,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(19,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Away"])),(n()(),Br(21,0,null,null,3,"option",[["value","1-2"]],null,null,null,null,null)),xi(22,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(23,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Offline"])),(n()(),Br(25,0,null,null,3,"option",[["selected","selected"],["value","1-3"]],null,null,null,null,null)),xi(26,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(27,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Online"])),(n()(),Br(29,0,null,null,14,"div",[["class","pull-right mr10"]],null,null,null,null,null)),(n()(),Br(30,0,null,null,13,"select",[["id","user-role"]],null,null,null,null,null)),(n()(),Br(31,0,null,null,12,"optgroup",[["label","Logged in As:"]],null,null,null,null,null)),(n()(),Br(32,0,null,null,3,"option",[["value","1-1"]],null,null,null,null,null)),xi(33,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(34,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Client"])),(n()(),Br(36,0,null,null,3,"option",[["value","1-2"]],null,null,null,null,null)),xi(37,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(38,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Editor"])),(n()(),Br(40,0,null,null,3,"option",[["selected","selected"],["value","1-3"]],null,null,null,null,null)),xi(41,147456,null,0,hf,[xe,Me,[8,null]],{value:[0,"value"]},null),xi(42,147456,null,0,ff,[xe,Me,[8,null]],{value:[0,"value"]},null),(n()(),to(-1,null,["Admin"])),(n()(),Br(44,0,null,null,5,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),Br(45,0,null,null,4,"a",[["class","animated animated-short fadeInUp"],["href","#"]],null,null,null,null,null)),(n()(),Br(46,0,null,null,0,"span",[["class","fa fa-envelope"]],null,null,null,null,null)),(n()(),to(-1,null,[" Messages"])),(n()(),Br(48,0,null,null,1,"span",[["class","label label-warning"]],null,null,null,null,null)),(n()(),to(-1,null,["2"])),(n()(),Br(50,0,null,null,5,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),Br(51,0,null,null,4,"a",[["class","animated animated-short fadeInUp"],["href","#"]],null,null,null,null,null)),(n()(),Br(52,0,null,null,0,"span",[["class","fa fa-user"]],null,null,null,null,null)),(n()(),to(-1,null,[" Friends"])),(n()(),Br(54,0,null,null,1,"span",[["class","label label-warning"]],null,null,null,null,null)),(n()(),to(-1,null,["6"])),(n()(),Br(56,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),Br(57,0,null,null,2,"a",[["class","animated animated-short fadeInUp"],["href","#"]],null,null,null,null,null)),(n()(),Br(58,0,null,null,0,"span",[["class","fa fa-bell"]],null,null,null,null,null)),(n()(),to(-1,null,[" Notifications"])),(n()(),Br(60,0,null,null,3,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),Br(61,0,null,null,2,"a",[["class","animated animated-short fadeInUp"],["href","#"]],null,null,null,null,null)),(n()(),Br(62,0,null,null,0,"span",[["class","fa fa-gear"]],null,null,null,null,null)),(n()(),to(-1,null,[" Settings"])),(n()(),Br(64,0,null,null,3,"li",[["class","dropdown-footer"]],null,null,null,null,null)),(n()(),Br(65,0,null,null,2,"a",[["href","pages_login.html"]],null,null,null,null,null)),(n()(),Br(66,0,null,null,0,"span",[["class","fa fa-power-off pr5"]],null,null,null,null,null)),(n()(),to(-1,null,[" Logout"])),(n()(),Br(68,0,null,null,118,"aside",[["class","nano nano-light affix"],["id","sidebar_left"]],null,null,null,null,null)),(n()(),Br(69,0,null,null,117,"div",[["class","sidebar-left-content nano-content"]],null,null,null,null,null)),(n()(),Br(70,0,null,null,5,"header",[["class","sidebar-header"]],null,null,null,null,null)),(n()(),Br(71,0,null,null,4,"div",[["class","sidebar-widget search-widget hidden"]],null,null,null,null,null)),(n()(),Br(72,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),Br(73,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),Br(74,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),Br(75,0,null,null,0,"input",[["class","form-control"],["id","sidebar-search"],["placeholder",""],["type","text"]],null,null,null,null,null)),(n()(),Br(76,0,null,null,107,"ul",[["class","nav sidebar-menu"]],null,null,null,null,null)),(n()(),Br(77,0,null,null,5,"li",[["class",""]],null,null,null,null,null)),(n()(),Br(78,0,null,null,4,"a",[["routerLink","/inicio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,79).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(79,671744,null,0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(80,0,null,null,0,"span",[["class","fa fa-home"]],null,null,null,null,null)),(n()(),Br(81,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,["Inicio"])),(n()(),Br(83,0,null,null,0,"li",[["class","sidebar-label pt35 "]],null,null,null,null,null)),(n()(),Br(84,0,null,null,39,"li",[["routerLinkActive","active"]],null,null,null,null,null)),xi(85,1720320,null,2,bd,[md,xe,Me,Cl],{routerLinkActive:[0,"routerLinkActive"]},null),Gi(603979776,1,{links:1}),Gi(603979776,2,{linksWithHrefs:1}),(n()(),Br(88,0,null,null,4,"a",[["class","accordion-toggle"],["href","#"]],null,null,null,null,null)),(n()(),Br(89,0,null,null,0,"span",[["class","glyphicon glyphicon-fire"]],null,null,null,null,null)),(n()(),Br(90,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,["Administraci\xf3n"])),(n()(),Br(92,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(n()(),Br(93,0,null,null,30,"ul",[["class","nav sub-nav"]],null,null,null,null,null)),(n()(),Br(94,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(95,0,null,null,3,"a",[["routerLink","/clientes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,96).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(96,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(97,0,null,null,0,"span",[["class","glyphicon glyphicon-modal-window"]],null,null,null,null,null)),(n()(),to(-1,null,[" Clientes "])),(n()(),Br(99,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(100,0,null,null,3,"a",[["routerLink","/clasificacion-equipo"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,101).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(101,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(102,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Clasificaci\xf3n de equipo "])),(n()(),Br(104,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(105,0,null,null,3,"a",[["routerLink","/tipo-dano"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,106).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(106,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(107,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Tipos de da\xf1o "])),(n()(),Br(109,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(110,0,null,null,3,"a",[["routerLink","/proyectos"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,111).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(111,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(112,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Proyectos "])),(n()(),Br(114,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(115,0,null,null,3,"a",[["routerLink","/materiales"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,116).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(116,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(117,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Materiales "])),(n()(),Br(119,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(120,0,null,null,3,"a",[["routerLink","/usuarios"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,121).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(121,671744,[[2,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(122,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Usuarios "])),(n()(),Br(124,0,null,null,0,"li",[["class","sidebar-label pt35"]],null,null,null,null,null)),(n()(),Br(125,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),xi(126,1720320,null,2,bd,[md,xe,Me,Cl],{routerLinkActive:[0,"routerLinkActive"]},null),Gi(603979776,3,{links:1}),Gi(603979776,4,{linksWithHrefs:1}),(n()(),Br(129,0,null,null,3,"a",[["href","documentation/"]],null,null,null,null,null)),(n()(),Br(130,0,null,null,0,"span",[["class","fa fa-file-text-o"]],null,null,null,null,null)),(n()(),Br(131,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,[" Reportes de env\xedos "])),(n()(),Br(133,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),xi(134,1720320,null,2,bd,[md,xe,Me,Cl],{routerLinkActive:[0,"routerLinkActive"]},null),Gi(603979776,5,{links:1}),Gi(603979776,6,{linksWithHrefs:1}),(n()(),Br(137,0,null,null,3,"a",[["href","documentation/"]],null,null,null,null,null)),(n()(),Br(138,0,null,null,0,"span",[["class","fa fa-file-text-o"]],null,null,null,null,null)),(n()(),Br(139,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,[" Reportes de devoluci\xf3n "])),(n()(),Br(141,0,null,null,7,"li",[["routerLinkActive","active"]],null,null,null,null,null)),xi(142,1720320,null,2,bd,[md,xe,Me,Cl],{routerLinkActive:[0,"routerLinkActive"]},null),Gi(603979776,7,{links:1}),Gi(603979776,8,{linksWithHrefs:1}),(n()(),Br(145,0,null,null,3,"a",[["href","documentation/"]],null,null,null,null,null)),(n()(),Br(146,0,null,null,0,"span",[["class","fa fa-file-text-o"]],null,null,null,null,null)),(n()(),Br(147,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,[" Reportes de obra "])),(n()(),Br(149,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(150,0,null,null,3,"a",[["href","pages_calendar.html"]],null,null,null,null,null)),(n()(),Br(151,0,null,null,0,"span",[["class","fa fa-file-text-o"]],null,null,null,null,null)),(n()(),Br(152,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,["Reportes de equpo da\xf1ado"])),(n()(),Br(154,0,null,null,0,"li",[["class","sidebar-label pt35"]],null,null,null,null,null)),(n()(),Br(155,0,null,null,28,"li",[["routerLinkActive","active"]],null,null,null,null,null)),xi(156,1720320,null,2,bd,[md,xe,Me,Cl],{routerLinkActive:[0,"routerLinkActive"]},null),Gi(603979776,9,{links:1}),Gi(603979776,10,{linksWithHrefs:1}),(n()(),Br(159,0,null,null,4,"a",[["class","accordion-toggle"],["href","#"]],null,null,null,null,null)),(n()(),Br(160,0,null,null,0,"span",[["class","glyphicon glyphicon-fire"]],null,null,null,null,null)),(n()(),Br(161,0,null,null,1,"span",[["class","sidebar-title"]],null,null,null,null,null)),(n()(),to(-1,null,["Dashboard"])),(n()(),Br(163,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(n()(),Br(164,0,null,null,19,"ul",[["class","nav sub-nav"]],null,null,null,null,null)),(n()(),Br(165,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(166,0,null,null,3,"a",[["routerLink","/dashboard-cobranza"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,167).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(167,671744,[[10,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(168,0,null,null,0,"span",[["class","glyphicon glyphicon-modal-window"]],null,null,null,null,null)),(n()(),to(-1,null,[" Dashboard cobranza "])),(n()(),Br(170,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(171,0,null,null,3,"a",[["routerLink","/dashboard-avisos"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,172).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(172,671744,[[10,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(173,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Dashboard avisos "])),(n()(),Br(175,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),Br(176,0,null,null,3,"a",[["routerLink","/dashboard-video"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==yi(n,177).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),l},null,null)),xi(177,671744,[[10,4]],0,yd,[md,ih,yu],{routerLink:[0,"routerLink"]},null),(n()(),Br(178,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Dashboard video "])),(n()(),Br(180,0,null,null,3,"li",[],null,null,null,null,null)),(n()(),Br(181,0,null,null,2,"a",[["href","https://apptudoka.com.mx/dashboardDoka/#/"],["target","_blank"]],null,null,null,null,null)),(n()(),Br(182,0,null,null,0,"span",[["class","glyphicon glyphicon-equalizer"]],null,null,null,null,null)),(n()(),to(-1,null,[" Ir al dashboard "])),(n()(),Br(184,0,null,null,2,"div",[["class","sidebar-toggle-mini"]],null,null,null,null,null)),(n()(),Br(185,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(n()(),Br(186,0,null,null,0,"span",[["class","fa fa-sign-out"]],null,null,null,null,null))],function(n,e){n(e,18,0,"1-1"),n(e,19,0,"1-1"),n(e,22,0,"1-2"),n(e,23,0,"1-2"),n(e,26,0,"1-3"),n(e,27,0,"1-3"),n(e,33,0,"1-1"),n(e,34,0,"1-1"),n(e,37,0,"1-2"),n(e,38,0,"1-2"),n(e,41,0,"1-3"),n(e,42,0,"1-3"),n(e,79,0,"/inicio"),n(e,85,0,"active"),n(e,96,0,"/clientes"),n(e,101,0,"/clasificacion-equipo"),n(e,106,0,"/tipo-dano"),n(e,111,0,"/proyectos"),n(e,116,0,"/materiales"),n(e,121,0,"/usuarios"),n(e,126,0,"active"),n(e,134,0,"active"),n(e,142,0,"active"),n(e,156,0,"active"),n(e,167,0,"/dashboard-cobranza"),n(e,172,0,"/dashboard-avisos"),n(e,177,0,"/dashboard-video")},function(n,e){n(e,78,0,yi(e,79).target,yi(e,79).href),n(e,95,0,yi(e,96).target,yi(e,96).href),n(e,100,0,yi(e,101).target,yi(e,101).href),n(e,105,0,yi(e,106).target,yi(e,106).href),n(e,110,0,yi(e,111).target,yi(e,111).href),n(e,115,0,yi(e,116).target,yi(e,116).href),n(e,120,0,yi(e,121).target,yi(e,121).href),n(e,166,0,yi(e,167).target,yi(e,167).href),n(e,171,0,yi(e,172).target,yi(e,172).href),n(e,176,0,yi(e,177).target,yi(e,177).href)})}var ry=fr({encapsulation:0,styles:[[""]],data:{}});function iy(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-header",[],null,null,null,ly,ty)),xi(1,114688,null,0,ey,[],null,null),(n()(),Br(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),xi(3,212992,null,0,Cd,[wd,_l,Te,[8,null],Cl],null,null)],function(n,e){n(e,1,0),n(e,3,0)},null)}function oy(n){return io(0,[(n()(),Br(0,0,null,null,1,"app-root",[],null,null,null,iy,ry)),xi(1,49152,null,0,fu,[kp],null,null)],null,null)}var uy=oi("app-root",fu,oy,{},{},[]),ay=(t("6Joi"),function(){function n(){}var e;return e=n,n.enablePersistence=function(n){return{ngModule:e,providers:[{provide:wp,useValue:!0},{provide:Cp,useValue:n}]}},n}()),sy=t("wj3C"),cy=t.n(sy),hy="firebasestorage.googleapis.com",dy="storageBucket",py=12e4,fy=6e4,my=-9007199254740991,gy=function(){function n(n,e){this.code_=vy(n),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return n.prototype.codeProp=function(){return this.code},n.prototype.codeEquals=function(n){return vy(n)===this.codeProp()},n.prototype.serverResponseProp=function(){return this.serverResponse_},n.prototype.setServerResponseProp=function(n){this.serverResponse_=n},Object.defineProperty(n.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),n}(),yy={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function vy(n){return"storage/"+n}function by(){return new gy(yy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _y(){return new gy(yy.CANCELED,"User canceled the upload/download.")}function wy(){return new gy(yy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cy(n,e,t){return new gy(yy.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+n+": "+t)}function Ey(){return new gy(yy.APP_DELETED,"The Firebase app was deleted.")}function Sy(n,e){return new gy(yy.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ty(n){throw new gy(yy.INTERNAL_ERROR,"Internal error: "+n)}var Iy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function ky(n){switch(n){case Iy.RAW:case Iy.BASE64:case Iy.BASE64URL:case Iy.DATA_URL:return;default:throw"Expected one of the event types: ["+Iy.RAW+", "+Iy.BASE64+", "+Iy.BASE64URL+", "+Iy.DATA_URL+"]."}}var Ay=function(){return function(n,e){this.data=n,this.contentType=e||null}}();function Dy(n,e){switch(n){case Iy.RAW:return new Ay(xy(e));case Iy.BASE64:case Iy.BASE64URL:return new Ay(Ny(n,e));case Iy.DATA_URL:return new Ay(function(n){var e=new Oy(n);return e.base64?Ny(Iy.BASE64,e.rest):function(n){var e;try{e=decodeURIComponent(n)}catch(t){throw Sy(Iy.DATA_URL,"Malformed data URL.")}return xy(e)}(e.rest)}(e),function(n){return new Oy(n).contentType}(e))}throw by()}function xy(n){for(var e=[],t=0;t<n.length;t++){var l=n.charCodeAt(t);if(l<=127)e.push(l);else if(l<=2047)e.push(192|l>>6,128|63&l);else if(55296==(64512&l))if(t<n.length-1&&56320==(64512&n.charCodeAt(t+1))){var r=l,i=n.charCodeAt(++t);e.push(240|(l=65536|(1023&r)<<10|1023&i)>>18,128|l>>12&63,128|l>>6&63,128|63&l)}else e.push(239,191,189);else 56320==(64512&l)?e.push(239,191,189):e.push(224|l>>12,128|l>>6&63,128|63&l)}return new Uint8Array(e)}function Ny(n,e){switch(n){case Iy.BASE64:var t=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(t||l)throw Sy(n,"Invalid character '"+(t?"-":"_")+"' found: is it base64url encoded?");break;case Iy.BASE64URL:var r=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(r||i)throw Sy(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(s){throw Sy(n,"Invalid character found")}for(var u=new Uint8Array(o.length),a=0;a<o.length;a++)u[a]=o.charCodeAt(a);return u}var Oy=function(){return function(n){this.base64=!1,this.contentType=null;var e=n.match(/^data:([^,]+)?,/);if(null===e)throw Sy(Iy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var t,l=e[1]||null;null!=l&&(this.base64=(t=l).length>=";base64".length&&";base64"===t.substring(t.length-";base64".length),this.contentType=this.base64?l.substring(0,l.length-";base64".length):l),this.rest=n.substring(n.indexOf(",")+1)}}(),Ry={STATE_CHANGED:"state_changed"},Py={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},My={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ly(n){switch(n){case Py.RUNNING:case Py.PAUSING:case Py.CANCELING:return My.RUNNING;case Py.PAUSED:return My.PAUSED;case Py.SUCCESS:return My.SUCCESS;case Py.CANCELED:return My.CANCELED;case Py.ERROR:default:return My.ERROR}}function Vy(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Uy(n,e){for(var t in n)Vy(n,t)&&e(t,n[t])}function qy(n){if(null==n)return{};var e={};return Uy(n,function(n,t){e[n]=t}),e}function Fy(n){return new Promise(n)}function jy(n){return Promise.resolve(n)}function By(n){return null!=n}function Ky(n){return void 0!==n}function zy(n){return"function"==typeof n}function Hy(n){return"object"==typeof n}function Wy(n){return Hy(n)&&null!==n}function Gy(n){return"string"==typeof n||n instanceof String}function Qy(n){return Xy(n)&&Number.isInteger(n)}function Xy(n){return"number"==typeof n||n instanceof Number}function Yy(n){return $y()&&n instanceof Blob}function $y(){return"undefined"!=typeof Blob}var Zy=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}({}),Jy=function(){function n(){var n=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zy.NO_ERROR,this.sendPromise_=Fy(function(e,t){n.xhr_.addEventListener("abort",function(t){n.errorCode_=Zy.ABORT,e(n)}),n.xhr_.addEventListener("error",function(t){n.errorCode_=Zy.NETWORK_ERROR,e(n)}),n.xhr_.addEventListener("load",function(t){e(n)})})}return n.prototype.send=function(n,e,t,l){var r=this;if(this.sent_)throw Ty("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,n,!0),By(l)&&Uy(l,function(n,e){r.xhr_.setRequestHeader(n,e.toString())}),By(t)?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw Ty("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw Ty("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw Ty("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(n){return this.xhr_.getResponseHeader(n)},n.prototype.addUploadProgressListener=function(n){By(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",n)},n.prototype.removeUploadProgressListener=function(n){By(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",n)},n}(),nv=function(){function n(){}return n.prototype.createXhrIo=function(){return new Jy},n}();function ev(n){var e,t;try{e=JSON.parse(n)}catch(l){return null}return Hy(t=e)&&!Array.isArray(t)?e:null}var tv=function(){function n(n,e){this.bucket=n,this.path_=e}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),n.prototype.fullServerUrl=function(){var n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)},n.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},n.makeFromBucketSpec=function(e){var t;try{t=n.makeFromUrl(e)}catch(l){return new n(e,"")}if(""===t.path)return t;throw new gy(yy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},n.makeFromUrl=function(e){for(var t=null,l=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),r=hy.replace(/[.]/g,"\\."),i=[{regex:l,indices:{bucket:1,path:3},postModify:function(n){"/"===n.path.charAt(n.path.length-1)&&(n.path_=n.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+r+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(n){n.path_=decodeURIComponent(n.path)}}],o=0;o<i.length;o++){var u=i[o],a=u.regex.exec(e);if(a){var s=a[u.indices.path];s||(s=""),t=new n(a[u.indices.bucket],s),u.postModify(t);break}}if(null==t)throw function(n){return new gy(yy.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return t},n}();function lv(n){var e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function rv(n){return"https://"+hy+"/v0"+n}function iv(n){var e=encodeURIComponent,t="?";return Uy(n,function(n,l){var r=e(n)+"="+e(l);t=t+r+"&"}),t=t.slice(0,-1)}function ov(n,e){return e}var uv=function(){return function(n,e,t,l){this.server=n,this.local=e||n,this.writable=!!t,this.xform=l||ov}}(),av=null;function sv(n,e,t){var l=ev(e);return null===l?null:function(n,e,t){for(var l={type:"file"},r=t.length,i=0;i<r;i++){var o=t[i];l[o.local]=o.xform(l,e[o.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){var t=new tv(n.bucket,n.fullPath);return e.makeStorageReference(t)}})}(l,n),l}(n,l,t)}function cv(n,e){for(var t={},l=e.length,r=0;r<l;r++){var i=e[r];i.writable&&(t[i.server]=n[i.local])}return JSON.stringify(t)}function hv(n){if(!n||!Hy(n))throw"Expected Metadata object.";for(var e in n){var t=n[e];if("customMetadata"===e){if(!Hy(t))throw"Expected object for 'customMetadata' mapping."}else if(Wy(t))throw"Mapping for '"+e+"' cannot be an object."}}var dv="maxResults",pv=1e3,fv="pageToken",mv="prefixes",gv="items";function yv(n){if(!n||!Hy(n))throw"Expected ListOptions object.";for(var e in n)if(e===dv){if(!Qy(n[dv])||n[dv]<=0)throw"Expected maxResults to be a positive number.";if(n[dv]>1e3)throw"Expected maxResults to be less than or equal to "+pv+"."}else{if(e!==fv)throw"Unknown option: "+e;if(n[fv]&&!Gy(n[fv]))throw"Expected pageToken to be string."}}function vv(n,e,t){for(var l=e.length,r=e.length,i=0;i<e.length;i++)if(e[i].optional){l=i;break}var o,u,a,s;if(!(l<=t.length&&t.length<=r))throw(o=l)===(u=r)?(a=o,s=1===o?"argument":"arguments"):(a="between "+o+" and "+u,s="arguments"),new gy(yy.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+a+" "+s+", received "+t.length+".");for(i=0;i<t.length;i++)try{e[i].validator(t[i])}catch(c){throw c instanceof Error?Cy(i,n,c.message):Cy(i,n,c)}}var bv=function(){return function(n,e){var t=this;this.validator=function(e){t.optional&&!Ky(e)||n(e)},this.optional=!!e}}();function _v(n,e){function t(n){if(!Gy(n))throw"Expected string."}var l,r,i;return n?(r=t,i=n,l=function(n){r(n),i(n)}):l=t,new bv(l,e)}function wv(n){return new bv(hv,n)}function Cv(){return new bv(function(n){if(!(Xy(n)&&n>=0))throw"Expected a number 0 or greater."})}function Ev(n,e){return new bv(function(e){if(!(null===e||By(e)&&e instanceof Object))throw"Expected an Object.";null!=n&&n(e)},e)}function Sv(n){return new bv(function(n){if(null!==n&&!zy(n))throw"Expected a Function."},n)}function Tv(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Iv=function(){function n(n,e){var t=0,l="";Yy(n)?(this.data_=n,t=n.size,l=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),t=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),t=n.length),this.size_=t,this.type_=l}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(e,t){if(Yy(this.data_)){var l=(i=e,o=t,(r=this.data_).webkitSlice?r.webkitSlice(i,o):r.mozSlice?r.mozSlice(i,o):r.slice?r.slice(i,o):null);return null===l?null:new n(l)}var r,i,o;return new n(new Uint8Array(this.data_.buffer,e,t-e),!0)},n.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if($y()){var l=e.map(function(e){return e instanceof n?e.data_:e});return new n((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Tv();if(void 0!==t){for(var l=new t,r=0;r<n.length;r++)l.append(n[r]);return l.getBlob()}if($y())return new Blob(n);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,l))}var r=e.map(function(n){return Gy(n)?Dy(Iy.RAW,n).data:n.data_}),i=0;r.forEach(function(n){i+=n.byteLength});var o=new Uint8Array(i),u=0;return r.forEach(function(n){for(var e=0;e<n.length;e++)o[u++]=n[e]}),new n(o,!0)},n.prototype.uploadData=function(){return this.data_},n}();function kv(n,e){return-1!==n.indexOf(e)}var Av=function(){return function(n,e,t,l){this.url=n,this.method=e,this.handler=t,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Dv(n){if(!n)throw by()}function xv(n,e){return function(t,l){var r=sv(n,l,e);return Dv(null!==r),r}}function Nv(n){return function(e,t){var l;return(l=401===e.getStatus()?new gy(yy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new gy(yy.QUOTA_EXCEEDED,"Quota for bucket '"+n.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new gy(yy.UNAUTHORIZED,"User does not have permission to access '"+n.path+"'."):t).setServerResponseProp(t.serverResponseProp()),l}}function Ov(n){var e=Nv(n);return function(t,l){var r=e(t,l);return 404===t.getStatus()&&(r=new gy(yy.OBJECT_NOT_FOUND,"Object '"+n.path+"' does not exist.")),r.setServerResponseProp(l.serverResponseProp()),r}}function Rv(n,e,t){var l=rv(e.fullServerUrl()),r=n.maxOperationRetryTime(),i=new Av(l,"GET",xv(n,t),r);return i.errorHandler=Ov(e),i}function Pv(n,e,t){var l=qy(t);return l.fullPath=n.path,l.size=e.size(),l.contentType||(l.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),l}var Mv=function(){return function(n,e,t,l){this.current=n,this.total=e,this.finalized=!!t,this.metadata=l||null}}();function Lv(n,e){var t;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(l){Dv(!1)}return Dv(kv(e||["active"],t)),t}var Vv=function(){return function(n,e,t){if(zy(n)||By(e)||By(t))this.next=n,this.error=e||null,this.complete=t||null;else{var l=n;this.next=l.next||null,this.error=l.error||null,this.complete=l.complete||null}}}(),Uv=function(){return function(n,e,t,l,r,i){this.bytesTransferred=n,this.totalBytes=e,this.state=t,this.metadata=l,this.task=r,this.ref=i}}();function qv(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];jy(!0).then(function(){n.apply(null,e)})}}var Fv=function(){function n(n,e,t,l,r,i){var o=this;void 0===i&&(i=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=n,this.authWrapper_=e,this.location_=t,this.blob_=r,this.metadata_=i,this.mappings_=l,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Py.RUNNING,this.errorHandler_=function(n){o.request_=null,o.chunkMultiplier_=1,n.codeEquals(yy.CANCELED)?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=n,o.transition_(Py.ERROR))},this.metadataErrorHandler_=function(n){o.request_=null,n.codeEquals(yy.CANCELED)?o.completeTransitions_():(o.error_=n,o.transition_(Py.ERROR))},this.promise_=Fy(function(n,e){o.resolve_=n,o.reject_=e,o.start_()}),this.promise_.then(null,function(){})}return n.prototype.makeProgressCallback_=function(){var n=this,e=this.transferred_;return function(t,l){n.updateProgress_(e+t)}},n.prototype.shouldDoResumable_=function(n){return n.size()>262144},n.prototype.start_=function(){this.state_===Py.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},n.prototype.resolveToken_=function(n){var e=this;this.authWrapper_.getAuthToken().then(function(t){switch(e.state_){case Py.RUNNING:n(t);break;case Py.CANCELING:e.transition_(Py.CANCELED);break;case Py.PAUSING:e.transition_(Py.PAUSED)}})},n.prototype.createResumable_=function(){var n=this;this.resolveToken_(function(e){var t=function(n,e,t,l,r){var i=e.bucketOnlyServerUrl(),o=Pv(e,l,r),u={name:o.fullPath},a=rv(i),s={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":l.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=cv(o,t),h=n.maxUploadRetryTime(),d=new Av(a,"POST",function(n,e){var t;Lv(n);try{t=n.getResponseHeader("X-Goog-Upload-URL")}catch(l){Dv(!1)}return Dv(Gy(t)),t},h);return d.urlParams=u,d.headers=s,d.body=c,d.errorHandler=Nv(e),d}(n.authWrapper_,n.location_,n.mappings_,n.blob_,n.metadata_),l=n.authWrapper_.makeRequest(t,e);n.request_=l,l.getPromise().then(function(e){n.request_=null,n.uploadUrl_=e,n.needToFetchStatus_=!1,n.completeTransitions_()},n.errorHandler_)})},n.prototype.fetchStatus_=function(){var n=this,e=this.uploadUrl_;this.resolveToken_(function(t){var l=function(e,t,l,r){var i=n.authWrapper_.maxUploadRetryTime(),o=new Av(l,"POST",function(n,e){var t,l=Lv(n,["active","final"]);try{t=n.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Dv(!1)}var i=parseInt(t,10);return Dv(!isNaN(i)),new Mv(i,r.size(),"final"===l)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Nv(t),o}(0,n.location_,e,n.blob_),r=n.authWrapper_.makeRequest(l,t);n.request_=r,r.getPromise().then(function(e){e=e,n.request_=null,n.updateProgress_(e.current),n.needToFetchStatus_=!1,e.finalized&&(n.needToFetchMetadata_=!0),n.completeTransitions_()},n.errorHandler_)})},n.prototype.continueUpload_=function(){var n=this,e=262144*this.chunkMultiplier_,t=new Mv(this.transferred_,this.blob_.size()),l=this.uploadUrl_;this.resolveToken_(function(r){var i;try{i=function(n,e,t,l,r,i,o,u){var a=new Mv(0,0);if(o?(a.current=o.current,a.total=o.total):(a.current=0,a.total=l.size()),l.size()!==a.total)throw new gy(yy.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var s=a.total-a.current,c=s;r>0&&(c=Math.min(c,r));var h=a.current,d={"X-Goog-Upload-Command":c===s?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},p=l.slice(h,h+c);if(null===p)throw wy();var f=e.maxUploadRetryTime(),m=new Av(t,"POST",function(n,t){var r,o=Lv(n,["active","final"]),u=a.current+c,s=l.size();return r="final"===o?xv(e,i)(n,t):null,new Mv(u,s,"final"===o,r)},f);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=Nv(n),m}(n.location_,n.authWrapper_,l,n.blob_,e,n.mappings_,t,n.makeProgressCallback_())}catch(u){return n.error_=u,void n.transition_(Py.ERROR)}var o=n.authWrapper_.makeRequest(i,r);n.request_=o,o.getPromise().then(function(e){n.increaseMultiplier_(),n.request_=null,n.updateProgress_(e.current),e.finalized?(n.metadata_=e.metadata,n.transition_(Py.SUCCESS)):n.completeTransitions_()},n.errorHandler_)})},n.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},n.prototype.fetchMetadata_=function(){var n=this;this.resolveToken_(function(e){var t=Rv(n.authWrapper_,n.location_,n.mappings_),l=n.authWrapper_.makeRequest(t,e);n.request_=l,l.getPromise().then(function(e){n.request_=null,n.metadata_=e,n.transition_(Py.SUCCESS)},n.metadataErrorHandler_)})},n.prototype.oneShotUpload_=function(){var n=this;this.resolveToken_(function(e){var t=function(n,e,t,l,r){var i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var n="",e=0;e<2;e++)n+=Math.random().toString().slice(2);return n}();o["Content-Type"]="multipart/related; boundary="+u;var a=Pv(e,l,r),s=cv(a,t),c=Iv.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+s+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",l,"\r\n--"+u+"--");if(null===c)throw wy();var h={name:a.fullPath},d=rv(i),p=n.maxUploadRetryTime(),f=new Av(d,"POST",xv(n,t),p);return f.urlParams=h,f.headers=o,f.body=c.uploadData(),f.errorHandler=Nv(e),f}(n.authWrapper_,n.location_,n.mappings_,n.blob_,n.metadata_),l=n.authWrapper_.makeRequest(t,e);n.request_=l,l.getPromise().then(function(e){n.request_=null,n.metadata_=e,n.updateProgress_(n.blob_.size()),n.transition_(Py.SUCCESS)},n.errorHandler_)})},n.prototype.updateProgress_=function(n){var e=this.transferred_;this.transferred_=n,this.transferred_!==e&&this.notifyObservers_()},n.prototype.transition_=function(n){if(this.state_!==n)switch(n){case Py.CANCELING:case Py.PAUSING:this.state_=n,null!==this.request_&&this.request_.cancel();break;case Py.RUNNING:var e=this.state_===Py.PAUSED;this.state_=n,e&&(this.notifyObservers_(),this.start_());break;case Py.PAUSED:this.state_=n,this.notifyObservers_();break;case Py.CANCELED:this.error_=_y(),this.state_=n,this.notifyObservers_();break;case Py.ERROR:case Py.SUCCESS:this.state_=n,this.notifyObservers_()}},n.prototype.completeTransitions_=function(){switch(this.state_){case Py.PAUSING:this.transition_(Py.PAUSED);break;case Py.CANCELING:this.transition_(Py.CANCELED);break;case Py.RUNNING:this.start_()}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var n=Ly(this.state_);return new Uv(this.transferred_,this.blob_.size(),n,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),n.prototype.on=function(n,e,t,l){var r="Expected a function or an Object with one of `next`, `error`, `complete` properties.",i=Sv(!0).validator,o=Ev(null,!0).validator;function u(n){try{return void i(n)}catch(e){}try{if(o(n),!(Ky(n.next)||Ky(n.error)||Ky(n.complete)))throw"";return}catch(e){throw r}}vv("on",[_v(function(e){if(n!==Ry.STATE_CHANGED)throw"Expected one of the event types: ["+Ry.STATE_CHANGED+"]."}),Ev(u,!0),Sv(!0),Sv(!0)],arguments);var a=this;function s(n){return function(e,t,r){null!==n&&vv("on",n,arguments);var i=new Vv(e,t,l);return a.addObserver_(i),function(){a.removeObserver_(i)}}}var c=[Ev(function(n){if(null===n)throw r;u(n)}),Sv(!0),Sv(!0)];return Ky(e)||Ky(t)||Ky(l)?s(null)(e,t,l):s(c)},n.prototype.then=function(n,e){return this.promise_.then(n,e)},n.prototype.catch=function(n){return this.then(null,n)},n.prototype.addObserver_=function(n){this.observers_.push(n),this.notifyObserver_(n)},n.prototype.removeObserver_=function(n){var e,t;-1!==(t=(e=this.observers_).indexOf(n))&&e.splice(t,1)},n.prototype.notifyObservers_=function(){var n=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){n.notifyObserver_(e)})},n.prototype.finishPromise_=function(){if(null!==this.resolve_){var n=!0;switch(Ly(this.state_)){case My.SUCCESS:qv(this.resolve_.bind(null,this.snapshot))();break;case My.CANCELED:case My.ERROR:qv(this.reject_.bind(null,this.error_))();break;default:n=!1}n&&(this.resolve_=null,this.reject_=null)}},n.prototype.notifyObserver_=function(n){switch(Ly(this.state_)){case My.RUNNING:case My.PAUSED:n.next&&qv(n.next.bind(n,this.snapshot))();break;case My.SUCCESS:n.complete&&qv(n.complete.bind(n))();break;case My.CANCELED:case My.ERROR:n.error&&qv(n.error.bind(n,this.error_))();break;default:n.error&&qv(n.error.bind(n,this.error_))()}},n.prototype.resume=function(){vv("resume",[],arguments);var n=this.state_===Py.PAUSED||this.state_===Py.PAUSING;return n&&this.transition_(Py.RUNNING),n},n.prototype.pause=function(){vv("pause",[],arguments);var n=this.state_===Py.RUNNING;return n&&this.transition_(Py.PAUSING),n},n.prototype.cancel=function(){vv("cancel",[],arguments);var n=this.state_===Py.RUNNING||this.state_===Py.PAUSING;return n&&this.transition_(Py.CANCELING),n},n}(),jv=function(){function n(n,e){this.authWrapper=n,this.location=e instanceof tv?e:tv.makeFromUrl(e)}return n.prototype.toString=function(){return vv("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},n.prototype.newRef=function(e,t){return new n(e,t)},n.prototype.mappings=function(){return function(){if(av)return av;var n=[];n.push(new uv("bucket")),n.push(new uv("generation")),n.push(new uv("metageneration")),n.push(new uv("name","fullPath",!0));var e=new uv("name");e.xform=function(n,e){return function(n){return!Gy(n)||n.length<2?n:lv(n=n)}(e)},n.push(e);var t=new uv("size");return t.xform=function(n,e){return By(e)?+e:e},n.push(t),n.push(new uv("timeCreated")),n.push(new uv("updated")),n.push(new uv("md5Hash",null,!0)),n.push(new uv("cacheControl",null,!0)),n.push(new uv("contentDisposition",null,!0)),n.push(new uv("contentEncoding",null,!0)),n.push(new uv("contentLanguage",null,!0)),n.push(new uv("contentType",null,!0)),n.push(new uv("metadata","customMetadata",!0)),av=n}()},n.prototype.child=function(n){vv("child",[_v()],arguments);var e=function(n,e){var t=e.split("/").filter(function(n){return n.length>0}).join("/");return 0===n.length?t:n+"/"+t}(this.location.path,n),t=new tv(this.location.bucket,e);return this.newRef(this.authWrapper,t)},Object.defineProperty(n.prototype,"parent",{get:function(){var n=function(n){if(0==n.length)return null;var e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this.location.path);if(null===n)return null;var e=new tv(this.location.bucket,n);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var n=new tv(this.location.bucket,"");return this.newRef(this.authWrapper,n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return lv(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),n.prototype.put=function(n,e){return void 0===e&&(e=null),vv("put",[new bv(function(n){if(!(n instanceof Uint8Array||n instanceof ArrayBuffer||$y()&&n instanceof Blob))throw"Expected Blob or File."}),wv(!0)],arguments),this.throwIfRoot_("put"),new Fv(this,this.authWrapper,this.location,this.mappings(),new Iv(n),e)},n.prototype.putString=function(n,e,t){void 0===e&&(e=Iy.RAW),vv("putString",[_v(),_v(ky,!0),wv(!0)],arguments),this.throwIfRoot_("putString");var l=Dy(e,n),r=qy(t);return!By(r.contentType)&&By(l.contentType)&&(r.contentType=l.contentType),new Fv(this,this.authWrapper,this.location,this.mappings(),new Iv(l.data,!0),r)},n.prototype.delete=function(){vv("delete",[],arguments),this.throwIfRoot_("delete");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=function(n,e){var t=rv(e.fullServerUrl()),l=n.maxOperationRetryTime(),r=new Av(t,"DELETE",function(n,e){},l);return r.successCodes=[200,204],r.errorHandler=Ov(e),r}(n.authWrapper,n.location);return n.authWrapper.makeRequest(t,e).getPromise()})},n.prototype.listAll=function(){vv("listAll",[],arguments);var n={prefixes:[],items:[]};return this.listAllHelper(n).then(function(){return n})},n.prototype.listAllHelper=function(n,e){return Object(l.__awaiter)(this,void 0,void 0,function(){var t,r,i;return Object(l.__generator)(this,function(l){switch(l.label){case 0:return[4,this.list({pageToken:e})];case 1:return i=l.sent(),(t=n.prefixes).push.apply(t,i.prefixes),(r=n.items).push.apply(r,i.items),null==i.nextPageToken?[3,3]:[4,this.listAllHelper(n,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})},n.prototype.list=function(n){vv("list",[new bv(yv,!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then(function(t){var l=n||{},r=function(n,e,t,l,r){var i={};i.prefix=e.isRoot?"":e.path+"/","/".length>0&&(i.delimiter="/"),l&&(i.pageToken=l),r&&(i.maxResults=r);var o=rv(e.bucketOnlyServerUrl()),u=n.maxOperationRetryTime(),a=new Av(o,"GET",function(n){return function(e,t){var l=function(n,e){var l=ev(t);return null===l?null:function(n,e){var t={prefixes:[],items:[],nextPageToken:e.nextPageToken},l=n.bucket();if(null===l)throw new gy(yy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dy+"' property when initializing the app?");if(e[mv])for(var r=0,i=e[mv];r<i.length;r++){var o=i[r].replace(/\/$/,""),u=n.makeStorageReference(new tv(l,o));t.prefixes.push(u)}if(e[gv])for(var a=0,s=e[gv];a<s.length;a++)u=n.makeStorageReference(new tv(l,s[a].name)),t.items.push(u);return t}(n,l)}(n);return Dv(null!==l),l}}(n),u);return a.urlParams=i,a.errorHandler=Nv(e),a}(e.authWrapper,e.location,0,l.pageToken,l.maxResults);return e.authWrapper.makeRequest(r,t).getPromise()})},n.prototype.getMetadata=function(){vv("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=Rv(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(t,e).getPromise()})},n.prototype.updateMetadata=function(n){vv("updateMetadata",[wv()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var l=function(n,e,t,l){var r=rv(e.fullServerUrl()),i=cv(t,l),o=n.maxOperationRetryTime(),u=new Av(r,"PATCH",xv(n,l),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=i,u.errorHandler=Ov(e),u}(e.authWrapper,e.location,n,e.mappings());return e.authWrapper.makeRequest(l,t).getPromise()})},n.prototype.getDownloadURL=function(){vv("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var n=this;return this.authWrapper.getAuthToken().then(function(e){var t=function(n,e,t){var l=rv(e.fullServerUrl()),r=n.maxOperationRetryTime(),i=new Av(l,"GET",function(n,e){return function(t,l){var r=sv(n,l,e);return Dv(null!==r),function(n,e){var t=ev(l);if(null===t)return null;if(!Gy(t.downloadTokens))return null;var r=t.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var t=n.fullPath;return rv("/b/"+i(n.bucket)+"/o/"+i(t))+iv({alt:"media",token:e})})[0]}(r)}}(n,t),r);return i.errorHandler=Ov(e),i}(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(t,e).getPromise().then(function(n){if(null===n)throw new gy(yy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return n})})},n.prototype.throwIfRoot_=function(n){if(""===this.location.path)throw function(n){return new gy(yy.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(n)},n}(),Bv=function(){function n(n){this.promise_=function(n){return Promise.reject(n)}(n)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(n){void 0===n&&(n=!1)},n}(),Kv=function(){function n(){this.map_={},this.id_=my}return n.prototype.addRequest=function(n){var e=this.id_;this.id_++,this.map_[e]=n;var t=this;function l(){delete t.map_[e]}n.getPromise().then(l,l)},n.prototype.clear=function(){Uy(this.map_,function(n,e){e&&e.cancel(!0)}),this.map_={}},n}(),zv=function(){function n(e,t,l,r,i){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var o=this.app_.options;By(o)&&(this.bucket_=n.extractBucket_(o))}this.storageRefMaker_=t,this.requestMaker_=l,this.pool_=i,this.service_=r,this.maxOperationRetryTime_=py,this.maxUploadRetryTime_=fy,this.requestMap_=new Kv}return n.extractBucket_=function(n){var e=n[dy]||null;return null==e?null:tv.makeFromBucketSpec(e).bucket},n.prototype.getAuthToken=function(){return null!==this.app_&&By(this.app_.INTERNAL)&&By(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(n){return null!==n?n.accessToken:null},function(n){return null}):jy(null)},n.prototype.bucket=function(){if(this.deleted_)throw Ey();return this.bucket_},n.prototype.service=function(){return this.service_},n.prototype.makeStorageReference=function(n){return this.storageRefMaker_(this,n)},n.prototype.makeRequest=function(n,e){if(this.deleted_)return new Bv(Ey());var t=this.requestMaker_(n,e,this.pool_);return this.requestMap_.addRequest(t),t},n.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},n.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},n.prototype.setMaxUploadRetryTime=function(n){this.maxUploadRetryTime_=n},n.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},n.prototype.setMaxOperationRetryTime=function(n){this.maxOperationRetryTime_=n},n}(),Hv=function(){function n(n,e,t,l,r,i,o,u,a,s,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=e,this.headers_=t,this.body_=l,this.successCodes_=r.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=o,this.errorCallback_=u,this.progressCallback_=s,this.timeout_=a,this.pool_=c;var h=this;this.promise_=Fy(function(n,e){h.resolve_=n,h.reject_=e,h.start_()})}return n.prototype.start_=function(){var n=this;function e(e,t){var l,r=n.resolve_,i=n.reject_,o=t.xhr;if(t.wasSuccessCode)try{var u=n.callback_(o,o.getResponseText());Ky(u)?r(u):r()}catch(a){i(a)}else null!==o?((l=by()).setServerResponseProp(o.getResponseText()),i(n.errorCallback_?n.errorCallback_(o,l):l)):i(l=t.canceled?n.appDelete_?Ey():_y():new gy(yy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Wv(!1,null,!0)):this.backoffId_=function(n,e,t){var l=1,r=null,i=!1,o=0;function u(){return 2===o}var a=!1;function s(){a||(a=!0,e.apply(null,arguments))}function c(e){r=setTimeout(function(){r=null,n(h,u())},e)}function h(n){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];a||(n?s.apply(null,arguments):u()||i?s.apply(null,arguments):(l<64&&(l*=2),1===o?(o=2,e=0):e=1e3*(l+Math.random()),c(e)))}var d=!1;function p(n){d||(d=!0,a||(null!==r?(n||(o=2),clearTimeout(r),c(0)):n||(o=1)))}return c(0),setTimeout(function(){i=!0,p(!0)},t),p}(function(e,t){if(t)e(!1,new Wv(!1,null,!0));else{var l=n.pool_.createXhrIo();n.pendingXhr_=l,null!==n.progressCallback_&&l.addUploadProgressListener(r),l.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(r),n.pendingXhr_=null;var l=(t=t).getErrorCode()===Zy.NO_ERROR,i=t.getStatus();if(l&&!n.isRetryStatusCode_(i)){var o=kv(n.successCodes_,i);e(!0,new Wv(o,t))}else{var u=t.getErrorCode()===Zy.ABORT;e(!1,new Wv(!1,null,u))}})}function r(e){null!==n.progressCallback_&&n.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},n.prototype.isRetryStatusCode_=function(n){var e=n>=500&&n<600,t=kv([408,429],n),l=kv(this.additionalRetryCodes_,n);return e||t||l},n}(),Wv=function(){return function(n,e,t){this.wasSuccessCode=n,this.xhr=e,this.canceled=!!t}}();function Gv(n,e,t){var l=iv(n.urlParams),r=n.url+l,i=qy(n.headers);return function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(i,e),function(n){n["X-Firebase-Storage-Version"]="webjs/"+(void 0!==cy.a?cy.a.SDK_VERSION:"AppManager")}(i),new Hv(r,n.method,i,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,t)}var Qv=function(){function n(n,e,t){if(this.bucket_=null,this.authWrapper_=new zv(n,function(n,e){return new jv(n,e)},Gv,this,e),this.app_=n,null!=t)this.bucket_=tv.makeFromBucketSpec(t);else{var l=this.authWrapper_.bucket();null!=l&&(this.bucket_=new tv(l,""))}this.internals_=new Xv(this)}return n.prototype.ref=function(n){if(vv("ref",[_v(function(n){if(/^[A-Za-z]+:\/\//.test(n))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new jv(this.authWrapper_,this.bucket_);return null!=n?e.child(n):e},n.prototype.refFromURL=function(n){return vv("refFromURL",[_v(function(n){if(!/^[A-Za-z]+:\/\//.test(n))throw"Expected full URL but got a child path, use ref instead.";try{tv.makeFromUrl(n)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new jv(this.authWrapper_,n)},Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),n.prototype.setMaxUploadRetryTime=function(n){vv("setMaxUploadRetryTime",[Cv()],arguments),this.authWrapper_.setMaxUploadRetryTime(n)},n.prototype.setMaxOperationRetryTime=function(n){vv("setMaxOperationRetryTime",[Cv()],arguments),this.authWrapper_.setMaxOperationRetryTime(n)},Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),n}(),Xv=function(){function n(n){this.service_=n}return n.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),jy(void 0)},n}();cy.a.INTERNAL.registerService("storage",function(n,e,t){return new Qv(n,new nv,t)},{TaskState:My,TaskEvent:Ry,StringFormat:Iy,Storage:Qv,Reference:jv},void 0,!0);var Yv=function(){return function(){}}(),$v=function(){return function(){}}(),Zv=hu(pu,[fu],function(n){return function(n){for(var e={},t=[],l=!1,r=0;r<n.length;r++){var i=n[r];i.token===be&&!0===i.value&&(l=!0),1073741824&i.flags&&t.push(i.token),i.index=r,e[cr(i.token)]=i}return{factory:null,providersByKey:e,providers:n,modules:t,isRoot:l}}([$r(512,Te,Ie,[[8,[Gd,Zd,Vp,Zf,um,pm,vm,Em,Dm,Mm,jm,Gm,Jm,ig,cg,mg,_g,Ig,Og,Vg,Bg,Gg,ny,uy]],[3,Te],Ae]),$r(5120,Wl,Xl,[[3,Wl]]),$r(4608,Au,Du,[Wl,[2,ku]]),$r(5120,Dt,xt,[]),$r(5120,Fl,Gl,[]),$r(5120,jl,Ql,[]),$r(4608,Fs,js,[Ku]),$r(6144,Ue,null,[Fs]),$r(4608,Rs,Ms,[]),$r(5120,os,function(n,e,t,l,r,i,o,u){return[new Ns(n,e,t),new qs(l),new Ls(r,i,o,u)]},[Ku,Yt,Rt,Ku,Ku,Rs,Mt,[2,Ps]]),$r(4608,us,us,[os,Yt]),$r(135680,cs,cs,[Ku]),$r(4608,ys,ys,[us,cs,Dt]),$r(6144,Re,null,[ys]),$r(6144,ss,null,[cs]),$r(4608,rl,rl,[Yt]),$r(5120,vp,bp,[gp,[2,yp]]),$r(4608,kp,kp,[gp,[2,yp],[2,wp],[2,Ep],Rt,Yt,[2,Cp]]),$r(5120,ih,qd,[md]),$r(4608,Id,Id,[]),$r(6144,Sd,null,[Id]),$r(135680,kd,kd,[md,mt,Kt,ie,Sd]),$r(4608,Td,Td,[]),$r(5120,Ad,Pd,[md,Wu,Dd]),$r(5120,Kd,Bd,[Fd]),$r(5120,Pt,function(n,e){return[n,e]},[Kd,Kd]),$r(4608,lf,lf,[]),$r(4608,Bf,Bf,[]),$r(4608,lm,lm,[gp,[2,yp],[2,tm],Rt,Yt]),$r(1073742336,Bu,Bu,[]),$r(1024,St,Xs,[]),$r(1024,al,function(){return[Od(),Od()]},[]),$r(512,Fd,Fd,[ie]),$r(1024,kt,function(n,e,t){return[(r=n,ls("probe",is),ls("coreTokens",Object(l.__assign)({},rs,(r||[]).reduce(function(n,e){return n[e.name]=e.token,n},{}))),function(){return is}),jd(e),jd(t)];var r},[[2,al],Fd,Fd]),$r(512,At,At,[[2,kt]]),$r(131584,pl,pl,[Yt,Mt,ie,St,Te,At]),$r(1073742336,Yl,Yl,[pl]),$r(1073742336,Ys,Ys,[[3,Ys]]),$r(1073742336,_p,_p,[]),$r(1073742336,ay,ay,[]),$r(1024,xd,Ld,[[3,md]]),$r(512,Vc,Uc,[]),$r(512,wd,wd,[]),$r(256,Dd,{useHash:!0},[]),$r(1024,yu,Md,[mu,[2,vu],Dd]),$r(512,bu,bu,[yu]),$r(512,Kt,Kt,[]),$r(512,mt,vl,[Kt,[2,gl]]),$r(1024,ad,function(){return[[{path:"",component:Qd},{path:"home",component:Qd},{path:"users",component:Jd},{path:"inicio",component:Qd},{path:"usuarios",component:Jd},{path:"nuevo-usuario",component:Qf},{path:"nuevo-cliente",component:Jf},{path:"nuevo-tipo-dano",component:am},{path:"nueva-clasificacion-equipo",component:fm},{path:"nuevo-material",component:bm},{path:"nuevo-proyecto",component:Sm},{path:"clientes",component:xm},{path:"proyectos",component:Lm},{path:"materiales",component:Bm},{path:"clasificacion-equipo",component:Qm},{path:"tipo-dano",component:ng},{path:"editar-cliente/:id",component:og},{path:"editar-clasificacion-equipo/:id",component:hg},{path:"editar-materiales/:id",component:gg},{path:"editar-proyectos/:id",component:wg},{path:"editar-tipo-dano/:id",component:kg},{path:"editar-usuario/:id",component:Rg},{path:"dashboard-cobranza",component:Ug},{path:"dashboard-avisos",component:Kg},{path:"dashboard-video",component:Qg}],[]]},[]),$r(1024,md,Ud,[pl,Vc,wd,bu,ie,mt,Kt,ad,Dd,[2,cd],[2,od]]),$r(1073742336,Rd,Rd,[[2,xd],[2,md]]),$r(1073742336,$v,$v,[]),$r(1073742336,zf,zf,[]),$r(1073742336,Hf,Hf,[]),$r(1073742336,Wf,Wf,[]),$r(1073742336,Yv,Yv,[]),$r(1073742336,pu,pu,[]),$r(256,be,!0,[]),$r(256,gp,{apiKey:"AIzaSyBfXuTOWH99L2cMtsi8zPhSuFw3EzobX1I",authDomain:"tudoka-1deed.firebaseapp.com",databaseURL:"https://tudoka-1deed.firebaseio.com",projectId:"tudoka-1deed",storageBucket:"tudoka-1deed.appspot.com",messagingSenderId:"454790891606",appId:"1:454790891606:web:fffebf05557628bc"},[]),$r(256,yp,"dokaSistema",[])])});(function(){if(je)throw new Error("Cannot enable prod mode after platform setup.");Fe=!1})(),Qs().bootstrapModuleFactory(Zv).catch(function(n){return console.error(n)})},zVF4:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(n,e){if(!n)throw o(e)},o=function(n){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},u=function(n){for(var e=[],t=0,l=0;l<n.length;l++){var r=n.charCodeAt(l);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&l+1<n.length&&56320==(64512&n.charCodeAt(l+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++l)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[],r=0;r<n.length;r+=3){var i=n[r],o=r+1<n.length,u=o?n[r+1]:0,a=r+2<n.length,s=a?n[r+2]:0,c=(15&u)<<2|s>>6,h=63&s;a||(h=64,o||(c=64)),l.push(t[i>>2],t[(3&i)<<4|u>>4],t[c],t[h])}return l.join("")},encodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(u(n),e)},decodeString:function(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){for(var e=[],t=0,l=0;t<n.length;){var r=n[t++];if(r<128)e[l++]=String.fromCharCode(r);else if(r>191&&r<224){var i=n[t++];e[l++]=String.fromCharCode((31&r)<<6|63&i)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(i=n[t++]))<<12|(63&(u=n[t++]))<<6|63&n[t++])-65536;e[l++]=String.fromCharCode(55296+(o>>10)),e[l++]=String.fromCharCode(56320+(1023&o))}else{i=n[t++];var u=n[t++];e[l++]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray:function(n,e){this.init_();for(var t=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[],r=0;r<n.length;){var i=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0,u=++r<n.length?t[n.charAt(r)]:64,a=++r<n.length?t[n.charAt(r)]:64;if(++r,null==i||null==o||null==u||null==a)throw Error();l.push(i<<2|o>>4),64!=u&&(l.push(o<<4&240|u>>2),64!=a&&l.push(u<<6&192|a))}return l},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},s=function(n){try{return a.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(var t in e)e.hasOwnProperty(t)&&(n[t]=c(n[t],e[t]));return n}var h=function(){function n(){var n=this;this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return n.prototype.wrapCallback=function(n){var e=this;return function(t,l){t?e.reject(t):e.resolve(l),"function"==typeof n&&(e.promise.catch(function(){}),1===n.length?n(t):n(t,l))}},n}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(n){function e(t,l){var r=n.call(this,l)||this;return r.code=t,r.name=p,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return l.__extends(e,n),e}(Error),m=function(){function n(n,e,t){this.service=n,this.serviceName=e,this.errors=t}return n.prototype.create=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var l=e[0]||{},r=this.service+"/"+n,i=this.errors[n],o=i?function(n,e){return n.replace(g,function(n,t){var l=e[t];return null!=l?l.toString():"<"+t+"?>"})}(i,l):"Error",u=new f(r,this.serviceName+": "+o+" ("+r+")."),a=0,s=Object.keys(l);a<s.length;a++){var c=s[a];"_"!==c.slice(-1)&&(c in u&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),u[c]=l[c])}return u},n}(),g=/\{\$([^}]+)}/g;function y(n){return JSON.parse(n)}var v=function(n){var e={},t={},l={},r="";try{var i=n.split(".");e=y(s(i[0])||""),t=y(s(i[1])||""),r=i[2],l=t.d||{},delete t.d}catch(o){}return{header:e,claims:t,data:l,signature:r}},b=function(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])},_=function(n,e){return b(e,function(e,t){n[e]=t}),n},w=function(n,e,t){for(var l in n)if(e.call(t,n[l],l,n))return l},C=function(){function n(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}return n.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},n.prototype.compress_=function(n,e){e||(e=0);var t=this.W_;if("string"==typeof n)for(var l=0;l<16;l++)t[l]=n.charCodeAt(e)<<24|n.charCodeAt(e+1)<<16|n.charCodeAt(e+2)<<8|n.charCodeAt(e+3),e+=4;else for(l=0;l<16;l++)t[l]=n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3],e+=4;for(l=16;l<80;l++)t[l]=4294967295&((h=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|h>>>31);var r,i,o=this.chain_[0],u=this.chain_[1],a=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(l=0;l<80;l++){l<40?l<20?(r=s^u&(a^s),i=1518500249):(r=u^a^s,i=1859775393):l<60?(r=u&a|s&(u|a),i=2400959708):(r=u^a^s,i=3395469782);var h=(o<<5|o>>>27)+r+c+i+t[l]&4294967295;c=s,s=a,a=4294967295&(u<<30|u>>>2),u=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},n.prototype.update=function(n,e){if(null!=n){void 0===e&&(e=n.length);for(var t=e-this.blockSize,l=0,r=this.buf_,i=this.inbuf_;l<e;){if(0==i)for(;l<=t;)this.compress_(n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[i]=n.charCodeAt(l),++l,++i==this.blockSize){this.compress_(r),i=0;break}}else for(;l<e;)if(r[i]=n[l],++l,++i==this.blockSize){this.compress_(r),i=0;break}}this.inbuf_=i,this.total_+=e}},n.prototype.digest=function(){var n=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var t=this.blockSize-1;t>=56;t--)this.buf_[t]=255&e,e/=256;this.compress_(this.buf_);var l=0;for(t=0;t<5;t++)for(var r=24;r>=0;r-=8)n[l]=this.chain_[t]>>r&255,++l;return n},n}(),E=function(){function n(n,e){var t=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){n(t)}).catch(function(n){t.error(n)})}return n.prototype.next=function(n){this.forEachObserver(function(e){e.next(n)})},n.prototype.error=function(n){this.forEachObserver(function(e){e.error(n)}),this.close(n)},n.prototype.complete=function(){this.forEachObserver(function(n){n.complete()}),this.close()},n.prototype.subscribe=function(n,e,t){var l,r=this;if(void 0===n&&void 0===e&&void 0===t)throw new Error("Missing Observer.");void 0===(l=function(n,e){if("object"!=typeof n||null===n)return!1;for(var t=0,l=["next","error","complete"];t<l.length;t++){var r=l[t];if(r in n&&"function"==typeof n[r])return!0}return!1}(n)?n:{next:n,error:e,complete:t}).next&&(l.next=S),void 0===l.error&&(l.error=S),void 0===l.complete&&(l.complete=S);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?l.error(r.finalError):l.complete()}catch(n){}}),this.observers.push(l),i},n.prototype.unsubscribeOne=function(n){void 0!==this.observers&&void 0!==this.observers[n]&&(delete this.observers[n],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},n.prototype.forEachObserver=function(n){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,n)},n.prototype.sendOne=function(n,e){var t=this;this.task.then(function(){if(void 0!==t.observers&&void 0!==t.observers[n])try{e(t.observers[n])}catch(l){"undefined"!=typeof console&&console.error&&console.error(l)}})},n.prototype.close=function(n){var e=this;this.finalized||(this.finalized=!0,void 0!==n&&(this.finalError=n),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},n}();function S(){}function T(n,e,t){var l="";switch(e){case 1:l=t?"first":"First";break;case 2:l=t?"second":"Second";break;case 3:l=t?"third":"Third";break;case 4:l=t?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return n+" failed: "+l+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.Sha1=C,e.assert=i,e.assertionError=o,e.async=function(n,e){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];Promise.resolve(!0).then(function(){n.apply(void 0,t)}).catch(function(n){e&&e(n)})}},e.base64=a,e.base64Decode=s,e.base64Encode=function(n){var e=u(n);return a.encodeByteArray(e,!0)},e.clone=function(n){return _({},n)},e.contains=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.createSubscribe=function(n,e){var t=new E(n,e);return t.subscribe.bind(t)},e.decode=v,e.deepCopy=function(n){return c(void 0,n)},e.deepExtend=c,e.errorPrefix=T,e.every=function(n,e){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&!e(t,n[t]))return!1;return!0},e.extend=_,e.findKey=w,e.findValue=function(n,e,t){var l=w(n,e,t);return l&&n[l]},e.forEach=b,e.getAnyKey=function(n){for(var e in n)return e},e.getCount=function(n){var e=0;for(var t in n)e++;return e},e.getUA=d,e.getValues=function(n){var e=[],t=0;for(var l in n)e[t++]=n[l];return e},e.isAdmin=function(n){var e=v(n).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(n){for(var e in n)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isNonNullObject=function(n){return"object"==typeof n&&null!==n},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(n){var e=v(n).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(n){var e,t,l=v(n).claims,r=Math.floor((new Date).getTime()/1e3);return"object"==typeof l&&(l.hasOwnProperty("nbf")?e=l.nbf:l.hasOwnProperty("iat")&&(e=l.iat),t=l.hasOwnProperty("exp")?l.exp:e+86400),r&&e&&t&&r>=e&&r<=t},e.issuedAtTime=function(n){var e=v(n).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(n,e,t){var l={};for(var r in n)l[r]=e.call(t,n[r],r,n);return l},e.patchProperty=function(n,e,t){n[e]=t},e.querystring=function(n){var e=[];return b(n,function(n,t){Array.isArray(t)?t.forEach(function(t){e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(n){var e={};return n.replace(/^\?/,"").split("&").forEach(function(n){if(n){var t=n.split("=");e[t[0]]=t[1]}}),e},e.safeGet=function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]},e.stringLength=function(n){for(var e=0,t=0;t<n.length;t++){var l=n.charCodeAt(t);l<128?e++:l<2048?e+=2:l>=55296&&l<=56319?(e+=4,t++):e+=3}return e},e.stringToByteArray=function(n){for(var e=[],t=0,l=0;l<n.length;l++){var r=n.charCodeAt(l);if(r>=55296&&r<=56319){var o=r-55296;i(++l<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(l)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},e.stringify=function(n){return JSON.stringify(n)},e.validateArgCount=function(n,e,t,l){var r;if(l<e?r="at least "+e:l>t&&(r=0===t?"none":"no more than "+t),r)throw new Error(n+" failed: Was called with "+l+(1===l?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(n,e,t,l){if((!l||t)&&"function"!=typeof t)throw new Error(T(n,e,l)+"must be a valid function.")},e.validateContextObject=function(n,e,t,l){if((!l||t)&&("object"!=typeof t||null===t))throw new Error(T(n,e,l)+"must be a valid context object.")},e.validateNamespace=function(n,e,t,l){if((!l||t)&&"string"!=typeof t)throw new Error(T(n,e,l)+"must be a valid firebase namespace.")}}},[[0,0]]]);